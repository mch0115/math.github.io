var D_DATA = 
{"difficulty_1_3": [{"domain": ["Mathematics -> Number Theory -> Other", "Mathematics -> Algebra -> Other"], "difficulty": 2.0, "problem": "Let $s(n)$ denote the number of 1's in the binary representation of $n$. Compute $$\\frac{1}{255} \\sum_{0 \\leq n<16} 2^{n}(-1)^{s(n)}$$", "solution": "Notice that if $n<8,(-1)^{s(n)}=(-1) \\cdot(-1)^{s(n+8)}$ so the sum becomes $\\frac{1}{255}\\left(1-2^{8}\\right) \\sum_{0 \\leq n<8} 2^{n}(-1)^{s(n)}=$ 45 .", "answer": "45", "source": "HMMT_2"}, {"domain": ["Mathematics -> Discrete Mathematics -> Combinatorics"], "difficulty": 2.5, "problem": "Andrea flips a fair coin repeatedly, continuing until she either flips two heads in a row (the sequence $H H$ ) or flips tails followed by heads (the sequence $T H$ ). What is the probability that she will stop after flipping $H H$ ?", "solution": "The only way that Andrea can ever flip $H H$ is if she never flips $T$, in which case she must flip two heads immediately at the beginning. This happens with probability $\\frac{1}{4}$.", "answer": "1/4", "source": "HMMT_2"}, {"domain": ["Mathematics -> Discrete Mathematics -> Combinatorics"], "difficulty": 2.0, "problem": "A dot is marked at each vertex of a triangle $A B C$. Then, 2,3 , and 7 more dots are marked on the sides $A B, B C$, and $C A$, respectively. How many triangles have their vertices at these dots?", "solution": "Altogether there are $3+2+3+7=15$ dots, and thus $\\binom{15}{3}=455$ combinations of 3 dots. Of these combinations, $\\binom{2+2}{3}+\\binom{2+3}{3}+\\binom{2+7}{3}=4+10+84=98$ do not give triangles because they are collinear (the rest do give triangles). Thus $455-98=357$ different triangles can be formed.", "answer": "357", "source": "HMMT_2"}, {"domain": ["Mathematics -> Algebra -> Algebra -> Algebraic Expressions"], "difficulty": 2.5, "problem": "Determine the value of $$2002+\\frac{1}{2}\\left(2001+\\frac{1}{2}\\left(2000+\\cdots+\\frac{1}{2}\\left(3+\\frac{1}{2} \\cdot 2\\right)\\right) \\cdots\\right)$$", "solution": "We can show by induction that $n+\\frac{1}{2}\\left([n-1]+\\frac{1}{2}\\left(\\cdots+\\frac{1}{2} \\cdot 2\\right) \\cdots\\right)=2(n-1)$. For $n=3$ we have $3+\\frac{1}{2} \\cdot 2=4$, giving the base case, and if the result holds for $n$, then $(n+1)+\\frac{1}{2} 2(n-1)=2 n=2(n+1)-2$. Thus the claim holds, and now plug in $n=2002$. Alternate Solution: Expand the given expression as $2002+2001 / 2+2000 / 2^{2}+\\cdots+2 / 2^{2000}$. Letting $S$ denote this sum, we have $S / 2=2002 / 2+2001 / 2^{2}+\\cdots+2 / 2^{2001}$, so $S-S / 2=$ $2002-\\left(1 / 2+1 / 4+\\cdots+1 / 2^{2000}\\right)-2 / 2^{2001}=2002-\\left(1-1 / 2^{2000}\\right)-1 / 2^{2000}=2001$, so $S=4002$.", "answer": "4002", "source": "HMMT_2"}, {"domain": ["Mathematics -> Algebra -> Prealgebra -> Integers"], "difficulty": 2.0, "problem": "Find the sum of every even positive integer less than 233 not divisible by 10.", "solution": "We find the sum of all positive even integers less than 233 and then subtract all the positive integers less than 233 that are divisible by 10. $2 + 4 + \\ldots + 232 = 2(1 + 2 + \\ldots + 116) = 116 \\cdot 117 = 13572$. The sum of all positive integers less than 233 that are divisible by 10 is $10 + 20 + \\ldots + 230 = 10(1 + 2 + \\ldots + 23) = 2760$. Then our answer is $13572 - 2760 = 10812$.", "answer": "10812", "source": "HMMT_2"}, {"domain": ["Mathematics -> Algebra -> Algebra -> Polynomial Operations"], "difficulty": 2.5, "problem": "Given that three roots of $f(x) = x^{4} + ax^{2} + bx + c$ are $2, -3$, and $5$, what is the value of $a + b + c$?", "solution": "By definition, the coefficient of $x^{3}$ is negative the sum of the roots. In $f(x)$, the coefficient of $x^{3}$ is 0. Thus the sum of the roots of $f(x)$ is 0. Then the fourth root is -4. Then $f(x) = (x-2)(x+3)(x-5)(x+4)$. Notice that $f(1)$ is $1 + a + b + c$. Thus our answer is $f(1) - 1 = (1-2)(1+3)(1-5)(1+4) - 1 = 79$.", "answer": "79", "source": "HMMT_2"}, {"domain": ["Mathematics -> Applied Mathematics -> Math Word Problems"], "difficulty": 2.0, "problem": "You plan to open your own Tmall.com store, called 'Store B,' selling the same headphones and speaker set at the same list prices as Store A does. Your store sells only these two models. You plan to issue 'x RMB off 99 RMB' coupons, limited to one per order, where x is an integer greater than 0 and smaller than 99. (For example, the discount for an order of 250 RMB is x RMB, not 2x RMB). The Tmall.com '60 RMB off 299 RMB' coupon can be applied to purchases at store B and can be stacked with your 'x RMB off 99 RMB' coupon. What is the minimal number x such that Xiao Ming can spend at least 1 RMB less on either the 250 RMB pair of the headphones or the 600 RMB speakers set in your Store B than in Store A? What is the minimal number x such that Xiao Ming can spend at least 1 RMB less for buying both the 250 RMB pair of the headphones and the 600 RMB speakers set in your Store B than in Store A?", "solution": "For the headphones, Xiao Ming pays 250 - x + 49 - 60 = 239 - x RMB. For the speakers, he pays 600 - x - 60 = 540 - x RMB. To spend less on the headphones, x must satisfy 239 - x <= 219, i.e., x >= 21. To spend less on the speakers, x must satisfy 540 - x <= 490 - 1, i.e., x >= 51. For both items, the total cost is (239 - x) + (540 - x) <= 709 - 1, i.e., x >= 36. Thus, x = 21 for the headphones, and x = 36 for both items.", "answer": "21 for headphones, 36 for both items", "source": "alibaba_global_contest"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Angles"], "difficulty": 1.5, "problem": "In triangle $BCD$, $\\angle CBD=\\angle CDB$ because $BC=CD$. If $\\angle BCD=80+50+30=160$, find $\\angle CBD=\\angle CDB$.", "solution": "$\\angle CBD=\\angle CDB=10$", "answer": "10", "source": "HMMT_11"}, {"domain": ["Mathematics -> Algebra -> Prealgebra -> Simple Equations"], "difficulty": 1.5, "problem": "Solve for $2d$ if $10d + 8 = 528$.", "solution": "Since $10d + 8 = 528$, then $10d = 520$ and so $\\frac{10d}{5} = \\frac{520}{5}$ which gives $2d = 104$.", "answer": "104", "source": "cayley"}, {"domain": ["Mathematics -> Algebra -> Linear Algebra -> Linear Transformations"], "difficulty": 1.5, "problem": "What is the $y$-intercept of the line $y = x + 4$ after it is translated down 6 units?", "solution": "The line with equation $y = x + 4$ has a $y$-intercept of 4. When the line is translated 6 units downwards, all points on the line are translated 6 units down. This moves the $y$-intercept from 4 to $4 - 6 = -2$.", "answer": "-2", "source": "cayley"}, {"domain": ["Mathematics -> Algebra -> Prealgebra -> Simple Equations"], "difficulty": 1.5, "problem": "If $(pq)(qr)(rp) = 16$, what is a possible value for $pqr$?", "solution": "Since $(pq)(qr)(rp) = 16$, then $pqqrrp = 16$ or $p^2q^2r^2 = 16$. Thus, $(pqr)^2 = 16$ and so $pqr = \\pm 4$. Using the given answers, $pqr$ is positive and so $pqr = 4$.", "answer": "4", "source": "cayley"}, {"domain": ["Mathematics -> Algebra -> Intermediate Algebra -> Exponential Functions"], "difficulty": 2.0, "problem": "Which of the following is equal to $9^{4}$?", "solution": "Since $9=3 \\times 3$, then $9^{4}=(3 \\times 3)^{4}=3^{4} \\times 3^{4}=3^{8}$. Alternatively, we can note that $9^{4}=9 \\times 9 \\times 9 \\times 9=(3 \\times 3) \\times(3 \\times 3) \\times(3 \\times 3) \\times(3 \\times 3)=3^{8}$.", "answer": "3^{8}", "source": "cayley"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Polygons"], "difficulty": 2.5, "problem": "In a regular pentagon $PQRST$, what is the measure of $\\angle PRS$?", "solution": "Join $P$ to $R$. Since $PQRST$ is a regular pentagon, then $\\angle PQR = \\angle QRS = 108^{\\circ}$. Since $PQ = QR$, then $\\triangle PQR$ is isosceles with $\\angle QPR = \\angle QRP$. Since $\\angle PQR = 108^{\\circ}$, then $\\angle PQR + \\angle QPR + \\angle QRP = 180^{\\circ}$, $108^{\\circ} + 2\\angle QRP = 180^{\\circ}$, $2\\angle QRP = 72^{\\circ}$, $\\angle QRP = 36^{\\circ}$. Since $\\angle QRS = 108^{\\circ}$, then $\\angle PRS = \\angle QRS - \\angle QRP = 108^{\\circ} - 36^{\\circ} = 72^{\\circ}$.", "answer": "72^{\\circ}", "source": "cayley"}, {"domain": ["Mathematics -> Algebra -> Intermediate Algebra -> Exponential Functions"], "difficulty": 2.0, "problem": "If $x$ and $y$ are positive integers with $xy = 6$, what is the sum of all possible values of $\\frac{2^{x+y}}{2^{x-y}}$?", "solution": "Using exponent laws, the expression $\\frac{2^{x+y}}{2^{x-y}} = 2^{(x+y)-(x-y)} = 2^{2y}$. Since $x$ and $y$ are positive integers with $xy = 6$, then the possible values of $y$ are the positive divisors of 6, namely $1, 2, 3$, or 6. (These correspond to $x = 6, 3, 2, 1$.) The corresponding values of $2^{2y}$ are $2^{2} = 4, 2^{4} = 16, 2^{6} = 64$, and $2^{12} = 4096$. Therefore, the sum of the possible values of $\\frac{2^{x+y}}{2^{x-y}}$ is $4 + 16 + 64 + 4096 = 4180$.", "answer": "4180", "source": "cayley"}, {"domain": ["Mathematics -> Algebra -> Prealgebra -> Integers"], "difficulty": 1.5, "problem": "What is the value of \\((-1)^{3}+(-1)^{2}+(-1)\\)?", "solution": "Since -1 raised to an even exponent equals 1 and -1 raised to an odd exponent equals -1, then \\((-1)^{3}+(-1)^{2}+(-1)=-1+1-1=-1\\).", "answer": "-1", "source": "cayley"}, {"domain": ["Mathematics -> Algebra -> Prealgebra -> Simple Equations"], "difficulty": 2.0, "problem": "Carl and Andr\u00e9 are running a race. Carl runs at a constant speed of $x \\mathrm{~m} / \\mathrm{s}$. Andr\u00e9 runs at a constant speed of $y \\mathrm{~m} / \\mathrm{s}$. Carl starts running, and then Andr\u00e9 starts running 20 s later. After Andr\u00e9 has been running for 10 s, he catches up to Carl. What is the ratio $y: x$?", "solution": "Andr\u00e9 runs for 10 seconds at a speed of $y \\mathrm{~m} / \\mathrm{s}$. Therefore, Andr\u00e9 runs $10y \\mathrm{~m}$. Carl runs for 20 seconds before Andr\u00e9 starts to run and then 10 seconds while Andr\u00e9 is running. Thus, Carl runs for 30 seconds. Since Carl runs at a speed of $x \\mathrm{~m} / \\mathrm{s}$, then Carl runs $30x \\mathrm{~m}$. Since Andr\u00e9 and Carl run the same distance, then $30x \\mathrm{~m} = 10y \\mathrm{~m}$, which means that $\\frac{y}{x} = 3$. Thus, $y: x = 3: 1$.", "answer": "3:1", "source": "cayley"}, {"domain": ["Mathematics -> Algebra -> Prealgebra -> Simple Equations"], "difficulty": 1.5, "problem": "What is the value of $x$ if the three numbers $2, x$, and 10 have an average of $x$?", "solution": "Since the average of $2, x$ and 10 is $x$, then $\\frac{2 + x + 10}{3} = x$. Multiplying by 3, we obtain $2 + x + 10 = 3x$. Re-arranging, we obtain $x + 12 = 3x$ and then $2x = 12$ which gives $x = 6$.", "answer": "6", "source": "cayley"}, {"domain": ["Mathematics -> Algebra -> Prealgebra -> Simple Equations"], "difficulty": 1.5, "problem": "The three numbers $5, a, b$ have an average (mean) of 33. What is the average of $a$ and $b$?", "solution": "Since $5, a, b$ have an average of 33, then $\\frac{5+a+b}{3}=33$. Multiplying by 3, we obtain $5+a+b=3 \\times 33=99$, which means that $a+b=94$. The average of $a$ and $b$ is thus equal to $\\frac{a+b}{2}=\\frac{94}{2}=47$.", "answer": "47", "source": "cayley"}, {"domain": ["Mathematics -> Algebra -> Prealgebra -> Fractions"], "difficulty": 1.5, "problem": "The product \\( \\left(1-\\frac{1}{3}\\right)\\left(1-\\frac{1}{4}\\right)\\left(1-\\frac{1}{5}\\right) \\) is equal to what?", "solution": "Simplifying, \\( \\left(1-\\frac{1}{3}\\right)\\left(1-\\frac{1}{4}\\right)\\left(1-\\frac{1}{5}\\right)=\\left(\\frac{2}{3}\\right)\\left(\\frac{3}{4}\\right)\\left(\\frac{4}{5}\\right) \\). We can simplify further by dividing equal numerators and denominators to obtain a final value of \\( \\frac{2}{5} \\).", "answer": "\\frac{2}{5}", "source": "cayley"}, {"domain": ["Mathematics -> Algebra -> Prealgebra -> Simple Equations"], "difficulty": 1.5, "problem": "If $x=2018$, what is the value of the expression $x^{2}+2x-x(x+1)$?", "solution": "For any value of $x$, we have $x^{2}+2x-x(x+1)=x^{2}+2x-x^{2}-x=x$. When $x=2018$, the value of this expression is thus 2018.", "answer": "2018", "source": "cayley"}, {"domain": ["Mathematics -> Algebra -> Prealgebra -> Integers"], "difficulty": 1.5, "problem": "If Kai will celebrate his 25th birthday in March 2020, in what year was Kai born?", "solution": "Kai was born 25 years before 2020 and so was born in the year $2020 - 25 = 1995$.", "answer": "1995", "source": "cayley"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Angles"], "difficulty": 1.5, "problem": "The minute hand on a clock points at the 12. After rotating $120^{\\circ}$ clockwise, which number will it point at?", "solution": "Since there are 12 equally spaced numbers and the total angle in a complete circle is $360^{\\circ}$, then the angle between two consecutive numbers is $360^{\\circ} \\div 12=30^{\\circ}$. To rotate $120^{\\circ}$, the minute hand must move by $120^{\\circ} \\div 30^{\\circ}=4$ numbers clockwise from the 12. Therefore, the hand will be pointing at the 4.", "answer": "4", "source": "cayley"}, {"domain": ["Mathematics -> Algebra -> Prealgebra -> Simple Equations"], "difficulty": 1.0, "problem": "For what value of $k$ is the line through the points $(3,2k+1)$ and $(8,4k-5)$ parallel to the $x$-axis?", "solution": "A line segment joining two points is parallel to the $x$-axis exactly when the $y$-coordinates of the two points are equal. Here, this means that $2k+1=4k-5$ and so $6=2k$ or $k=3$. (We can check that when $k=3$, the coordinates of the points are $(3,7)$ and $(8,7)$.)", "answer": "3", "source": "cayley"}, {"domain": ["Mathematics -> Applied Mathematics -> Math Word Problems"], "difficulty": 1.5, "problem": "Matilda has a summer job delivering newspapers. She earns \\$6.00 an hour plus \\$0.25 per newspaper delivered. Matilda delivers 30 newspapers per hour. How much money will she earn during a 3-hour shift?", "solution": "During a 3-hour shift, Matilda will deliver \\( 3 \\times 30=90 \\) newspapers. Therefore, she earns a total of \\( 3 \\times \\$6.00+90 \\times \\$0.25=\\$18.00+\\$22.50=\\$40.50 \\) during her 3-hour shift.", "answer": "\\$40.50", "source": "cayley"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Angles"], "difficulty": 2.0, "problem": "Which of the following lines, when drawn together with the $x$-axis and the $y$-axis, encloses an isosceles triangle?", "solution": "Since the triangle will include the two axes, then the triangle will have a right angle. For the triangle to be isosceles, the other two angles must be $45^{\\circ}$. For a line to make an angle of $45^{\\circ}$ with both axes, it must have slope 1 or -1. Of the given possibilities, the only such line is $y=-x+4$.", "answer": "y=-x+4", "source": "cayley"}, {"domain": ["Mathematics -> Algebra -> Prealgebra -> Fractions"], "difficulty": 1.5, "problem": "Simplify $\frac{1}{2+\frac{2}{3}}$.", "solution": "Evaluating, $\frac{1}{2+\frac{2}{3}}=\frac{1}{\frac{8}{3}}=\frac{3}{8}$.", "answer": "\\frac{3}{8}", "source": "cayley"}, {"domain": ["Mathematics -> Algebra -> Prealgebra -> Simple Equations"], "difficulty": 1.5, "problem": "If \\( \\sqrt{100-x}=9 \\), what is the value of \\( x \\)?", "solution": "Since \\( \\sqrt{100-x}=9 \\), then \\( 100-x=9^{2}=81 \\), and so \\( x=100-81=19 \\).", "answer": "19", "source": "cayley"}, {"domain": ["Mathematics -> Applied Mathematics -> Statistics -> Probability -> Counting Methods -> Combinations"], "difficulty": 2.0, "problem": "Abigail chooses an integer at random from the set $\\{2,4,6,8,10\\}$. Bill chooses an integer at random from the set $\\{2,4,6,8,10\\}$. Charlie chooses an integer at random from the set $\\{2,4,6,8,10\\}$. What is the probability that the product of their three integers is not a power of 2?", "solution": "For the product of the three integers to be a power of 2, it can have no prime factors other than 2. In each of the three sets, there are 3 powers of 2 (namely, 2,4 and 8) and 2 integers that are not a power of 2 (namely, 6 and 10). The probability that each chooses a power of 2 is $\\left(\\frac{3}{5}\\right)^{3}=\\frac{27}{125}$. Therefore, the probability that the product is not a power of 2 is $1-\\frac{27}{125}=\\frac{98}{125}$.", "answer": "\\frac{98}{125}", "source": "cayley"}, {"domain": ["Mathematics -> Algebra -> Prealgebra -> Simple Equations"], "difficulty": 2.5, "problem": "In the star shown, the sum of the four integers along each straight line is to be the same. Five numbers have been entered. The five missing numbers are 19, 21, 23, 25, and 27. Which number is represented by \\( q \\)?", "solution": "Suppose that the sum of the four integers along each straight line equals \\( S \\). Then \\( S=9+p+q+7=3+p+u+15=3+q+r+11=9+u+s+11=15+s+r+7 \\). Thus, \\( 5S = (9+p+q+7)+(3+p+u+15)+(3+q+r+11)+(9+u+s+11)+(15+s+r+7) = 2p+2q+2r+2s+2u+90 \\). Since \\( p, q, r, s, \\) and \\( u \\) are the numbers 19, 21, 23, 25, and 27 in some order, then \\( p+q+r+s+u=19+21+23+25+27=115 \\) and so \\( 5S=2(115)+90=320 \\) or \\( S=64 \\). Since \\( S=64 \\), then \\( 3+p+u+15=64 \\) or \\( p+u=46 \\). Since \\( S=64 \\), then \\( 15+s+r+7=64 \\) or \\( s+r=42 \\). Therefore, \\( q=(p+q+r+s+u)-(p+u)-(s+r)=115-46-42=27 \\).", "answer": "27", "source": "cayley"}, {"domain": ["Mathematics -> Algebra -> Algebra -> Equations and Inequalities"], "difficulty": 2.5, "problem": "The point \\((p, q)\\) is on the line \\(y=\\frac{2}{5} x\\). Also, the area of the rectangle shown is 90. What is the value of \\(p\\)?", "solution": "Since \\((p, q)\\) lies on the line \\(y=\\frac{2}{5} x\\), then \\(q=\\frac{2}{5} p\\). The given rectangle has two sides on the axes, so has width \\(p\\) and height \\(q\\). Therefore, the area of the rectangle equals \\(p q=p \\cdot \\frac{2}{5} p=\\frac{2}{5} p^{2}\\). Since we are told that the area of the rectangle is 90, then \\(\\frac{2}{5} p^{2}=90\\) or \\(p^{2}=\\frac{5}{2}(90)=225\\). Since \\(p>0\\), then \\(p=\\sqrt{225}=15\\).", "answer": "15", "source": "cayley"}], "difficulty_3_5": [{"domain": ["Mathematics -> Geometry -> Plane Geometry -> Polygons"], "difficulty": 4.5, "problem": "Given a square $ABCD$ whose side length is $1$, $P$ and $Q$ are points on the sides $AB$ and $AD$. If the perimeter of $APQ$ is $2$ find the angle $PCQ$.", "solution": "\nGiven a square \\(ABCD\\) with side length \\(1\\), points \\(P\\) and \\(Q\\) are on sides \\(AB\\) and \\(AD\\) respectively. We are to find the angle \\( \\angle PCQ \\) given that the perimeter of \\( \\triangle APQ \\) is \\(2\\).\n\nLet \\( AP = x \\) and \\( AQ = y \\). Then, \\( PB = 1 - x \\) and \\( QD = 1 - y \\). We need to find \\( \\tan \\angle PCQ \\).\n\nFirst, note that:\n\\[\n\\tan \\angle PCQ = \\cot(\\angle PCB + \\angle QCD) = \\frac{1 - \\tan \\angle PCB \\tan \\angle QCD}{\\tan \\angle PCB + \\tan \\angle QCD}.\n\\]\n\nSince \\( \\tan \\angle PCB = 1 - x \\) and \\( \\tan \\angle QCD = 1 - y \\), we have:\n\\[\n\\tan \\angle PCQ = \\frac{1 - (1 - x)(1 - y)}{(1 - x) + (1 - y)} = \\frac{x + y - xy}{2 - x - y}.\n\\]\n\nGiven the perimeter condition \\( x + y + \\sqrt{x^2 + y^2} = 2 \\), we can solve for \\( \\sqrt{x^2 + y^2} \\):\n\\[\n\\sqrt{x^2 + y^2} = 2 - (x + y).\n\\]\n\nSquaring both sides, we get:\n\\[\nx^2 + y^2 = (2 - (x + y))^2 = 4 - 4(x + y) + (x + y)^2.\n\\]\n\nSimplifying, we find:\n\\[\nx^2 + y^2 = 4 - 4(x + y) + x^2 + 2xy + y^2,\n\\]\n\\[\n0 = 4 - 4(x + y) + 2xy,\n\\]\n\\[\n2(x + y) = 2 + 2xy,\n\\]\n\\[\nx + y - xy = 1.\n\\]\n\nThus:\n\\[\n\\tan \\angle PCQ = \\frac{x + y - xy}{2 - x - y} = \\frac{1}{1} = 1,\n\\]\n\\[\n\\angle PCQ = 45^\\circ.\n\\]\n\nThe answer is: \\boxed{45^\\circ}.", "answer": "45^\\circ", "source": "china_team_selection_test"}, {"domain": ["Mathematics -> Algebra -> Algebra -> Equations and Inequalities", "Mathematics -> Number Theory -> Prime Numbers"], "difficulty": 4.5, "problem": "Find all primes $p$ such that there exist positive integers $x,y$ that satisfy $x(y^2-p)+y(x^2-p)=5p$ .", "solution": "Rearrange the original equation to get \\begin{align*} 5p &= xy^2 + x^2 y - xp - yp \\\\ &= xy(x+y) -p(x+y) \\\\ &= (xy-p)(x+y) \\end{align*} Since $5p$ , $xy-p$ , and $x+y$ are all integers, $xy-p$ and $x+y$ must be a factor of $5p$ . Now there are four cases to consider.\nCase 1: and \nSince $x$ and $y$ are positive integers, $x+y \\ne 1$ , so the first case can not happen.\nCase 2: and \nRearranging the first equation results in $5xy-5 = 5p$ . By substitution, we get \\begin{align*} x+y &= 5xy - 5 \\\\ 5 &= 5xy - x - y \\\\ 25 &= 25xy - 5x - 5y. \\end{align*} Applying Simon's Favorite Factoring Trick results in \\[26 = (5x-1)(5y-1)\\] .\nFrom this equation, $5x-1$ and $5y-1$ can equal 1, 2, 13, or 26. Since no value of $x$ or $y$ work, there are no solutions, so the second case can not happen.\nCase 3: and \nRearranging the first equation results in $xy-5 = p$ . By substitution and Simon's Favorite Factoring Trick, we get \\begin{align*} xy-5 &= x+y \\\\ xy-x-y &= 5 \\\\ (x-1)(y-1) &= 6 \\end{align*} From this equation, $x-1$ and $y-1$ can equal 1, 2, 3, or 6. The ordered pairs of $(x,y)$ can be $(2,7)$ , $(7,2)$ , $(4,3)$ , or $(3,4)$ . Since $p$ is prime, $p$ can equal $7$ in this case.\nCase 4: and \nRearranging the first equation results in $xy = 2p$ . Since $x,y$ are positive integers, we can simply take the few ordered pairs $(x,y)$ that satisfy the second equation and plug the values into the first equation to check for values of $p$ .\n If $(x,y)$ is $(1,4)$ or $(4,1)$ , then $2p = 4$ , so $p = 2$ . If $(x,y)$ is $(2,3)$ or $(3,2)$ , then $2p = 6$ , so $p = 3$ . Both $2$ and $3$ are prime numbers, so both of the numbers work for $p$ .\n In summary, the values of $p$ that satisfy the original conditions are $\\boxed{2, 3, 7}$ .", "answer": "\\[\n\\boxed{2, 3, 7}\n\\]", "source": "jbmo"}, {"domain": ["Mathematics -> Number Theory -> Congruences"], "difficulty": 4.0, "problem": "Do there exist 16 three digit numbers, using only three different digits in all, so that the all numbers give different residues when divided by 16?", "solution": "Let the three different digits be $a, b, c$ .\nIf $a, b, c$ all have the same parity, then all sixteen numbers will also have the same parity. But then they can only cover at most 8 residues modulo 16, so they cannot have distinct residues by the pigeonhole principle .\nSuppose that $a, b, c$ do not all have the same parity. If two are even and one is odd, then twelve of the eighteen possible three-digit numbers formed with $a, b, c$ will be even and six will be odd. But this means that there are not enough odd numbers to fill the 8 odd residues modulo 16, so it will not be possible to select 16 three digit numbers with this property in this case.\nSimilarly, if two are odd and one is even, then twelve of the eighteen possible three-digit numbers formed with $a, b, c$ will be odd and six will be even. But this means that there are not enough even numbers to fill the 8 even residues modulo 16, so it will not be possible to select 16 three digit numbers with this property in this case.\nTherefore, we conclude that it is impossible to select 16 such numbers.", "answer": "It is impossible to select 16 such numbers.", "source": "jbmo"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Polygons", "Mathematics -> Geometry -> Plane Geometry -> Triangulations"], "difficulty": 4.5, "problem": "Let $ABCDE$ be a convex pentagon such that $AB=AE=CD=1$ , $\\angle ABC=\\angle DEA=90^\\circ$ and $BC+DE=1$ . Compute the area of the pentagon.", "solution": "Solution 1\nLet $BC = a, ED = 1 - a$ \nLet $\\angle DAC = X$ \nApplying cosine rule to $\\triangle DAC$ we get:\n$\\cos X = \\frac{AC ^ {2} + AD ^ {2} - DC ^ {2}}{ 2 \\cdot AC \\cdot AD }$ \nSubstituting $AC^{2} = 1^{2} + a^{2}, AD ^ {2} = 1^{2} + (1-a)^{2}, DC = 1$ we get:\n$\\cos^{2} X = \\frac{(1 - a - a ^ {2}) ^ {2}}{(1 + a^{2})(2 - 2a + a^{2})}$ \nFrom above, $\\sin^{2} X = 1 - \\cos^{2} X  =  \\frac{1}{(1 + a^{2})(2 - 2a + a^{2})} = \\frac{1}{AC^{2} \\cdot AD^{2}}$ \nThus, $\\sin X \\cdot AC \\cdot AD = 1$ \nSo, area of $\\triangle DAC$ = $\\frac{1}{2}\\cdot \\sin X \\cdot AC \\cdot AD = \\frac{1}{2}$ \nLet $AF$ be the altitude of $\\triangle DAC$ from $A$ .\nSo $\\frac{1}{2}\\cdot DC\\cdot AF = \\frac{1}{2}$ \nThis implies $AF = 1$ .\nSince $AFCB$ is a cyclic quadrilateral with $AB = AF$ , $\\triangle ABC$ is congruent to $\\triangle AFC$ . \nSimilarly $AEDF$ is a cyclic quadrilateral and $\\triangle AED$ is congruent to $\\triangle AFD$ .\nSo area of $\\triangle ABC$ + area of $\\triangle AED$ = area of $\\triangle ADC$ .\nThus area of pentagon $ABCD$ = area of $\\triangle ABC$ + area of $\\triangle AED$ + area of $\\triangle DAC$ = $\\frac{1}{2}+\\frac{1}{2} = 1$ \n \nBy $Kris17$ \nSolution 2\nLet $BC = x, DE = y$ . Denote the area of $\\triangle XYZ$ by $[XYZ]$ .\n$[ABC]+[AED]=\\frac{1}{2}(x+y)=\\frac{1}{2}$ \n$[ACD]$ can be found by Heron's formula .\n$AC=\\sqrt{x^2+1}$ \n$AD=\\sqrt{y^2+1}$ \nLet $AC=b, AD=c$ .\n\\begin{align*} [ACD]&=\\frac{1}{4}\\sqrt{(1+b+c)(-1+b+c)(1-b+c)(1+b-c)}\\\\ &=\\frac{1}{4}\\sqrt{((b+c)^2-1)(1-(b-c)^2)}\\\\ &=\\frac{1}{4}\\sqrt{(b+c)^2+(b-c)^2-(b^2-c^2)^2-1}\\\\ &=\\frac{1}{4}\\sqrt{2(b^2+c^2)-(b^2-c^2)^2-1}\\\\ &=\\frac{1}{4}\\sqrt{2(x^2+y^2+2)-(x^2-y^2)^2-1}\\\\ &=\\frac{1}{4}\\sqrt{2((x+y)^2-2xy+2)-(x+y)^2(x-y)^2-1}\\\\ &=\\frac{1}{4}\\sqrt{5-4xy-(x-y)^2}\\\\ &=\\frac{1}{4}\\sqrt{5-(x+y)^2}\\\\ &=\\frac{1}{2} \\end{align*} \nTotal area $=[ABC]+[AED]+[ACD]=\\frac{1}{2}+\\frac{1}{2}=1$ .\nBy durianice\nSolution 3\nConstruct $AD$ and $AC$ to partition the figure into $ABC$ , $ACD$ and $ADE$ .\nRotate $ADE$ with centre $A$ such that $AE$ coincides with $AB$ and $AD$ is mapped to $AD'$ . Hence the area of the pentagon is still preserved and it suffices to find the area of the quadrilateral $AD'CD$ .\nHence $[AD'C]$ = $\\frac{1}{2}$ ( $D'E + BC$ ) $AB$ = $\\frac{1}{2}$ \nSince $CD$ = $CD'$ , $AC$ = $AC$ and $AD$ = $AD'$ , by SSS Congruence, $ACD$ and $ACD'$ are congruent, so $[ACD]$ = $\\frac{1}{2}$ \nSo the area of pentagon $ABCDE = \\frac{1}{2} + \\frac{1}{2} = 1$ .\n- SomebodyYouUsedToKnow", "answer": "\\[ 1 \\]", "source": "jbmo"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Circles"], "difficulty": 4.5, "problem": "Let the circles $k_1$ and $k_2$ intersect at two points $A$ and $B$ , and let $t$ be a common tangent of $k_1$ and $k_2$ that touches $k_1$ and $k_2$ at $M$ and $N$ respectively. If $t\\perp AM$ and $MN=2AM$ , evaluate the angle $NMB$ .", "solution": "[asy] size(15cm,0); draw((0,0)--(0,2)--(4,2)--(4,-3)--(0,0)); draw((-1,2)--(9,2)); draw((0,0)--(2,2)); draw((2,2)--(1,1)); draw((0,0)--(4,2)); draw((0,2)--(1,1)); draw(circle((0,1),1)); draw(circle((4,-3),5)); dot((0,0)); dot((0,2)); dot((2,2)); dot((4,2)); dot((4,-3)); dot((1,1)); dot((0,1)); label(\"A\",(0,0),NW); label(\"B\",(1,1),SE); label(\"M\",(0,2),N); label(\"N\",(4,2),N); label(\"$O_1$\",(0,1),NW); label(\"$O_2$\",(4,-3),NE); label(\"$k_1$\",(-0.7,1.63),NW); label(\"$k_2$\",(7.6,0.46),NE); label(\"$t$\",(7.5,2),N); label(\"P\",(2,2),N); draw(rightanglemark((0,0),(0,2),(2,2))); draw(rightanglemark((0,2),(1,1),(2,2))); draw(rightanglemark((0,2),(4,2),(4,0))); [/asy] \nLet $O_1$ and $O_2$ be the centers of circles $k_1$ and $k_2$ respectively. Also let $P$ be the intersection of $\\overrightarrow{AB}$ and line $t$ .\nNote that $\\overline{O_1M}$ is perpendicular to $\\overline{MN}$ since $M$ is a tangent of $k_1$ . In order for $\\overline{AM}$ to be perpendicular to $\\overline{MN}$ , $A$ must be the point diametrically opposite $M$ . Note that $\\angle MBA$ is a right angle since it inscribes a diameter. By AA similarity, $\\triangle ABM\\sim\\triangle AMP$ . This gives that $\\angle BMA \\cong \\angle MPA$ .\nBy Power of a Point on point $P$ with respect to circle $k_1$ , we have that $PM^2=PB\\cdot PA$ . Using Power of a Point on point $P$ with respect to circle $k_2$ gives that $PN^2=PB\\cdot PA$ . Therefore $PM^2=PN^2$ and $PM=PN$ . Since $MN=2AM$ , $MA=MP$ . We now see that $\\triangle APM$ is a $45-45-90$ triangle. Since it is similar to $\\triangle MPA$ , $\\angle PMB \\cong \\boxed {\\angle NMB \\cong 45^{\\circ} \\cong \\frac{\\pi}{4}}$ .\nSolution by Someonenumber011\u00a0:)\n  2012 JBMO ( Problems \u2022 Resources )   Preceded\u00a0by 2011 JBMO   Followed\u00a0by 2013 JBMO    1  \u2022  2  \u2022  3  \u2022  4  \u2022  5    All JBMO Problems and Solutions ", "answer": "\\[\n\\boxed{\\frac{\\pi}{4}}\n\\]", "source": "jbmo"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Triangulations"], "difficulty": 3.5, "problem": "In triangle $A B C, A C=3 A B$. Let $A D$ bisect angle $A$ with $D$ lying on $B C$, and let $E$ be the foot of the perpendicular from $C$ to $A D$. Find $[A B D] /[C D E]$.", "solution": "By the Angle Bisector Theorem, $D C / D B=A C / A B=3$. We will show that $A D=$ $D E$. Let $C E$ intersect $A B$ at $F$. Then since $A E$ bisects angle $A, A F=A C=3 A B$, and $E F=E C$. Let $G$ be the midpoint of $B F$. Then $B G=G F$, so $G E \\| B C$. But then since $B$ is the midpoint of $A G, D$ must be the midpoint of $A E$, as desired. Then $[A B D] /[C D E]=(A D \\cdot B D) /(E D \\cdot C D)=1 / 3$.", "answer": "\\[\\frac{[ABD]}{[CDE]} = \\frac{1}{3}\\]", "source": "HMMT_2"}, {"domain": ["Mathematics -> Algebra -> Algebra -> Equations and Inequalities", "Mathematics -> Number Theory -> Congruences"], "difficulty": 4.5, "problem": "At a tennis tournament there were $2n$ boys and $n$ girls participating. Every player played every other player. The boys won $\\frac 75$ times as many matches as the girls. It is knowns that there were no draws. Find $n$ .", "solution": "The total number of games played in the tournament is $\\tfrac{3n(3n-1)}{2}.$ Since the boys won $\\tfrac75$ as many matches as the girls, the boys won $\\tfrac{7}{12}$ of all the games played, so the total number of games that a boy won is $\\tfrac{7}{12} \\cdot \\tfrac{3n(3n-1)}{2} = \\tfrac{7n(3n-1)}{8}.$ \n Since the number of games that a boy won is a whole number, $n(3n-1)$ must be a multiple of 8.  Testing each residue, we find that $n \\equiv 0,3 \\pmod{8}.$ \n For $n$ to be valid, the number of games the boys won must be less than or equal to the number of games where a boy has played.  The number of games with only girls is $\\tfrac{n(n-1)}{2},$ so the number of games where there is at least one boy playing is $\\tfrac{3n(3n-1)}{2} - \\tfrac{n(n-1)}{2}.$ This means we can write and solve the following inequality. \\begin{align*} \\frac{3n(3n-1)}{2} - \\frac{n(n-1)}{2} &\\ge \\frac{7n(3n-1)}{8} \\\\ \\frac{5n(3n-1)}{8} &\\ge \\frac{n(n-1)}{2} \\end{align*} Since $n > 0,$ we do not have to change the inequality sign when we divided by $n.$  \\begin{align*} \\frac{5(3n-1)}{4} &\\ge n-1 \\\\ \\frac{15n}{4} - \\frac54 &\\ge n-1 \\\\ \\frac{11n}{4} &\\ge \\frac14 \\\\ n &\\ge \\frac{1}{11} \\end{align*} Thus, we can confirm that all positive integers congruent to 0 or 3 modulo 8 satisfy the conditions.  In summary, $\\boxed{n \\in \\{\\mathbf{N} \\equiv 0,3 \\pmod{8}\\}}.$ ", "answer": "\\[ n \\in \\{ \\mathbf{N} \\equiv 0, 3 \\pmod{8} \\} \\]", "source": "jbmo"}, {"domain": ["Mathematics -> Applied Mathematics -> Statistics -> Probability -> Counting Methods -> Combinations"], "difficulty": 4.0, "problem": "A random number selector can only select one of the nine integers 1, 2, ..., 9, and it makes these selections with equal probability. Determine the probability that after $n$ selections ( $n>1$ ), the product of the $n$ numbers selected will be divisible by 10.", "solution": "For the product to be divisible by 10, there must be a factor of 2 and a factor of 5 in there.\nThe probability that there is no 5 is $\\left( \\frac{8}{9}\\right)^n$ .\nThe probability that there is no 2 is $\\left( \\frac{5}{9}\\right)^n$ .\nThe probability that there is neither a 2 nor 5 is $\\left( \\frac{4}{9}\\right)^n$ , which is included in both previous cases.\nThe only possibility left is getting a 2 and a 5, making the product divisible by 10.\nBy complementarity and principle of inclusion-exclusion, the probability of that is $1- \\left( \\left( \\frac{8}{9}\\right)^n + \\left( \\frac{5}{9}\\right)^n - \\left( \\frac{4}{9}\\right)^n\\right)=\\boxed{1-(8/9)^n-(5/9)^n+(4/9)^n}$ .\n \nAlternate solutions are always welcome. If you have a different, elegant solution to this problem, please add it to this page. ", "answer": "\\[ 1 - \\left( \\frac{8}{9} \\right)^n - \\left( \\frac{5}{9} \\right)^n + \\left( \\frac{4}{9} \\right)^n \\]", "source": "usamo"}, {"domain": ["Mathematics -> Discrete Mathematics -> Combinatorics"], "difficulty": 4.5, "problem": "Each lattice point with nonnegative coordinates is labeled with a nonnegative integer in such a way that the point $(0,0)$ is labeled by 0 , and for every $x, y \\geq 0$, the set of numbers labeled on the points $(x, y),(x, y+1)$, and $(x+1, y)$ is \\{n, n+1, n+2\\} for some nonnegative integer $n$. Determine, with proof, all possible labels for the point $(2000,2024)$.", "solution": "We claim the answer is all multiples of 3 from 0 to $2000+2 \\cdot 2024=6048$. First, we prove no other values are possible. Let $\\ell(x, y)$ denote the label of cell $(x, y)$. \\section*{The label is divisible by 3.} Observe that for any $x$ and $y, \\ell(x, y), \\ell(x, y+1)$, and \\ell(x+1, y)$ are all distinct mod 3 . Thus, for any $a$ and $b, \\ell(a+1, b+1)$ cannot match \\ell(a+1, b)$ or \\ell(a, b+1) \\bmod 3$, so it must be equivalent to \\ell(a, b)$ modulo 3 . Since \\ell(a, b+1), \\ell(a, b+2), \\ell(a+1, b+1)$ are all distinct \\bmod 3$, and \\ell(a+1, b+1)$ and \\ell(a, b)$ are equivalent \\bmod 3$, then \\ell(a, b), \\ell(a, b+1), \\ell(a, b+2)$ are all distinct \\bmod 3$, and thus similarly \\ell(a, b+$ $1), \\ell(a, b+2), \\ell(a, b+3)$ are all distinct \\bmod 3$, which means that \\ell(a, b+3)$ must be neither \\ell(a, b+1)$ or \\ell(a, b+2) \\bmod 3$, and thus must be equal to \\ell(a, b) \\bmod 3$. These together imply that $$\\ell(w, x) \\equiv \\ell(y, z) \\bmod 3 \\Longleftrightarrow w-x \\equiv y-z \\bmod 3$$ It follows that \\ell(2000,2024)$ must be equivalent to \\ell(0,0) \\bmod 3$, which is a multiple of 3 . \\section*{The label is at most 6048 .} Note that since \\ell(x+1, y), \\ell(x, y+1)$, and \\ell(x, y)$ are 3 consecutive numbers, \\ell(x+1, y)-\\ell(x, y)$ and \\ell(x, y+1)-\\ell(x, y)$ are both \\leq 2$. Moreover, since \\ell(x+1, y+1) \\leq \\ell(x, y)+4$, since it is also the same mod 3 , it must be at most \\ell(x, y)+3$. Thus, \\ell(2000,2000) \\leq \\ell(0,0)+3 \\cdot 2000$, and \\ell(2000,2024) \\leq \\ell(2000,2000)+2 \\cdot 24$, so \\ell(2000,2024) \\leq 6048$. \\section*{Construction.} Consider lines \\ell_{n}$ of the form $x+2 y=n$ (so $(2000,2024)$ lies on \\ell_{6048}$ ). Then any three points of the form $(x, y),(x, y+1)$, and $(x+1, y)$ lie on three consecutive lines \\ell_{n}, \\ell_{n+1}, \\ell_{n+2}$ in some order. Thus, for any $k$ which is a multiple of 3 , if we label every point on line \\ell_{i}$ with \\max (i \\bmod 3, i-k)$, any three consecutive lines \\ell_{n}, \\ell_{n+1}, \\ell_{n+2}$ will either be labelled 0,1 , and 2 in some order, or $n-k, n-k+1$, $n-k+2$, both of which consist of three consecutive numbers. Below is an example with $k=6$. \\begin{tabular}{|l|l|l|l|l|l|l|l|l|} \\hline 8 & 9 & 10 & 11 & 12 & 13 & 14 & 15 \\\\ \\hline 6 & 7 & 8 & 9 & 10 & 11 & 12 & 13 \\\\ \\hline 4 & 5 & 6 & 7 & 8 & 9 & 10 & 11 \\\\ \\hline 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 \\\\ \\hline 0 & 1 & 2 & 3 & 4 & 5 & 6 & 7 \\\\ \\hline 1 & 2 & 0 & 1 & 2 & 3 & 4 & 5 \\\\ \\hline 2 & 0 & 1 & 2 & 0 & 1 & 2 & 3 \\\\ \\hline 0 & 1 & 2 & 0 & 1 & 2 & 0 & 1 \\\\ \\hline \\end{tabular} Any such labelling is valid, and letting $k$ range from 0 to 6048 , we see $(2000,2024)$ can take any label of the form $6048-k$, which spans all such multiples of 3 . Hence the possible labels are precisely the multiples of 3 from 0 to 6048.", "answer": "The possible labels for the point $(2000, 2024)$ are precisely the multiples of 3 from 0 to 6048.", "source": "HMMT_2"}, {"domain": ["Mathematics -> Discrete Mathematics -> Combinatorics", "Mathematics -> Algebra -> Abstract Algebra -> Group Theory (related to permutations) -> Other"], "difficulty": 4.5, "problem": "Let $\\pi$ be a permutation of $\\{1,2, \\ldots, 2015\\}$. With proof, determine the maximum possible number of ordered pairs $(i, j) \\in\\{1,2, \\ldots, 2015\\}^{2}$ with $i<j$ such that $\\pi(i) \\cdot \\pi(j)>i \\cdot j$.", "solution": "Let $n=2015$. The only information we will need about $n$ is that $n>5 \\sqrt[4]{4}$. For the construction, take $\\pi$ to be the $n$-cycle defined by $\\pi(k)= \\begin{cases}k+1 & \\text { if } 1 \\leq k \\leq n-1 \\\\ 1 & \\text { if } k=n\\end{cases}$. Then $\\pi(i)>i$ for $1 \\leq i \\leq n-1$. So $\\pi(i) \\pi(j)>i j$ for at least $\\binom{n-1}{2}$ pairs $i<j$. For convenience let $z_{i}=\\frac{\\pi(i)}{i}$, so that we are trying to maximize the number of pairs $(i, j), i<j$ with $z_{i} z_{j}>1$. Notice that over any cycle $c=\\left(i_{1} i_{2} \\cdots i_{k}\\right)$ in the cycle decomposition of $\\pi$ we have $\\prod_{i \\in c} z_{i}=1$. In particular, multiplying over all such cycles gives $\\prod_{i=1}^{n} z_{i}=1$. Construct a graph $G$ on vertex set $V=[n]$ such that there is an edge between $i$ and $j$ whenever $\\pi(i) \\pi(j)>i j$. For any cycle $C=\\left(v_{1}, v_{2}, \\ldots, v_{k}\\right)$ in this graph we get $1<\\prod_{i=1}^{k} z_{v_{i}} z_{v_{i+1}}=\\prod_{v \\in C} z_{v}^{2}$. So, we get in particular that $G$ is non-Hamiltonian. By the contrapositive of Ore's theorem there are two distinct indices $u, v \\in[n]$ such that $d(u)+d(v) \\leq n-1$. The number of edges is then at most $\\binom{n-2}{2}+(n-1)=\\binom{n-1}{2}+1$. If equality is to hold, we need $G \\backslash\\{u, v\\}$ to be a complete graph. We also need $d(u)+d(v)=n-1$, with $u v$ not an edge. This implies $d(u), d(v) \\geq 1$. Since $n>5$, the pigeonhole principle gives that at least one of $u, v$ has degree at least 3. WLOG $d(u) \\geq 3$. Let $w$ be a neighbor of $v$ and let $a, b, c$ be neighbors of $u$; WLOG $w \\neq a, b$. Since $G \\backslash\\{u, v, w\\}$ is a complete graph, we can pick a Hamiltonian path in $G \\backslash\\{u, v, w\\}$ with endpoints $a, b$. Connecting $u$ to the ends of this path forms an $(n-2)$-cycle $C$. This gives us $\\prod_{x \\in C} z_{x}^{2}>1$. But we also have $z_{v} z_{w}>1$, so $1=\\prod_{i=i}^{n} z_{i}>1$, contradiction. So, $\\binom{n-1}{2}+1$ cannot be attained, and $\\binom{n-1}{2}$ is indeed the maximum number of pairs possible.", "answer": "\\[\n\\binom{2014}{2}\n\\]", "source": "HMMT_2"}, {"domain": ["Mathematics -> Discrete Mathematics -> Combinatorics", "Mathematics -> Algebra -> Algebra -> Algebraic Expressions"], "difficulty": 4.5, "problem": "For each positive integer $n$ , find the number of $n$ -digit positive integers that satisfy both of the following conditions:\n$\\bullet$ no two consecutive digits are equal, and\n$\\bullet$ the last digit is a prime.", "solution": "The answer is $\\boxed{\\frac{2}{5}\\left(9^n+(-1)^{n+1}\\right)}$ .\nSuppose $a_n$ denotes the number of $n$ -digit numbers that satisfy the condition. We claim $a_n=4\\cdot 9^{n-1}-a_{n-1}$ , with $a_1=4$ . $\\textit{Proof.}$ It is trivial to show that $a_1=4$ . Now, we can do casework on whether or not the tens digit of the $n$ -digit integer is prime. If the tens digit is prime, we can choose the digits before the units digit in $a_{n-1}$ ways and choose the units digit in $3$ ways, since it must be prime and not equal to the tens digit. Therefore, there are $3a_{n-1}$ ways in this case.\nIf the tens digit is not prime, we can use complementary counting. First, we consider the number of $(n-1)$ -digit integers that do not have consecutive digits. There are $9$ ways to choose the first digit and $9$ ways to choose the remaining digits. Thus, there are $9^{n-1}$ integers that satisfy this. Therefore, the number of those $(n-1)$ -digit integers whose units digit is not prime is $9^{n-1}-a_{n-1}$ . It is easy to see that there are $4$ ways to choose the units digit, so there are $4\\left(9^{n-1}-a_{n-1}\\right)$ numbers in this case. It follows that \\[a_n=3a_{n-1}+4\\left(9^{n-1}-a_{n-1}\\right)=4\\cdot 9^{n-1}-a_{n-1},\\] and our claim has been proven.\nThen, we can use induction to show that $a_n=\\frac{2}{5}\\left(9^n+(-1)^{n+1}\\right)$ . It is easy to see that our base case is true, as $a_1=4$ . Then, \\[a_{n+1}=4\\cdot 9^n-a_n=4\\cdot 9^n-\\frac{2}{5}\\left(9^n+(-1)^{n+1}\\right)=4\\cdot 9^n-\\frac{2}{5}\\cdot 9^n-\\frac{2}{5}(-1)^{n+1},\\] which is equal to \\[a_{n+1}=\\left(4-\\frac{2}{5}\\right)\\cdot 9^n-\\frac{2}{5}\\cdot\\frac{(-1)^{n+2}}{(-1)}=\\frac{18}{5}\\cdot 9^n+\\frac{2}{5}\\cdot(-1)^{n+2}=\\frac{2}{5}\\left(9^{n+1}+(-1)^{n+2}\\right),\\] as desired. $\\square$ \nSolution by TheUltimate123.", "answer": "\\[\n\\frac{2}{5}\\left(9^n + (-1)^{n+1}\\right)\n\\]", "source": "usajmo"}, {"domain": ["Mathematics -> Algebra -> Algebra -> Polynomial Operations", "Mathematics -> Number Theory -> Divisibility -> Other"], "difficulty": 4.5, "problem": "Find all ordered pairs $(a,b)$ of positive integers for which the numbers $\\dfrac{a^3b-1}{a+1}$ and $\\dfrac{b^3a+1}{b-1}$ are both positive integers", "solution": "Adding $1$ to both the given numbers we get:\n$\\dfrac{a^3b-1}{a+1} + 1$ is also a positive integer so we have:\n$\\dfrac{a^3b+a}{a+1}$ = $\\dfrac{a(a^2b+1)}{a+1}$ is a positive integer\n$\\implies (a+1) \\mid (a^2b+1)$  $\\implies (a+1) \\mid (((a+1) - 1)^2b+1)$  $\\implies (a+1) \\mid (b+1)$ \nSimilarly,\n$\\dfrac{b^3a+1}{b-1} + 1$ is also a positive integer so we have:\n$\\dfrac{b^3a+b}{b-1}$ = $\\dfrac{b(b^2a+1)}{b-1}$ is a positive integer\n$\\implies (b-1) | (b^2a+1)$  $\\implies (b-1) | (((b-1) + 1)^2a+1)$  $\\implies (b-1) | (a+1)$ \nCombining above $2$ results we get:\n$(b-1) | (b+1)$ \n$\\implies b=2,3$ \n$Case 1: b=2$  $\\implies a+1|3 \\implies a=2$ which is a valid solution.\n$Case 2: b=3$  $\\implies a+1|4 \\implies a=1,3$ which are valid solutions.\nThus, all solutions are: $(2,2), (1,3), (3,3)$ \n  $Kris17$ ", "answer": "\\[\n\\{(2,2), (1,3), (3,3)\\}\n\\]", "source": "jbmo"}, {"domain": ["Mathematics -> Discrete Mathematics -> Algorithms"], "difficulty": 4.5, "problem": "Philena and Nathan are playing a game. First, Nathan secretly chooses an ordered pair $(x, y)$ of positive integers such that $x \\leq 20$ and $y \\leq 23$. (Philena knows that Nathan's pair must satisfy $x \\leq 20$ and $y \\leq 23$.) The game then proceeds in rounds; in every round, Philena chooses an ordered pair $(a, b)$ of positive integers and tells it to Nathan; Nathan says YES if $x \\leq a$ and $y \\leq b$, and NO otherwise. Find, with proof, the smallest positive integer $N$ for which Philena has a strategy that guarantees she can be certain of Nathan's pair after at most $N$ rounds.", "solution": "It suffices to show the upper bound and lower bound. Upper bound. Loosen the restriction on $y$ to $y \\leq 24$. We'll reduce our remaining possibilities by binary search; first, query half the grid to end up with a $10 \\times 24$ rectangle, and then half of that to go down to $5 \\times 24$. Similarly, we can use three more queries to reduce to $5 \\times 3$. It remains to show that for a $5 \\times 3$ rectangle, we can finish in 4 queries. First, query the top left $4 \\times 2$ rectangle. If we are left with the top left $4 \\times 2$, we can binary search both coordinates with our remaining three queries. Otherwise, we can use another query to be left with either a $4 \\times 1$ or $1 \\times 3$ rectangle, and binary searching using our final two queries suffices. Lower bound. At any step in the game, there will be a set of ordered pairs consistent with all answers to Philena's questions up to that point. When Philena asks another question, each of these possibilities is consistent with only one of YES or NO. Alternatively, this means that one of the answers will leave at least half of the possibilities. Therefore, in the worst case, Nathan's chosen square will always leave at least half of the possibilities. For such a strategy to work in $N$ questions, it must be true that $\\frac{460}{2^{N}} \\leq 1$, and thus $N \\geq 9$.", "answer": "The smallest positive integer \\( N \\) for which Philena has a strategy that guarantees she can be certain of Nathan's pair after at most \\( N \\) rounds is \\( 9 \\).", "source": "HMMT_2"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Other", "Mathematics -> Algebra -> Other"], "difficulty": 4.5, "problem": "Three noncollinear points and a line $\\ell$ are given in the plane. Suppose no two of the points lie on a line parallel to $\\ell$ (or $\\ell$ itself). There are exactly $n$ lines perpendicular to $\\ell$ with the following property: the three circles with centers at the given points and tangent to the line all concur at some point. Find all possible values of $n$.", "solution": "The condition for the line is that each of the three points lies at an equal distance from the line as from some fixed point; in other words, the line is the directrix of a parabola containing the three points. Three noncollinear points in the coordinate plane determine a quadratic polynomial in $x$ unless two of the points have the same $x$-coordinate. Therefore, given the direction of the directrix, three noncollinear points determine a parabola, unless two of the points lie on a line perpendicular to the directrix. This case is ruled out by the given condition, so the answer is 1.", "answer": "1", "source": "HMMT_2"}, {"domain": ["Mathematics -> Number Theory -> Congruences"], "difficulty": 4.5, "problem": "Find, with proof, all positive integers $n$ for which $2^n + 12^n + 2011^n$ is a perfect square.", "solution": "The answer is $n=1$ , which is easily verified to be a valid integer $n$ .\nNotice that \\[2^n+12^n+2011^n\\equiv 2^n+7^n \\pmod{12}.\\] Then for $n\\geq 2$ , we have $2^n+7^n\\equiv 3,5 \\pmod{12}$ depending on the parity of $n$ . But perfect squares can only be $0,1,4,9\\pmod{12}$ , contradiction. Therefore, we are done. $\\blacksquare$ ", "answer": "\\[ n = 1 \\]", "source": "usajmo"}, {"domain": ["Mathematics -> Geometry -> Solid Geometry -> 3D Shapes"], "difficulty": 4.5, "problem": "A convex polyhedron has $n$ faces that are all congruent triangles with angles $36^{\\circ}, 72^{\\circ}$, and $72^{\\circ}$. Determine, with proof, the maximum possible value of $n$.", "solution": "Answer: 36 Solution: Consider such a polyhedron with $V$ vertices, $E$ edges, and $F=n$ faces. By Euler's formula we have $V+F=E+2$. Next, note that the number of pairs of incident faces and edges is both $2E$ and $3F$, so $2E=3F$. Now, since our polyhedron is convex, the sum of the degree measures at each vertex is strictly less than $360=36 \\cdot 10$. As all angle measures of the faces of our polyhedron are divisible by 36, the maximum degree measure at a given vertex is $36 \\cdot 9=324$. On the other hand, the total degree measure at all vertices is the total degree measure over all faces, which is $180F$. Thus we have $180F \\leq 324V$, or $10F \\leq 18V$. Putting our three conditions together, we have $$ 10F \\leq 18V=18(E+2-F)=9(2E)+36-18F=9(3F)+36-18F=9F+36 $$ Thus $F \\leq 36$. $F=36$ is attainable by taking a 9-gon antiprism with a 9-gon pyramid attached on the top and the bottom. Thus the answer is 36.", "answer": "\\[ 36 \\]", "source": "HMMT_2"}, {"domain": ["Mathematics -> Algebra -> Prealgebra -> Integers"], "difficulty": 4.0, "problem": "Nine distinct positive integers summing to 74 are put into a $3 \\times 3$ grid. Simultaneously, the number in each cell is replaced with the sum of the numbers in its adjacent cells. (Two cells are adjacent if they share an edge.) After this, exactly four of the numbers in the grid are 23. Determine, with proof, all possible numbers that could have been originally in the center of the grid.", "solution": "Suppose the initial grid is of the format shown below: $$\\left[\\begin{array}{lll} a & b & c \\\\ d & e & f \\\\ g & h & i \\end{array}\\right]$$ After the transformation, we end with $$\\left[\\begin{array}{lll} a_{n} & b_{n} & c_{n} \\\\ d_{n} & e_{n} & f_{n} \\\\ g_{n} & h_{n} & i_{n} \\end{array}\\right]=\\left[\\begin{array}{ccc} b+d & a+c+e & b+f \\\\ a+e+g & b+d+f+h & c+e+i \\\\ d+h & g+e+i & f+h \\end{array}\\right]$$ Since $d \\neq f, a_{n}=b+d \\neq b+f=c_{n}$. By symmetry, no two corners on the same side of the grid may both be 23 after the transformation. Since $c \\neq g, b_{n}=a+c+e \\neq a+e+g=d_{n}$. By symmetry, no two central-edge squares sharing a corner may both be 23 after the transformation. Assume for the sake of contradiction that $e_{n}=23$. Because $a_{n}, c_{n}, g_{n}, i_{n}<e_{n}$, none of $a_{n}, c_{n}, g_{n}, i_{n}$ can be equal to 23 . Thus, 3 of $b_{n}, d_{n}, f_{n}, h_{n}$ must be 23 . WLOG assume $b_{n}=d_{n}=f_{n}=23$. Thus is a contradiction however, as $b_{n} \\neq d_{n}$. Thus, $e_{n} \\neq 23$. This leaves the case with two corners diametrically opposite and two central edge squares diametrically opposite being 23. WLOG assume $a_{n}=b_{n}=h_{n}=i_{n}=23$. Thus, $92=4 \\cdot 23=a_{n}+b_{n}+h_{n}+i_{n}=(b+d)+(a+c+e)+(e+g+i)+(f+h)=(a+b+c+d+e+f+g+h+i)+e$. Since $a+b+c+d+e+f+g+h+i=74$, this means that $e=92-74=18$. One possible example of 18 working is $\\left[\\begin{array}{lll}4 & 16 & 2 \\\\ 6 & 18 & 7 \\\\ 1 & 17 & 3\\end{array}\\right]$. Thus the only possible value for the center is 18.", "answer": "The only possible value for the center is \\( 18 \\).", "source": "HMMT_2"}, {"domain": ["Mathematics -> Algebra -> Algebra -> Equations and Inequalities"], "difficulty": 3.5, "problem": "For any positive real numbers \\(a\\) and \\(b\\), define \\(a \\circ b=a+b+2 \\sqrt{a b}\\). Find all positive real numbers \\(x\\) such that \\(x^{2} \\circ 9x=121\\).", "solution": "Since \\(a \\circ b=(\\sqrt{a}+\\sqrt{b})^{2}\\), we have \\(x^{2} \\circ 9x=(x+3\\sqrt{x})^{2}\\). Moreover, since \\(x\\) is positive, we have \\(x+3\\sqrt{x}=11\\), and the only possible solution is that \\(\\sqrt{x}=\\frac{-3+\\sqrt{53}}{2}\\), so \\(x=\\frac{31-3\\sqrt{53}}{2}\\).", "answer": "\\frac{31-3\\sqrt{53}}{2}", "source": "HMMT_2"}, {"domain": ["Mathematics -> Number Theory -> Congruences"], "difficulty": 4.5, "problem": "For each nonnegative integer $n$ we define $A_n = 2^{3n}+3^{6n+2}+5^{6n+2}$ . Find the greatest common divisor of the numbers $A_0,A_1,\\ldots, A_{1999}$ .", "solution": "Note that $A_0 = 2^0 + 3^2 + 5^2 = 35$ , so the GCD must be a factor of 35.  The prime factorization of $35$ is $5 \\cdot 7$ , so we need to check if $5$ and $7$ are factors of the rest of the numbers.\n Note that $A_1 = 2^3 + 3^8 + 5^8$ .  Taking both sides modulo 5 yields $A_1 \\equiv 2^3 + 3^8 \\equiv 4 \\pmod{5}$ , and taking both sides modulo 7 yields $A_1 \\equiv 1 + 3^8 + 5^8 \\equiv 1+2+4 \\equiv 0 \\pmod{7}$ .  That means $5$ couldn't be the GCD, but $7$ could be the GCD.\n To confirm that $7$ is the GCD of the 2000 numbers, note that by Euler's Totient Theorem , $3^6 \\equiv 5^6 \\equiv 1 \\pmod{7}$ .  That means $3^{6n+2} \\equiv (3^6)^n \\cdot 3^2 \\equiv 2 \\pmod{7}$ and $5^{6n+2} \\equiv (5^6)^n \\cdot 5^2 \\equiv 4 \\pmod{7}$ .  Also, since $2^3 \\equiv 1 \\pmod{7}$ , we have $2^{3n} \\equiv (2^3)^n \\equiv 1 \\pmod{7}$ .  Thus, $2^{3n} + 3^{6n+2} + 5^{6n+2} \\equiv 1+2+4 \\equiv 0 \\pmod{7}$ , making $A_n$ a multiple of 7.\n In summary, the greatest common divisor of the numbers $A_0,A_1,\\ldots, A_{1999}$ is $\\boxed{7}$ .", "answer": "\\[\n7\n\\]", "source": "jbmo"}, {"domain": ["Mathematics -> Algebra -> Prealgebra -> Integers"], "difficulty": 4.0, "problem": "For positive integers $L$, let $S_{L}=\\sum_{n=1}^{L}\\lfloor n / 2\\rfloor$. Determine all $L$ for which $S_{L}$ is a square number.", "solution": "We distinguish two cases depending on the parity of $L$. Suppose first that $L=2k-1$ is odd, where $k \\geq 1$. Then $S_{L}=\\sum_{1 \\leq n \\leq 2k-1}\\left\\lfloor\\frac{n}{2}\\right\\rfloor=2 \\sum_{0 \\leq m<k} m=2 \\cdot \\frac{k(k-1)}{2}=k(k-1)$. If $k=1$, this is the square number 0. If $k>1$ then $(k-1)^{2}<k(k-1)<k^{2}$, so $k(k-1)$ is not square. Now suppose $L=2k$ is even, where $k \\geq 1$. Then $S_{L}=S_{L-1}+k=k^{2}$ is always square. Hence $S_{L}$ is square exactly when $L=\\mathbf{1}$ or $L$ is even.", "answer": "L=1 \\text{ or } L \\text{ is even}", "source": "HMMT_2"}, {"domain": ["Mathematics -> Applied Mathematics -> Word Problems -> Other"], "difficulty": 3.5, "problem": "Ken is the best sugar cube retailer in the nation. Trevor, who loves sugar, is coming over to make an order. Ken knows Trevor cannot afford more than 127 sugar cubes, but might ask for any number of cubes less than or equal to that. Ken prepares seven cups of cubes, with which he can satisfy any order Trevor might make. How many cubes are in the cup with the most sugar?", "solution": "The only way to fill seven cups to satisfy the above condition is to use a binary scheme, so the cups must contain $1,2,4,8,16,32$, and 64 cubes of sugar.", "answer": "64", "source": "HMMT_2"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Polygons", "Mathematics -> Algebra -> Prealgebra -> Integers"], "difficulty": 4.5, "problem": "Sammy has a wooden board, shaped as a rectangle with length $2^{2014}$ and height $3^{2014}$. The board is divided into a grid of unit squares. A termite starts at either the left or bottom edge of the rectangle, and walks along the gridlines by moving either to the right or upwards, until it reaches an edge opposite the one from which the termite started. The termite's path dissects the board into two parts. Sammy is surprised to find that he can still arrange the pieces to form a new rectangle not congruent to the original rectangle. This rectangle has perimeter $P$. How many possible values of $P$ are there?", "solution": "Let $R$ be the original rectangle and $R^{\\prime}$ the new rectangle which is different from $R$. We see that the perimeter of $R^{\\prime}$ depends on the possibilities for the side lengths of $R^{\\prime}$. We will prove that the dividing line must have the following characterization: starting from the lower left corner of $R$, walk to the right by distance $a$, then walk up by distance $b$, for some positive number $a$ and $b$, and repeat the two steps until one reaches the upper right corner of $R$, with the condition that the last step is a walk to the right. (The directions stated here depends on the orientation of $R$, but we can always orient $R$ so as to fit the description.) Let there be $n+1$ walks to the right and $n$ walks to the top, then we have that this division would rearrange a rectangle of dimension $(n+1) a \\times n b$ into a rectangle of dimension $n a \\times(n+1) b$. Let us first assume the above. Now, according to the problem, it suffices to find $n, a, b$ such that $(n+1) a=2^{2014}, n b=3^{2014}$ or $(n+1) a=3^{2014}, n b=2^{2014}$. This means that $n+1$ and $n$ are a power of 3 and a power of 2, whose exponents do not exceed 2014. This corresponds to finding nonnegative integers $k, l \\leq 2014$ such that $\\left|2^{k}-3^{l}\\right|=1$. The only possible pairs of $\\left(2^{k}, 3^{l}\\right)$ are $(2,1),(2,3),(3,4)$ and $(8,9)$. So there are 4 possible configurations of $R^{\\prime}$.", "answer": "There are 4 possible values of \\( P \\).", "source": "HMMT_11"}, {"domain": ["Mathematics -> Applied Mathematics -> Statistics -> Probability -> Other"], "difficulty": 4.5, "problem": "In this problem only, assume that $s_{1}=4$ and that exactly one board square, say square number $n$, is marked with an arrow. Determine all choices of $n$ that maximize the average distance in squares the first player will travel in his first two turns.", "solution": "Because expectation is linear, the average distance the first player travels in his first two turns is the average sum of two rolls of his die (which does not depend on the board configuration) plus four times the probability that he lands on the arrow on one of his first two turns. Thus we just need to maximize the probability that player 1 lands on the arrow in his first two turns. If $n \\geq 5$, player 1 cannot land on the arrow in his first turn, so he encounters the arrow with probability at most $1 / 4$. If instead $n \\leq 4$, player 1 has a $1 / 4$ chance of landing on the arrow on his first turn. If he misses, then he has a $1 / 4$ chance of hitting the arrow on his second turn provided that he is not beyond square $n$ already. The chance that player 1 's first roll left him on square $n-1$ or farther left is $(n-1) / 4$. Hence his probability of benefiting from the arrow in his first two turns is $1 / 4+(1 / 4)(n-1) / 4$, which is maximized for $n=4$, where it is greater than the value of $1 / 4$ that we get from $n \\geq 5$. Hence the answer is $n=4$.", "answer": "n=4", "source": "HMMT_2"}, {"domain": ["Mathematics -> Applied Mathematics -> Statistics -> Probability -> Counting Methods -> Combinations"], "difficulty": 3.5, "problem": "Six students taking a test sit in a row of seats with aisles only on the two sides of the row. If they finish the test at random times, what is the probability that some student will have to pass by another student to get to an aisle?", "solution": "The probability $p$ that no student will have to pass by another student to get to an aisle is the probability that the first student to leave is one of the students on the end, the next student to leave is on one of the ends of the remaining students, etc.: $p=\\frac{2}{6} \\cdot \\frac{2}{5} \\cdot \\frac{2}{4} \\cdot \\frac{2}{3}$, so the desired probability is $1-p=\\frac{43}{45}$.", "answer": "\\frac{43}{45}", "source": "HMMT_2"}, {"domain": ["Mathematics -> Applied Mathematics -> Probability -> Other"], "difficulty": 4.5, "problem": "There is a unit circle that starts out painted white. Every second, you choose uniformly at random an arc of arclength 1 of the circle and paint it a new color. You use a new color each time, and new paint covers up old paint. Let $c_{n}$ be the expected number of colors visible after $n$ seconds. Compute $\\lim _{n \\rightarrow \\infty} c_{n}$.", "solution": "Notice that colors always appear in contiguous arcs on the circle (i.e. there's never a color that appears in two disconnected arcs). So the number of distinct visible colors is equal to the number of radii that serve as boundaries between colors. Each time we place a new color, we create 2 more of these radii, but all of the previous radii have a $p=\\frac{1}{2 \\pi}$ chance of being covered up. It is well-known that, given an event that occurs with probability $p$, it takes an expected $\\frac{1}{p}$ trials for it to happen - this means that any given radii has an expected lifespan of $2 \\pi$ before it gets covered up (i.e. it remains visible for $2 \\pi$ turns on average). Thus, over the course of $n \\gg 1$ turns there are $2 n$ total radii created, each lasting an average of $2 \\pi$ turns, so there are $\\frac{4 \\pi n}{n}=4 \\pi$ radii visible on average each turn.", "answer": "\\[\n\\lim_{n \\rightarrow \\infty} c_{n} = 4\\pi\n\\]", "source": "HMMT_11"}, {"domain": ["Mathematics -> Discrete Mathematics -> Combinatorics"], "difficulty": 4.5, "problem": "Let $A, B, C, D, E$ be five points on a circle; some segments are drawn between the points so that each of the $\\binom{5}{2}=10$ pairs of points is connected by either zero or one segments. Determine the number of sets of segments that can be drawn such that: - It is possible to travel from any of the five points to any other of the five points along drawn segments. - It is possible to divide the five points into two nonempty sets $S$ and $T$ such that each segment has one endpoint in $S$ and the other endpoint in $T$.", "solution": "First we show that we can divide the five points into sets $S$ and $T$ according to the second condition in only one way. Assume that we can divide the five points into $S \\cup T$ and $S^{\\prime} \\cup T^{\\prime}$. Then, let $A=S^{\\prime} \\cap S, B=S^{\\prime} \\cap T, C=T^{\\prime} \\cap S$, and $D=T^{\\prime} \\cap T$. Since $S, T$ and $S^{\\prime}, T^{\\prime}$ partition the set of five points, $A, B, C, D$ also partition the set of five points. Now, according to the second condition, there can only be segments between $S$ and $T$ and between $S^{\\prime}$ and $T^{\\prime}$. Therefore, the only possible segments are between points in $A$ and $D$, or between points in $B$ and $C$. Since, according to the first condition, the points are all connected via segments, it must be that $A=D=\\varnothing$ or $B=C=\\varnothing$. If $A=D=\\varnothing$, then it follows that $S^{\\prime}=T$ and $T^{\\prime}=S$. Otherwise, if $B=C=\\varnothing$, then $S^{\\prime}=S$ and $T^{\\prime}=T$. In either case, $S, T$ and $S^{\\prime}, T^{\\prime}$ are the same partition of the five points, as desired. We now determine the possible sets of segments with regard to the sets $S$ and $T$. Case 1: the two sets contain 4 points and 1 point. Then, there are $\\binom{5}{1}=5$ ways to partition the points in this manner. Moreover, the 1 point (in its own set) must be connected to each of the other 4 points, and these are the only possible segments. Therefore, there is only 1 possible set of segments, which, combining with the 5 ways of choosing the sets, gives 5 possible sets of segments. Case 2: the two sets contain 3 points and 2 points. Then, there are $\\binom{5}{2}=10$ ways to partition the points in this manner. Let $S$ be the set containing 3 points and $T$ the set containing 2 points. We consider the possible degrees of the points in $T$. - If both points have degree 3, then each point must connect to all points in $S$, and the five points are connected via segments. So the number of possible sets of segments is 1. - If the points have degree 3 and 2. Then, we can swap the points in 2 ways, and, for the point with degree 2, we can choose the elements of $S$ it connects to in $\\binom{3}{2}=3$ ways. In each case, the five points are guaranteed to be connected via segments. Hence 6 ways. - If the points have degree 3 and 1. Similarly, we can swap the points in 2 ways and connect the point with degree 1 to the elements of $S$ in $\\binom{3}{1}=3$ ways. Since all five points are connected in all cases, we have 6 ways. - If both points have degree 2. Then, in order for the five points to be connected, the two points must connect to a common element of $S$. Call this common element $A$. Then, for the other two elements of $S$, each one must be connected to exactly one element of $T$. We can choose $A$ in 3 ways, and swap the correspondence between the other two elements of $S$ with the elements of $T$ in 2 ways. Hence 6 ways. - If the points have degree 2 and 1. Then, in order to cover $S$, the point with degree 2 must connect to 2 points in $S$, and the point with degree 1 to the remaining point in $S$. But then, the five points will not be connected via segments, an impossibility. - If both points have degree 1. Then, similar to the previous case, it is impossible to cover all the 3 points in $S$ with only 2 segments, a contradiction. Combining the subcases, we have $1+6+6+6=19$ possible sets of segments with regard to a partition. With 10 possible partitions, we have a total of $19 \\cdot 10=190$ possible sets of segments. Finally, combining this number with the 5 possibilities from case 1, we have a total of $5+190=195$ possibilities, as desired.", "answer": "\\[ 195 \\]", "source": "HMMT_11"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Polygons"], "difficulty": 4.0, "problem": "Mona has 12 match sticks of length 1, and she has to use them to make regular polygons, with each match being a side or a fraction of a side of a polygon, and no two matches overlapping or crossing each other. What is the smallest total area of the polygons Mona can make?", "solution": "$4 \\frac{\\sqrt{3}}{4}=\\sqrt{3}$.", "answer": "\\sqrt{3}", "source": "HMMT_2"}, {"domain": ["Mathematics -> Discrete Mathematics -> Combinatorics"], "difficulty": 4.0, "problem": "Consider a $4 \\times 4$ grid of squares. Aziraphale and Crowley play a game on this grid, alternating turns, with Aziraphale going first. On Aziraphales turn, he may color any uncolored square red, and on Crowleys turn, he may color any uncolored square blue. The game ends when all the squares are colored, and Aziraphales score is the area of the largest closed region that is entirely red. If Aziraphale wishes to maximize his score, Crowley wishes to minimize it, and both players play optimally, what will Aziraphales score be?", "solution": "We claim that the answer is 6. On Aziraphale's first two turns, it is always possible for him to take 2 adjacent squares from the central four; without loss of generality, suppose they are the squares at $(1,1)$ and $(1,2)$. If allowed, Aziraphale's next turn will be to take one of the remaining squares in the center, at which point there will be seven squares adjacent to a red square, and so Aziraphale can guarantee at least two more adjacent red squares. After that, since the number of blue squares is always at most the number of red squares, Aziraphale can guarantee another adjacent red square, making his score at least 6. If, however, Crowley does not allow Aziraphale to attain another central red square - i.e. coloring the other two central squares blue - then Aziraphale will continue to take squares from the second row, $\\operatorname{WLOG}(1,3)$. If Aziraphale is also allowed to take $(1,0)$, he will clearly attain at least 6 adjacent red squares as each red square in this row has two adjacent squares to it, and otherwise (if Crowley takes $(1,0)$), Aziraphale will take $(0,1)$ and guarantee a score of at least $4+\\frac{4}{2}=6$ as there are 4 uncolored squares adjacent to a red one. Therefore, the end score will be at least 6. We now show that this is the best possible for Aziraphale; i.e. Crowley can always limit the score to 6. Crowley can play by the following strategy: if Aziraphale colors a square in the second row, Crowley will color the square below it, if Aziraphale colors a square in the third row, Crowley will color the square above it. Otherwise, if Aziraphale colors a square in the first or fourth rows, Crowley will color an arbitrary square in the same row. It is clear that the two \"halves\" of the board cannot be connected by red squares, and so the largest contiguous red region will occur entirely in one half of the grid, but then the maximum score is $4+\\frac{4}{2}=6$. The optimal score is thus both at least 6 and at most 6, so it must be 6 as desired.", "answer": "\\[ 6 \\]", "source": "HMMT_11"}, {"domain": ["Mathematics -> Applied Mathematics -> Statistics -> Probability -> Counting Methods -> Combinations"], "difficulty": 3.5, "problem": "Alice, Bob, and Charlie each pick a 2-digit number at random. What is the probability that all of their numbers' tens' digits are different from each others' tens' digits and all of their numbers' ones digits are different from each others' ones' digits?", "solution": "$\\frac{9}{10} \\frac{8}{10} \\frac{8}{9} \\frac{7}{9}=\\frac{112}{225}$.", "answer": "\\frac{112}{225}", "source": "HMMT_2"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Circles"], "difficulty": 4.5, "problem": "A circle with center at $O$ has radius 1. Points $P$ and $Q$ outside the circle are placed such that $P Q$ passes through $O$. Tangent lines to the circle through $P$ hit the circle at $P_{1}$ and $P_{2}$, and tangent lines to the circle through $Q$ hit the circle at $Q_{1}$ and $Q_{2}$. If $\\angle P_{1} P P_{2}=45^{\\circ}$ and angle $Q_{1} Q Q_{2}=30^{\\circ}$, find the minimum possible length of arc $P_{2} Q_{2}$.", "solution": "$(45-30)^{\\circ}=\\frac{\\pi}{12}$.", "answer": "\\frac{\\pi}{12}", "source": "HMMT_2"}], "difficulty_5_7": [{"domain": ["Mathematics -> Geometry -> Plane Geometry -> Polygons"], "difficulty": 6.0, "problem": "Let $P$ be a regular $n$-gon $A_1A_2\\ldots A_n$. Find all positive integers $n$ such that for each permutation $\\sigma (1),\\sigma (2),\\ldots ,\\sigma (n)$ there exists $1\\le i,j,k\\le n$ such that the triangles $A_{i}A_{j}A_{k}$ and $A_{\\sigma (i)}A_{\\sigma (j)}A_{\\sigma (k)}$ are both acute, both right or both obtuse.", "solution": "\nLet \\( P \\) be a regular \\( n \\)-gon \\( A_1A_2\\ldots A_n \\). We aim to find all positive integers \\( n \\) such that for each permutation \\( \\sigma(1), \\sigma(2), \\ldots, \\sigma(n) \\), there exists \\( 1 \\le i, j, k \\le n \\) such that the triangles \\( A_iA_jA_k \\) and \\( A_{\\sigma(i)}A_{\\sigma(j)}A_{\\sigma(k)} \\) are both acute, both right, or both obtuse.\n\nConsider first a regular \\( 2n \\)-gon for \\( n \\ge 2 \\). Let \\( A_i \\) and \\( A_j \\) be two vertices which are diametrically opposite. If \\( A_{\\sigma(i)} \\) and \\( A_{\\sigma(j)} \\) are still diametrically opposite, then any third vertex \\( A_k \\) will work since \\( \\angle A_iA_kA_j = 90^\\circ = \\angle A_{\\sigma(i)}A_{\\sigma(k)}A_{\\sigma(j)} \\).\n\nOtherwise, let \\( A_k \\) be the vertex such that \\( A_{\\sigma(k)} \\) is diametrically opposite to \\( A_{\\sigma(i)} \\). Then \\( \\angle A_iA_kA_j = 90^\\circ = \\angle A_{\\sigma(i)}A_{\\sigma(j)}A_{\\sigma(k)} \\). Note that this is trivially true for an equilateral triangle, but it is false for a regular pentagon (consider \\( ABCDE \\) and \\( A'D'B'E'C' \\)).\n\nConsider now a regular \\( 2n+1 \\)-gon for \\( n \\ge 3 \\). Clearly, there are no right triangles. The number of obtuse triangles with a particular diagonal as the longest side is equal to the number of vertices between the endpoints of this diagonal, going the shorter way.\n\nSince there are \\( 2n+1 \\) diagonals of each length, the total number of obtuse triangles is \n\\[\n(2n+1)\\sum_{i=1}^{n-1} i = \\frac{1}{2}(n-1)n(2n+1).\n\\]\nThe total number of triangles is \n\\[\n\\binom{2n+1}{3} = \\frac{1}{3}(2n-1)n(2n+1).\n\\]\nSince \n\\[\n\\frac{\\frac{1}{2}(n-1)}{\\frac{1}{3}(2n-1)} = \\frac{1}{2} + \\frac{n-2}{4n-2} > \\frac{1}{2}\n\\]\nfor \\( n \\ge 3 \\), there are more obtuse triangles than acute ones. By the pigeonhole principle, there exist 3 vertices such that their initial and permuted positions both determine obtuse triangles.\n\nTherefore, the property holds for all \\( n \\) except \\( n = 5 \\).\n\nThe answer is: \\boxed{n \\neq 5}.", "answer": "n \\neq 5", "source": "china_national_olympiad"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Triangles -> Other", "Mathematics -> Geometry -> Plane Geometry -> Angles"], "difficulty": 6.5, "problem": "Let $ ABP, BCQ, CAR$ be three non-overlapping triangles erected outside of acute triangle $ ABC$. Let $ M$ be the midpoint of segment $ AP$. Given that $ \\angle PAB \\equal{} \\angle CQB \\equal{} 45^\\circ$, $ \\angle ABP \\equal{} \\angle QBC \\equal{} 75^\\circ$, $ \\angle RAC \\equal{} 105^\\circ$, and $ RQ^2 \\equal{} 6CM^2$, compute $ AC^2/AR^2$.\r\n\r\n[i]Zuming Feng.[/i]", "solution": "\nLet \\( ABP, BCQ, CAR \\) be three non-overlapping triangles erected outside of acute triangle \\( ABC \\). Let \\( M \\) be the midpoint of segment \\( AP \\). Given that \\( \\angle PAB = \\angle CQB = 45^\\circ \\), \\( \\angle ABP = \\angle QBC = 75^\\circ \\), \\( \\angle RAC = 105^\\circ \\), and \\( RQ^2 = 6CM^2 \\), we aim to compute \\( \\frac{AC^2}{AR^2} \\).\n\nConstruct parallelogram \\( CADP \\).\n\n**Claim:** \\( \\triangle AQR \\sim \\triangle ADC \\).\n\n**Proof:** Observe that \\( \\triangle BPA \\sim \\triangle BCQ \\), hence \\( \\triangle BAQ \\sim \\triangle BPC \\). Consequently,\n\\[\n\\frac{AQ}{AD} = \\frac{AQ}{CP} = \\frac{BP}{BA} = \\sqrt{\\frac{3}{2}} = \\frac{QR}{DC}.\n\\]\nSince \\( \\angle RAC = 105^\\circ \\) and \\( \\angle QAD = \\angle CPA + \\angle QAP = 180^\\circ - \\angle (CP, AQ) = 180^\\circ - \\angle ABP = 105^\\circ \\), we can use SSA similarity (since \\( 105^\\circ > 90^\\circ \\)) to conclude that \\( \\triangle AQR \\sim \\triangle ADC \\).\n\nThus, it follows that\n\\[\n\\frac{AC^2}{AR^2} = \\frac{2}{3}.\n\\]\n\nThe answer is: \\(\\boxed{\\frac{2}{3}}\\).", "answer": "\\frac{2}{3}", "source": "usa_team_selection_test"}, {"domain": ["Mathematics -> Applied Mathematics -> Statistics -> Probability -> Counting Methods -> Combinations", "Mathematics -> Applied Mathematics -> Statistics -> Probability -> Counting Methods -> Other"], "difficulty": 6.5, "problem": "Suppose there are $m$ problems $P_1,P_2...,P_m$ for problem $P_i$, suppose $a_i$ students answer first choice, $b_i$ secound choice, $c_i$ third choice and $d_i$ fourth choice. Since $a_i+b_i+c_i+d_i=16$ we have at least $4\\binom{4}{2}=24$ pairs with an answer in common for each problem. Since there are $m$ problems there are at least $24m$ such pairs, but on the other hand there are at most $\\binom{16}{2}=120$ such pairs. So we have that $m$ is at most $5$. Now can equality hold? since for $m=5$ we need stronger conditions (namely for every problem every choice is selected by 4 students, and every pair has a common choice for some problem) I think such construction is possible since i dont fin any other constraint. ;)", "solution": "\nSuppose there are \\( m \\) problems \\( P_1, P_2, \\ldots, P_m \\). For problem \\( P_i \\), suppose \\( a_i \\) students answer the first choice, \\( b_i \\) the second choice, \\( c_i \\) the third choice, and \\( d_i \\) the fourth choice. Given that \\( a_i + b_i + c_i + d_i = 16 \\), we aim to determine the maximum value of \\( m \\).\n\nWe start by noting that for each problem, there are at least \\( 4 \\binom{4}{2} = 24 \\) pairs of students with an answer in common. Since there are \\( m \\) problems, there are at least \\( 24m \\) such pairs.\n\nOn the other hand, the total number of pairs of students is at most \\( \\binom{16}{2} = 120 \\). Therefore, we have:\n\\[\n24m \\leq 120 \\implies m \\leq 5.\n\\]\n\nTo check if equality can hold, we need to ensure that for \\( m = 5 \\), every problem has each choice selected by exactly 4 students, and every pair of students has a common choice for some problem. This construction is possible under the given constraints.\n\nThus, the maximum value of \\( m \\) is:\n\\[\n\\boxed{5}.\n\\]", "answer": "5", "source": "china_team_selection_test"}, {"domain": ["Mathematics -> Number Theory -> Congruences"], "difficulty": 6.0, "problem": "Find all nonnegative integer solutions $(x,y,z,w)$ of the equation\\[2^x\\cdot3^y-5^z\\cdot7^w=1.\\]", "solution": "\nWe are tasked with finding all nonnegative integer solutions \\((x, y, z, w)\\) to the equation:\n\\[\n2^x \\cdot 3^y - 5^z \\cdot 7^w = 1.\n\\]\n\nFirst, we note that \\(x \\geq 1\\) because if \\(x = 0\\), the left-hand side would be a fraction, which cannot equal 1.\n\n### Case 1: \\(w = 0\\)\nThe equation simplifies to:\n\\[\n2^x \\cdot 3^y = 1 + 5^z.\n\\]\n\n- **Subcase 1.1: \\(z = 0\\)**\n  \\[\n  2^x \\cdot 3^y = 1.\n  \\]\n  This implies \\(x = 0\\) and \\(y = 0\\), but \\(x \\geq 1\\), so this is not possible.\n\n- **Subcase 1.2: \\(z = 1\\)**\n  \\[\n  2^x \\cdot 3^y = 6.\n  \\]\n  The possible solutions are \\(x = 1\\) and \\(y = 1\\).\n\n- **Subcase 1.3: \\(z \\geq 2\\)**\n  Taking modulo 4, we get:\n  \\[\n  2^x \\cdot 3^y \\equiv 1 \\pmod{4}.\n  \\]\n  Since \\(2^x \\equiv 0 \\pmod{4}\\) for \\(x \\geq 2\\), this leads to a contradiction.\n\n### Case 2: \\(w = 1\\)\nThe equation simplifies to:\n\\[\n2^x \\cdot 3^y = 1 + 7 \\cdot 5^z.\n\\]\n\n- **Subcase 2.1: \\(z = 0\\)**\n  \\[\n  2^x \\cdot 3^y = 8.\n  \\]\n  The possible solutions are \\(x = 3\\) and \\(y = 0\\).\n\n- **Subcase 2.2: \\(z = 1\\)**\n  \\[\n  2^x \\cdot 3^y = 36.\n  \\]\n  The possible solutions are \\(x = 2\\) and \\(y = 2\\).\n\n- **Subcase 2.3: \\(z \\geq 2\\)**\n  Taking modulo 8, we get:\n  \\[\n  2^x \\equiv 1 \\pmod{8}.\n  \\]\n  This implies \\(x = 0\\), which is not possible.\n\n### Case 3: \\(w \\geq 2\\)\nThe equation becomes:\n\\[\n2^x \\cdot 3^y = 1 + 5^z \\cdot 7^w.\n\\]\n\n- **Subcase 3.1: \\(y = 0\\)**\n  \\[\n  2^x = 1 + 5^z \\cdot 7^w.\n  \\]\n  Taking modulo 4, we get a contradiction for \\(x \\geq 2\\).\n\n- **Subcase 3.2: \\(y \\geq 1\\)**\n  Taking modulo 9, we get a contradiction for \\(z \\geq 2\\).\n\nThus, we have exhausted all possible cases and find the solutions to be:\n\\[\n\\boxed{(1, 1, 1, 0), (2, 2, 1, 1), (1, 0, 0, 0), (3, 0, 0, 1)}.\n\\]", "answer": "(1, 1, 1, 0), (2, 2, 1, 1), (1, 0, 0, 0), (3, 0, 0, 1)", "source": "china_national_olympiad"}, {"domain": ["Mathematics -> Discrete Mathematics -> Algorithms"], "difficulty": 6.0, "problem": "Find all functions $f\\colon \\mathbb{Z}^2 \\to [0, 1]$ such that for any integers $x$ and $y$,\n\\[f(x, y) = \\frac{f(x - 1, y) + f(x, y - 1)}{2}.\\]", "solution": "\nLet \\( f \\colon \\mathbb{Z}^2 \\to [0, 1] \\) be a function such that for any integers \\( x \\) and \\( y \\),\n\\[\nf(x, y) = \\frac{f(x - 1, y) + f(x, y - 1)}{2}.\n\\]\n\nWe will prove that the only functions satisfying this condition are constant functions.\n\nFirst, we use induction on \\( n \\) to show that\n\\[\nf(x, y) = \\frac{f(x - n, y) + \\binom{n}{1} f(x - n + 1, y - 1) + \\cdots + \\binom{n}{1} f(x - 1, y - n + 1) + f(x, y - n)}{2^n}.\n\\]\n\nNext, consider the function \\( f(x - 1, y + 1) \\):\n\\[\nf(x - 1, y + 1) = \\frac{f(x - 1 - n, y + 1) + \\binom{n}{1} f(x - n, y) + \\cdots + \\binom{n}{1} f(x - 2, y - n + 2) + f(x - 1, y + 1 - n)}{2^n}.\n\\]\n\nSubtracting these two expressions, we get:\n\\[\n2^n \\left( f(x, y) - f(x - 1, y + 1) \\right) = f(x - 1 - n, y + 1) + \\left( 1 - \\binom{n}{1} \\right) f(x - n, y) + \\left( \\binom{n}{1} - \\binom{n}{2} \\right) f(x - n + 1, y - 1) + \\cdots + \\left( \\binom{n}{1} - 1 \\right) f(x - 1, y + 1 - n) + f(x, y - n).\n\\]\n\nSince \\( f(x, y) \\in [0, 1] \\), the right-hand side is bounded by \\( \\binom{n}{\\left\\lfloor \\frac{n}{2} \\right\\rfloor} \\). Thus,\n\\[\n2^n \\left( f(x, y) - f(x - 1, y + 1) \\right) \\leq \\binom{n}{\\left\\lfloor \\frac{n}{2} \\right\\rfloor}.\n\\]\n\nFor large \\( n \\), this inequality becomes impossible because \\( 2^n \\) grows exponentially while \\( \\binom{n}{\\left\\lfloor \\frac{n}{2} \\right\\rfloor} \\) grows polynomially. Therefore, we must have \\( f(x, y) = f(x - 1, y + 1) \\).\n\nFrom the initial equation, it follows that \\( f(x, y) = f(x - n, y) = f(x, y - n) \\) for all \\( n \\). Hence, \\( f(x, y) \\) must be constant for all \\( (x, y) \\in \\mathbb{Z}^2 \\).\n\nThus, the only functions \\( f \\colon \\mathbb{Z}^2 \\to [0, 1] \\) that satisfy the given condition are constant functions. Therefore, the answer is:\n\\[\n\\boxed{f(x, y) = C \\text{ for some constant } C \\in [0, 1]}.\n\\]", "answer": "f(x, y) = C \\text{ for some constant } C \\in [0, 1]", "source": "usa_team_selection_test"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Angles"], "difficulty": 6.0, "problem": "In a right angled-triangle $ABC$, $\\angle{ACB} = 90^o$. Its incircle $O$ meets $BC$, $AC$, $AB$ at $D$,$E$,$F$ respectively. $AD$ cuts $O$ at $P$. If $\\angle{BPC} = 90^o$, prove $AE + AP = PD$.", "solution": "\nIn a right-angled triangle \\(ABC\\) with \\(\\angle ACB = 90^\\circ\\), let the incircle \\(O\\) touch \\(BC\\), \\(AC\\), and \\(AB\\) at \\(D\\), \\(E\\), and \\(F\\) respectively. Let \\(AD\\) intersect the incircle \\(O\\) at \\(P\\). Given that \\(\\angle BPC = 90^\\circ\\), we need to prove that \\(AE + AP = PD\\).\n\nTo prove this, we start by noting that in a right-angled triangle, the inradius \\(r\\) can be expressed in terms of the sides of the triangle. Specifically, if \\(a\\), \\(b\\), and \\(c\\) are the lengths of the sides opposite to \\(A\\), \\(B\\), and \\(C\\) respectively, then the inradius \\(r\\) is given by:\n\\[\nr = \\frac{a + b - c}{2}.\n\\]\n\nThe points where the incircle touches the sides of the triangle are such that \\(EC = CD = r\\). Since \\(AD\\) is the angle bisector of \\(\\angle BAC\\), we can use the Angle Bisector Theorem and properties of the incircle to find relationships between the segments.\n\nGiven that \\(\\angle BPC = 90^\\circ\\), we can use the fact that \\(P\\) lies on the circle with diameter \\(BC\\). This implies that \\(P\\) is the midpoint of the arc \\(BC\\) not containing \\(A\\).\n\nUsing the properties of the incircle and the given conditions, we have:\n\\[\nAP \\times AD = AE^2.\n\\]\n\nBy the properties of the right-angled triangle and the incircle, we can derive that:\n\\[\nAP = \\frac{(b - r)^2}{\\sqrt{b^2 + r^2}}.\n\\]\n\nUsing the cosine rule in \\(\\triangle CAP\\) and \\(\\triangle BAP\\), we can express \\(CP^2\\) and \\(BP^2\\) in terms of \\(b\\), \\(r\\), and \\(AP\\). Given that \\(\\angle BPC = 90^\\circ\\), we have:\n\\[\nBP^2 + CP^2 = a^2.\n\\]\n\nThis leads to the condition:\n\\[\nb^2 + r^2 = \\frac{(b - r)^2 (ar + b^2 + 2br - r^2)}{b^2}.\n\\]\n\nFinally, the condition \\(AE + AP = PD\\) yields:\n\\[\nb^2 + r^2 = \\frac{4br - b^2 - r^2}{b - r}.\n\\]\n\nBy substituting \\(r = \\frac{a + b - c}{2}\\) and using the Pythagorean theorem \\(a^2 + b^2 = c^2\\), we can verify that both conditions are satisfied.\n\nThus, we have shown that \\(AE + AP = PD\\).\n\nThe answer is: \\boxed{AE + AP = PD}.", "answer": "AE + AP = PD", "source": "china_national_olympiad"}, {"domain": ["Mathematics -> Number Theory -> Divisibility -> Other"], "difficulty": 6.5, "problem": "Find in explicit form all ordered pairs of positive integers $(m, n)$ such that $mn-1$ divides $m^2 + n^2$.", "solution": "\nTo find all ordered pairs of positive integers \\((m, n)\\) such that \\(mn-1\\) divides \\(m^2 + n^2\\), we start by considering the condition:\n\\[\n\\frac{m^2 + n^2}{mn - 1} = c \\quad \\text{where} \\quad c \\in \\mathbb{Z}.\n\\]\nThis implies:\n\\[\nm^2 + n^2 = c(mn - 1).\n\\]\nRewriting, we get:\n\\[\nm^2 - cmn + n^2 + c = 0.\n\\]\n\nLet \\((m, n)\\) be a solution where \\(m + n\\) is minimized. If \\((m, n)\\) is a solution, then \\((m', n)\\) must also be a solution, where:\n\\[\nm' = cn - m = \\frac{n^2 + c}{m}.\n\\]\nSince \\(m'\\) is positive, \\(cn - m > 0\\), and since \\(m'\\) is an integer, \\(cn - m \\ge 1\\).\n\nAssuming \\(m \\ne n\\) and without loss of generality, \\(m > n\\), we claim \\(n = 1\\). For contradiction, assume \\(n \\ne 1\\). Then \\(n > 1\\) implies \\(m > n > 1\\). By minimality of \\(m + n\\), we must have:\n\\[\nm + n \\le m' + n \\implies m \\le m'.\n\\]\nHowever, since \\(m > n > 1\\):\n\\[\nn(m - n) \\ge 2 \\implies mn - 2 \\ge n^2 \\implies m(mn - 2) \\ge mn^2 > n^3,\n\\]\n\\[\nn(m^2 - n^2) > 2m \\implies m^2n > 2m + n^3,\n\\]\n\\[\n2m^2n - 2m > m^2n + n^3 \\implies 2m(mn - 1) > n(m^2 + n^2) \\implies m > cn - m = m',\n\\]\na contradiction. Thus, \\(n = 1\\).\n\nFor \\(n = 1\\), we have:\n\\[\n\\frac{m^2 + 1}{m - 1} = (m + 1) + \\frac{2}{m - 1}.\n\\]\nThis is an integer if and only if \\(m - 1\\) divides 2. Hence, \\(m = 2\\) or \\(m = 3\\). Therefore, the solutions for \\(m > n\\) are \\((2, 1)\\) and \\((3, 1)\\).\n\nSince the expression is symmetric in \\(m\\) and \\(n\\), the pairs \\((m, n)\\) that satisfy \\(mn - 1 \\mid m^2 + n^2\\) are:\n\\[\n\\boxed{(2, 1), (3, 1), (1, 2), (1, 3)}.\n\\]", "answer": "(2, 1), (3, 1), (1, 2), (1, 3)", "source": "usa_team_selection_test"}, {"domain": ["Mathematics -> Algebra -> Algebra -> Polynomial Operations"], "difficulty": 6.5, "problem": "Determine if there exists a (three-variable) polynomial $P(x,y,z)$ with integer coefficients satisfying the following property: a positive integer $n$ is [i]not[/i] a perfect square if and only if there is a triple $(x,y,z)$ of positive integers such that $P(x,y,z) = n$.", "solution": "\nTo determine if there exists a three-variable polynomial \\( P(x,y,z) \\) with integer coefficients such that a positive integer \\( n \\) is not a perfect square if and only if there is a triple \\( (x,y,z) \\) of positive integers satisfying \\( P(x,y,z) = n \\), we need to construct such a polynomial explicitly.\n\nConsider the polynomial \\( P(x,y,z) = x^2 + y^2 + z^2 + 2xyz \\). We will show that this polynomial satisfies the given property.\n\n1. **If \\( n \\) is not a perfect square:**\n   Suppose \\( n \\) is not a perfect square. Then, there exist positive integers \\( x, y, z \\) such that \\( P(x,y,z) = n \\). For instance, if \\( n = 2 \\), we can choose \\( x = 1 \\), \\( y = 1 \\), and \\( z = 1 \\), giving \\( P(1,1,1) = 1^2 + 1^2 + 1^2 + 2 \\cdot 1 \\cdot 1 \\cdot 1 = 4 \\), which is not a perfect square. \n\n2. **If \\( n \\) is a perfect square:**\n   Conversely, if \\( n \\) is a perfect square, then for any positive integers \\( x, y, z \\), the expression \\( P(x,y,z) = x^2 + y^2 + z^2 + 2xyz \\) cannot equal \\( n \\). This is because the sum of squares and the product term cannot form a perfect square when summed in this manner.\n\nThus, the polynomial \\( P(x,y,z) = x^2 + y^2 + z^2 + 2xyz \\) satisfies the required property.\n\nThe answer is: \\boxed{P(x,y,z) = x^2 + y^2 + z^2 + 2xyz}.", "answer": "P(x,y,z) = x^2 + y^2 + z^2 + 2xyz", "source": "usa_team_selection_test"}, {"domain": ["Mathematics -> Number Theory -> Congruences"], "difficulty": 6.5, "problem": "The first one holds iff there is an $x_0$ s.t. $p|(2x_0+1)^2+11\\ (*)$, while the second one holds iff there is an $y_0$ s.t. $p|(2y_0+1)^2+99\\ (**)$. $(*)$ is equivalent to $-11$ being a quadratic residue $\\pmod p$, while $(**)$ is equivalent to $-99=9\\cdot(-11)$ being a quadratic residue, which is equivalent to $-11$ being a quadratic residue, and we're done.", "solution": "\nWe are given two assertions and need to prove their equivalence:\n\n1. There exists an \\( x \\in \\mathbb{Z} \\) such that \\( p \\mid (x^2 - x + 3) \\).\n2. There exists a \\( y \\in \\mathbb{Z} \\) such that \\( p \\mid (y^2 - y + 25) \\).\n\n### Proof:\nFirst, consider the first assertion:\n\\[\n\\exists x \\in \\mathbb{Z} \\text{ such that } p \\mid (x^2 - x + 3).\n\\]\nThis can be rewritten as:\n\\[\nx^2 - x + 3 = kp \\quad \\text{for some } k \\in \\mathbb{Z}.\n\\]\nCompleting the square, we get:\n\\[\nx^2 - x + 3 = \\left( x - \\frac{1}{2} \\right)^2 + \\frac{11}{4}.\n\\]\nThus, the equation becomes:\n\\[\n\\left( 2x - 1 \\right)^2 = 4kp - 11.\n\\]\nThis implies that \\(-11\\) must be a quadratic residue modulo \\( p \\), i.e., \\(\\left( \\frac{-11}{p} \\right) = 1\\).\n\nNext, consider the second assertion:\n\\[\n\\exists y \\in \\mathbb{Z} \\text{ such that } p \\mid (y^2 - y + 25).\n\\]\nThis can be rewritten as:\n\\[\ny^2 - y + 25 = lp \\quad \\text{for some } l \\in \\mathbb{Z}.\n\\]\nCompleting the square, we get:\n\\[\ny^2 - y + 25 = \\left( y - \\frac{1}{2} \\right)^2 + \\frac{99}{4}.\n\\]\nThus, the equation becomes:\n\\[\n\\left( 2y - 1 \\right)^2 = 4lp - 99.\n\\]\nThis implies that \\(-99\\) must be a quadratic residue modulo \\( p \\), i.e., \\(\\left( \\frac{-99}{p} \\right) = 1\\).\n\nSince \\(-99 = 9 \\cdot (-11)\\), we have:\n\\[\n\\left( \\frac{-99}{p} \\right) = \\left( \\frac{9}{p} \\right) \\left( \\frac{-11}{p} \\right).\n\\]\nUsing the property of quadratic residues, \\(\\left( \\frac{9}{p} \\right) = 1\\) for any \\( p \\neq 3 \\). Therefore:\n\\[\n\\left( \\frac{-99}{p} \\right) = \\left( \\frac{-11}{p} \\right).\n\\]\n\nThus, \\(-11\\) being a quadratic residue modulo \\( p \\) is equivalent to \\(-99\\) being a quadratic residue modulo \\( p \\).\n\nFinally, we verify the cases for small primes:\n- For \\( p = 2 \\), both assertions are false.\n- For \\( p = 3 \\), both assertions are true.\n- For \\( p = 5 \\), both assertions are true.\n- For \\( p = 7 \\), both assertions are false.\n- For \\( p = 11 \\), both assertions are true.\n\nHence, the proof is complete. The answer is: \\(\\boxed{\\text{Both assertions are equivalent}}\\).", "answer": "\\text{Both assertions are equivalent}", "source": "china_team_selection_test"}, {"domain": ["Mathematics -> Number Theory -> Congruences", "Mathematics -> Applied Mathematics -> Statistics -> Probability -> Counting Methods -> Other"], "difficulty": 6.5, "problem": "Find the numbers of ordered array $(x_1,...,x_{100})$ that satisfies the following conditions:\n($i$)$x_1,...,x_{100}\\in\\{1,2,..,2017\\}$;\n($ii$)$2017|x_1+...+x_{100}$;\n($iii$)$2017|x_1^2+...+x_{100}^2$.", "solution": "\nWe are asked to find the number of ordered arrays \\((x_1, x_2, \\ldots, x_{100})\\) that satisfy the following conditions:\n1. \\(x_1, x_2, \\ldots, x_{100} \\in \\{1, 2, \\ldots, 2017\\}\\),\n2. \\(2017 \\mid (x_1 + x_2 + \\cdots + x_{100})\\),\n3. \\(2017 \\mid (x_1^2 + x_2^2 + \\cdots + x_{100}^2)\\).\n\nTo solve this problem, we generalize to an arbitrary prime \\( p \\) and use a classical roots of unity filter to count the number of such tuples. Let \\(\\omega = e^{\\frac{2 \\pi i }{p}}\\) and \\(N\\) be the total number of such ordered tuples.\n\nThe key observation is that:\n\\[\n\\sum_{0 \\leq a, b \\leq p-1} \\omega^{b(x_1 + x_2 + \\cdots + x_{100}) + a (x_1^2 + x_2^2 + \\cdots + x_{100}^2)} = \n\\begin{cases} \np^2 & \\text{if } (x_1, x_2, \\ldots, x_{100}) \\text{ satisfies the conditions}, \\\\\n0 & \\text{otherwise}.\n\\end{cases}\n\\]\n\nFrom this observation, we see that:\n\\[\np^2 \\cdot N = \\sum_{(x_1, x_2, \\ldots, x_{100})} \\sum_{0 \\leq a, b \\leq p-1} \\omega^{b(x_1 + x_2 + \\cdots + x_{100}) + a (x_1^2 + x_2^2 + \\cdots + x_{100}^2)}.\n\\]\n\nSwapping the sums makes it easier to factor:\n\\[\np^2 N = \\sum_{0 \\leq a, b \\leq p-1} \\left( \\sum_{x=0}^{p-1} \\omega^{ax^2 + bx} \\right)^{100}.\n\\]\n\nWe deal with the edge case \\(a = 0\\) first. If \\(b\\) is nonzero, then \\(1 + \\omega^b + \\omega^{2b} + \\cdots + \\omega^{(p-1)b} = 0\\). On the other hand, if \\(b = 0\\), then the sum evaluates to \\(p\\).\n\nHence:\n\\[\np^2 N = p^{100} + \\sum_{\\substack{1 \\leq a \\leq p-1 \\\\ 0 \\leq b \\leq p-1}} \\left( \\sum_{x=0}^{p-1} \\omega^{ax^2 + bx} \\right)^{100}.\n\\]\n\nTo relate the inner sums to Gauss sums, we complete the square:\n\\[\np^2 N = \\sum_{b=0}^{p-1} \\sum_{a=1}^{p-1} \\omega^{\\frac{-b^2}{a}} \\left( \\sum_{x=0}^{p-1} \\omega^{a(x + \\frac{b}{2a})^2} \\right)^{100}.\n\\]\n\nSince \\(\\omega\\) is a primitive \\(p\\)th root of unity,\n\\[\n\\sum_{x=0}^{p-1} \\omega^{a(x + \\frac{b}{2a})^2} = \\sum_{x=0}^{p-1} \\omega^{ax^2}.\n\\]\n\nFor \\(a\\) not divisible by \\(p\\), define \\(G(a) = \\sum_{x=0}^{p-1} \\omega^{ax^2}\\) and denote \\(G(1)\\) by \\(G\\). We wish to compute \\(G(a)\\).\n\nClaim: \\(G(a) = \\left(\\frac{a}{p}\\right) G\\).\n\nThis follows from the properties of quadratic residues and non-residues. Since \\(G(a)\\) is raised to an even power, its sign does not matter. We need to evaluate \\(G^{100}\\).\n\nClaim: \\(G^2 = (-1)^{\\frac{p-1}{2}} p\\).\n\nThis follows from the properties of Gauss sums. Using Euler's Criterion, we conclude that \\(G^2 = (-1)^{\\frac{p-1}{2}} p\\).\n\nReturning to our expression for \\(N\\):\n\\[\np^2 N = p^{100} + \\sum_{b=0}^{p-1} \\sum_{a=1}^{p-1} \\omega^{\\frac{-b^2}{a}} G^{100}.\n\\]\n\nSince the sum over \\(a\\) for fixed \\(b\\) evaluates to zero, we conclude:\n\\[\nN = p^{98}.\n\\]\n\nThus, for \\(p = 2017\\), the number of ordered arrays \\((x_1, x_2, \\ldots, x_{100})\\) that satisfy the given conditions is:\n\\[\n\\boxed{2017^{98}}.\n\\]", "answer": "2017^{98}", "source": "china_team_selection_test"}, {"domain": ["Mathematics -> Number Theory -> Prime Numbers", "Mathematics -> Number Theory -> Congruences"], "difficulty": 6.5, "problem": "I remember seeing it at least twice on th forum, and solving it once before.. :) But you're right: it [i]is[/i] nice.\r\n\r\nSuppose WLOG that $p<q,r$. We have $p|(q^{2r}-1,q^{p-1}-1)=q^{(2r,p-1)}-1|q^2-1$. This means that either $p|q-1$ or $p|q+1$. \r\n\r\nAssume first that all our primes are odd. Then we can't possibly have $p|q-1$, because then $p|q^r+1\\equiv 2\\pmod p\\Rightarrow p=2$. We thus have $p|q+1$. From $q|r^{(2p,q-1)}-1$ and $p|q+1,p\\ne 2$ we get $q|r^2-1\\Rightarrow q|r-1$ or $r+1$. Again, we can't have $q|r-1$, so $q|r+1$. Just as above, from the equation $r|p^q+1$ and $q|r+1$ we deduce $r|p+1$. This is a contradiction: since $p,q,r>2$ and $p|q+1,q|r+1,r|p+1$, we must have $p<q<r<p$.\r\n\r\nThis means that $p=2$. If $q$ is odd, we have $r|2^q+1\\Rightarrow r|2^{(2q,r-1)}-1|2^2-1=3$ (the last divisibility takes place because $q$ is odd it cannot divide $r$, given that $q|r^2+1$). $r=3,q=5$ follows, and the only solutions $(p,q,r)$ are the cyclic permutations of $(2,5,3)$. If, on the other hand, $q=2$, then we get $r=5$, and we have the solution $(p,q,r)=(2,2,5)$ and all its cyclic permutations.", "solution": "\nFind all ordered triples of primes \\((p, q, r)\\) such that \n\\[ p \\mid q^r + 1, \\quad q \\mid r^p + 1, \\quad r \\mid p^q + 1. \\]\n\nAssume without loss of generality that \\(p < q < r\\). We start by analyzing the given conditions. \n\nFirst, consider \\(p \\mid q^r + 1\\). Since \\(p\\) is a prime and \\(p < q\\), we can write:\n\\[ p \\mid (q^r + 1, q^{p-1} - 1) = q^{\\gcd(r, p-1)} - 1. \\]\nThis implies that \\(p \\mid q^2 - 1\\), meaning \\(p \\mid (q-1)(q+1)\\). Given that \\(p\\) is a prime, it must divide either \\(q-1\\) or \\(q+1\\).\n\nNext, assume all primes are odd. If \\(p \\mid q-1\\), then \\(p \\mid q^r + 1 \\equiv 2 \\pmod{p}\\), which is a contradiction since \\(p\\) cannot be 2. Therefore, \\(p \\mid q+1\\).\n\nNow consider \\(q \\mid r^p + 1\\). Since \\(p \\mid q+1\\), we have:\n\\[ q \\mid r^{\\gcd(p, q-1)} - 1. \\]\nThis implies \\(q \\mid r^2 - 1\\), meaning \\(q \\mid (r-1)(r+1)\\). Given that \\(q\\) is a prime, it must divide either \\(r-1\\) or \\(r+1\\).\n\nIf \\(q \\mid r-1\\), then \\(q \\mid r^p + 1 \\equiv 2 \\pmod{q}\\), which is again a contradiction since \\(q\\) cannot be 2. Therefore, \\(q \\mid r+1\\).\n\nFinally, consider \\(r \\mid p^q + 1\\). Since \\(q \\mid r+1\\), we have:\n\\[ r \\mid p^{\\gcd(q, r-1)} - 1. \\]\nThis implies \\(r \\mid p^2 - 1\\), meaning \\(r \\mid (p-1)(p+1)\\). Given that \\(r\\) is a prime, it must divide either \\(p-1\\) or \\(p+1\\).\n\nIf \\(r \\mid p-1\\), then \\(r \\mid p^q + 1 \\equiv 2 \\pmod{r}\\), which is a contradiction since \\(r\\) cannot be 2. Therefore, \\(r \\mid p+1\\).\n\nSince \\(p, q, r\\) are distinct primes and \\(p < q < r\\), the only possible values are \\(p = 2\\), \\(q = 3\\), and \\(r = 5\\). We can verify that these values satisfy the original conditions:\n\\[ 2 \\mid 3^5 + 1, \\quad 3 \\mid 5^2 + 1, \\quad 5 \\mid 2^3 + 1. \\]\n\nThus, the ordered triples of primes \\((p, q, r)\\) are the cyclic permutations of \\((2, 3, 5)\\).\n\nThe answer is: \\(\\boxed{(2, 3, 5), (2, 5, 3), (3, 2, 5), (3, 5, 2), (5, 2, 3), (5, 3, 2)}\\).", "answer": "(2, 3, 5), (2, 5, 3), (3, 2, 5), (3, 5, 2), (5, 2, 3), (5, 3, 2)", "source": "usa_team_selection_test"}, {"domain": ["Mathematics -> Discrete Mathematics -> Combinatorics"], "difficulty": 6.0, "problem": "There are $10$ birds on the ground. For any $5$ of them, there are at least $4$ birds on a circle. Determine the least possible number of birds on the circle with the most birds.", "solution": "\nGiven that there are 10 birds on the ground and for any 5 of them, there are at least 4 birds on a circle, we need to determine the least possible number of birds on the circle with the most birds.\n\nTo solve this, consider the following steps:\n\n1. **Initial Assumption**: Let \\( n \\) be the number of birds on the circle with the most birds. We need to find the minimum value of \\( n \\).\n\n2. **Case Analysis**:\n   - **Case \\( n = 10 \\)**: All 10 birds are on the same circle. This trivially satisfies the condition.\n   - **Case \\( n = 9 \\)**: Suppose 9 birds are on one circle and 1 bird is outside. For any 5 birds chosen, at least 4 must be on the circle. This condition is satisfied because any set of 5 birds will include at least 4 from the circle of 9.\n   - **Case \\( n < 9 \\)**: If fewer than 9 birds are on the circle, then there are at least 2 birds outside the circle. Consider any 5 birds chosen. If 3 or more of these birds are outside the circle, then fewer than 4 birds will be on the circle, violating the given condition.\n\n3. **Conclusion**: The minimum number of birds on the circle with the most birds is 9. This ensures that for any 5 birds chosen, at least 4 will be on the circle, satisfying the condition.\n\nThus, the least possible number of birds on the circle with the most birds is:\n\\[\n\\boxed{9}\n\\]", "answer": "9", "source": "china_national_olympiad"}, {"domain": ["Mathematics -> Discrete Mathematics -> Combinatorics", "Mathematics -> Algebra -> Prealgebra -> Integers"], "difficulty": 6.0, "problem": "Given is an $n\\times n$ board, with an integer written in each grid. For each move, I can choose any grid, and add $1$ to all $2n-1$ numbers in its row and column. Find the largest $N(n)$, such that for any initial choice of integers, I can make a finite number of moves so that there are at least $N(n)$ even numbers on the board.", "solution": "\nGiven an \\( n \\times n \\) board, with an integer written in each grid, we aim to find the largest \\( N(n) \\) such that for any initial choice of integers, it is possible to make a finite number of moves so that there are at least \\( N(n) \\) even numbers on the board. Each move consists of choosing any grid and adding 1 to all \\( 2n-1 \\) numbers in its row and column.\n\nThe answer is:\n\\[\nN(n) = \\begin{cases}\nn^2 - n + 1 & \\text{if } n \\text{ is odd}, \\\\\nn^2 & \\text{if } n \\text{ is even}.\n\\end{cases}\n\\]\n\nWe will consider everything modulo 2.\n\n### Case 1: \\( n \\) is odd\nFirstly, we show that if \\( n \\) is odd, then \\( N(n) \\leq n^2 - n + 1 \\). Let \\( r_1, r_2, \\ldots, r_n \\) and \\( c_1, c_2, \\ldots, c_n \\) be the sums of numbers in the rows and columns, respectively. Notice that in each operation, all of these variables change from 0 to 1 or vice versa. Therefore, if the initial configuration is:\n\\[\n\\begin{pmatrix}\n0 & 1 & 1 & \\cdots & 1 \\\\\n0 & 0 & 0 & \\cdots & 0 \\\\\n\\vdots & \\vdots & \\vdots & \\ddots & \\vdots \\\\\n0 & 0 & 0 & \\cdots & 0\n\\end{pmatrix}\n\\]\nthen we have \\((r_1, \\ldots, r_n, c_1, \\ldots, c_n) = (0, \\ldots, 0, 0, 1, \\ldots, 1)\\). After one operation, this vector becomes \\((1, \\ldots, 1, 1, 0, \\ldots, 0)\\), and \\((0, \\ldots, 0, 0, 1, \\ldots, 1)\\) after another operation. Hence, there are at least \\( n-1 \\) odd numbers every time.\n\n### Case 2: \\( n \\) is even\nWe will show that the claimed value of \\( N(n) \\) is attainable. \n\n**Claim:** It is possible to change the parity of one cell and fix all other numbers on the board.\n\n**Proof:** By symmetry, assume this cell is the top left corner. Notice that by applying the operation to any \\( n \\) cells, none of which lie in the same row or column, the parity of these \\( n \\) cells is changed while all other numbers on the board are fixed. Call this operation \\( II \\). Denote the cell in the \\( i \\)-th row and \\( j \\)-th column by \\((i, j)\\). Now, apply operation \\( II \\) to each of the following \\( n \\)-tuples:\n\\[\n(1,1), (i,1), (1,i), \\ldots, (i-1,i-1), (i+1,i+1), \\ldots, (n,n), \\quad 2 \\leq i \\leq n.\n\\]\nThen all the cells in the first column and first row except the bottom left corner are changed while the other cells are fixed. Apply the given operation to the bottom left corner, and we are done. \\(\\blacksquare\\)\n\nNow, suppose \\( n \\) is odd. Apply the algorithm for even numbers to the bottom right \\((n-1) \\times (n-1)\\) sub-board. If the first column and first row contain fewer than \\( n-1 \\) odd numbers, then we are done. Otherwise, apply an operation to the top left corner, and we are done.\n\nThe answer is: \\(\\boxed{\\begin{cases}\nn^2 - n + 1 & \\text{if } n \\text{ is odd}, \\\\\nn^2 & \\text{if } n \\text{ is even}.\n\\end{cases}}\\).", "answer": "\\begin{cases}\nn^2 - n + 1 & \\text{if } n \\text{ is odd}, \\\\\nn^2 & \\text{if } n \\text{ is even}.\n\\end{cases}", "source": "china_national_olympiad"}, {"domain": ["Mathematics -> Number Theory -> Prime Numbers", "Mathematics -> Algebra -> Algebra -> Polynomial Operations"], "difficulty": 6.0, "problem": "Find all positive integer $ m$ if there exists prime number $ p$ such that $ n^m\\minus{}m$ can not be divided by $ p$ for any integer $ n$.", "solution": "\nWe are asked to find all positive integers \\( m \\) such that there exists a prime number \\( p \\) for which \\( n^m - m \\) is not divisible by \\( p \\) for any integer \\( n \\).\n\nWe claim that the answer is all \\( m \\neq 1 \\).\n\nFirst, consider \\( m = 1 \\). In this case, the expression becomes \\( n - 1 \\), which can clearly be a multiple of any prime \\( p \\) by choosing \\( n \\equiv 1 \\pmod{p} \\).\n\nNow, consider \\( m > 1 \\). Let \\( p \\) be an arbitrary prime factor of \\( m \\). Write \\( m = p^k l \\), where \\( \\gcd(l, p) = 1 \\). Assume that no prime \\( q \\) exists such that \\( n^m - m \\equiv 0 \\pmod{q} \\) has no solution for \\( n \\).\n\nConsider the expression \\( (p^k l)^{p-1} + (p^k l)^{p-2} + \\cdots + p^k l + 1 \\). Since the left-hand side is not congruent to \\( 1 \\pmod{p^{k+1}} \\), we can choose \\( q \\) such that \\( q \\not\\equiv 1 \\pmod{p^{k+1}} \\). We will show that this \\( q \\) leads to a contradiction.\n\nFirst, note that the remainder of \\( m^{p-1} + m^{p-2} + \\cdots + 1 \\) when divided by \\( m - 1 \\) is \\( p \\), which is relatively prime to \\( m - 1 = p^k l - 1 \\). Thus, \\( \\gcd(q, m - 1) = 1 \\), so \\( m \\not\\equiv 1 \\pmod{q} \\).\n\nSince \\( n^m \\equiv m \\pmod{q} \\), we have \\( n^{p^k l} \\equiv p^k l \\pmod{q} \\), so \\( n^{p^{k+1} l} \\equiv (p^k l)^p \\equiv 1 \\pmod{q} \\). Let the order of \\( n \\pmod{q} \\) be \\( x \\). This means \\( x \\mid p^{k+1} l \\). However, since \\( n^{p^k l} \\equiv p^k l \\pmod{q} \\), which is not congruent to \\( 1 \\pmod{q} \\), we have that \\( x \\) is not a factor of \\( p^k l \\), so \\( p^{k+1} \\mid x \\mid (q - 1) \\), implying \\( q \\equiv 1 \\pmod{p^{k+1}} \\), which is a contradiction.\n\nThus, there exists a prime \\( q \\) such that \\( q \\) is not a factor of \\( n^m - m \\) for all integers \\( n \\).\n\nThe answer is: \\boxed{m \\neq 1}.", "answer": "m \\neq 1", "source": "china_team_selection_test"}, {"domain": ["Mathematics -> Algebra -> Algebra -> Algebraic Expressions", "Mathematics -> Algebra -> Intermediate Algebra -> Other"], "difficulty": 6.0, "problem": "Determine the greatest real number $ C $, such that for every positive integer $ n\\ge 2 $, there exists $ x_1, x_2,..., x_n  \\in [-1,1]$, so that\n$$\\prod_{1\\le i<j\\le n}(x_i-x_j) \\ge C^{\\frac{n(n-1)}{2}}$$.", "solution": "\nTo determine the greatest real number \\( C \\) such that for every positive integer \\( n \\geq 2 \\), there exist \\( x_1, x_2, \\ldots, x_n \\in [-1, 1] \\) satisfying\n\\[\n\\prod_{1 \\le i < j \\le n} (x_i - x_j) \\geq C^{\\frac{n(n-1)}{2}},\n\\]\nwe consider the example where \\( x_i = \\cos\\left(\\frac{i\\pi}{n}\\right) \\) for \\( i = 1, 2, \\ldots, n \\).\n\nFor this choice, the product \\( \\prod_{1 \\le i < j \\le n} (x_i - x_j) \\) can be analyzed using properties of Chebyshev polynomials. Specifically, the roots of the Chebyshev polynomial of degree \\( n \\) are given by \\( \\cos\\left(\\frac{(2k-1)\\pi}{2n}\\right) \\) for \\( k = 1, 2, \\ldots, n \\). The difference between any two such roots can be expressed in terms of sine functions:\n\\[\nx_j - x_i = 2 \\sin\\left(\\frac{(i-j)\\pi}{2n}\\right) \\sin\\left(\\frac{(i+j)\\pi}{2n}\\right).\n\\]\n\nThe logarithm of the product of these differences can be approximated by considering the average value of \\( \\ln \\left| \\sin(x) \\right| \\) over the interval \\( [0, 2\\pi] \\), which is \\( \\ln \\left(\\frac{1}{2}\\right) \\).\n\nThus, the product \\( \\prod_{1 \\le i < j \\le n} (x_i - x_j) \\) is approximately \\( \\left(\\frac{1}{2}\\right)^{\\frac{n(n-1)}{2}} \\).\n\nTherefore, the greatest real number \\( C \\) satisfying the given inequality for all \\( n \\geq 2 \\) is \\( \\frac{1}{2} \\).\n\nThe answer is: \\boxed{\\frac{1}{2}}.", "answer": "\\frac{1}{2}", "source": "china_team_selection_test"}, {"domain": ["Mathematics -> Precalculus -> Functions", "Mathematics -> Algebra -> Abstract Algebra -> Group Theory"], "difficulty": 5.5, "problem": "Find all functions $f: \\mathbb{Z}^+\\rightarrow \\mathbb{Z}^+$ such that for all positive integers $m,n$ with $m\\ge n$, $$f(m\\varphi(n^3)) = f(m)\\cdot \\varphi(n^3).$$\nHere $\\varphi(n)$ denotes the number of positive integers coprime to $n$ and not exceeding $n$.", "solution": "\nLet \\( f: \\mathbb{Z}^+ \\rightarrow \\mathbb{Z}^+ \\) be a function such that for all positive integers \\( m \\) and \\( n \\) with \\( m \\ge n \\), the following holds:\n\\[\nf(m \\varphi(n^3)) = f(m) \\cdot \\varphi(n^3),\n\\]\nwhere \\( \\varphi(n) \\) denotes the Euler's totient function, which counts the number of positive integers up to \\( n \\) that are coprime to \\( n \\).\n\nWe start by examining the implications of the given functional equation for specific values of \\( n \\).\n\n1. **Case \\( n = 2 \\):**\n   \\[\n   f(4m) = 4f(m).\n   \\]\n\n2. **Case \\( n = 2^2 = 4 \\):**\n   \\[\n   f(32m) = 32f(m).\n   \\]\n   Since \\( f(32m) = 4f(8m) = 16f(2m) = 32f(m) \\), it follows that \\( f(2m) = 2f(m) \\).\n\n3. **Case \\( n = 3 \\):**\n   \\[\n   f(18m) = 18f(m) \\implies f(9m) = 9f(m).\n   \\]\n\n4. **Case \\( n = 3^2 = 9 \\):**\n   \\[\n   f(m \\cdot 2 \\cdot 3^5) = 2 \\cdot 3^5 \\cdot f(m) \\implies f(m \\cdot 3^5) = 3^5 \\cdot f(m).\n   \\]\n   Since \\( f(9m) = 9f(m) \\), it follows that \\( f(3m) = 3f(m) \\).\n\nBy induction, we can generalize that for any prime \\( p \\) and positive integer \\( m \\):\n\\[\nf(mp^k) = p^k f(m).\n\\]\n\nUsing this pattern, we assume \\( f(m) = km \\) for some constant \\( k \\in \\mathbb{Z}^+ \\). We verify this by substituting back into the original functional equation:\n\\[\nf(m \\varphi(n^3)) = k(m \\varphi(n^3)) = k m \\varphi(n^3) = f(m) \\cdot \\varphi(n^3).\n\\]\n\nThus, the function \\( f \\) that satisfies the given condition is:\n\\[\nf(m) = km \\text{ for any positive integer constant } k.\n\\]\n\nThe answer is: \\boxed{f(m) = km \\text{ for any positive integer constant } k.}", "answer": "f(m) = km \\text{ for any positive integer constant } k.", "source": "china_team_selection_test"}, {"domain": ["Mathematics -> Discrete Mathematics -> Graph Theory"], "difficulty": 6.5, "problem": "Fix positive integers $k,n$. A candy vending machine has many different colours of candy, where there are $2n$ candies of each colour. A couple of kids each buys from the vending machine $2$ candies of different colours. Given that for any $k+1$ kids there are two kids who have at least one colour of candy in common, find the maximum number of kids.", "solution": "\nFix positive integers \\( k \\) and \\( n \\). Consider a candy vending machine that has many different colors of candy, with \\( 2n \\) candies of each color. A couple of kids each buys from the vending machine 2 candies of different colors. We are to find the maximum number of kids such that for any \\( k+1 \\) kids, there are two kids who have at least one color of candy in common.\n\nWe can model this problem using graph theory. Let each kid be represented by a vertex, and draw an edge between two vertices if the corresponding kids share a color of candy. The problem then reduces to finding the maximum number of vertices in a graph such that any \\( k+1 \\) vertices have at least one edge connecting them.\n\nThis is equivalent to finding the maximum number of vertices in a graph where the largest independent set has size \\( k \\). By Tur\u00e1n's theorem, the maximum number of vertices in such a graph is given by the Tur\u00e1n number \\( T(n, k+1) \\), which is the maximum number of edges in a \\( k \\)-partite graph with \\( n \\) vertices in each part.\n\nThe answer is \\( n(3k) \\).\n\nThus, the maximum number of kids is:\n\\[\n\\boxed{n(3k)}\n\\]", "answer": "n(3k)", "source": "china_team_selection_test"}, {"domain": ["Mathematics -> Number Theory -> Divisibility -> Other", "Mathematics -> Discrete Mathematics -> Combinatorics"], "difficulty": 5.0, "problem": "Find the smallest positive integer $ K$ such that every $ K$-element subset of $ \\{1,2,...,50 \\}$ contains two distinct elements $ a,b$ such that $ a\\plus{}b$ divides $ ab$.", "solution": "\nTo find the smallest positive integer \\( K \\) such that every \\( K \\)-element subset of \\( \\{1, 2, \\ldots, 50\\} \\) contains two distinct elements \\( a \\) and \\( b \\) such that \\( a + b \\) divides \\( ab \\), we need to analyze the properties of the set and the divisibility condition.\n\nConsider the set \\( \\{1, 2, \\ldots, 50\\} \\). We need to ensure that in any subset of size \\( K \\), there exist two elements \\( a \\) and \\( b \\) such that \\( a + b \\mid ab \\).\n\nFirst, observe that if \\( a \\) and \\( b \\) are both even, then \\( a + b \\) is even and \\( ab \\) is even, so \\( a + b \\) divides \\( ab \\). Similarly, if \\( a \\) and \\( b \\) are both odd, then \\( a + b \\) is even and \\( ab \\) is odd, so \\( a + b \\) does not necessarily divide \\( ab \\).\n\nTo ensure that \\( a + b \\mid ab \\) for any subset of size \\( K \\), we need to consider the worst-case scenario where no two elements \\( a \\) and \\( b \\) satisfy the condition. This happens when the subset contains numbers that do not pair well under the given condition.\n\nBy the Pigeonhole Principle, if we have more than 25 elements in the subset, there must be at least one pair of elements \\( a \\) and \\( b \\) such that \\( a + b \\) divides \\( ab \\), because there are only 25 possible sums \\( a + b \\) that are less than or equal to 50.\n\nTherefore, the smallest positive integer \\( K \\) such that every \\( K \\)-element subset of \\( \\{1, 2, \\ldots, 50\\} \\) contains two distinct elements \\( a \\) and \\( b \\) such that \\( a + b \\) divides \\( ab \\) is:\n\nThe answer is: \\(\\boxed{26}\\).", "answer": "26", "source": "china_national_olympiad"}, {"domain": ["Mathematics -> Algebra -> Abstract Algebra -> Functional Equations -> Other"], "difficulty": 6.0, "problem": "Let $\\mathbb{N}$ denote the set of positive integers. Find all functions $f: \\mathbb{N} \\to \\mathbb{N}$ such that \\[ f(m+n)f(m-n) = f(m^2)  \\] for $m,n \\in \\mathbb{N}$.", "solution": "\nLet \\(\\mathbb{N}\\) denote the set of positive integers. We aim to find all functions \\( f: \\mathbb{N} \\to \\mathbb{N} \\) such that\n\\[\nf(m+n)f(m-n) = f(m^2)\n\\]\nfor \\( m, n \\in \\mathbb{N} \\).\n\nFirst, consider the case when \\( m = n \\):\n\\[\nf(2m)f(0) = f(m^2).\n\\]\nSince \\( f \\) maps positive integers to positive integers, \\( f(0) \\) is not defined in \\(\\mathbb{N}\\). Thus, we need to consider other values of \\( m \\) and \\( n \\).\n\nLet \\( m = 1 \\) and \\( n = 1 \\):\n\\[\nf(2)f(0) = f(1).\n\\]\nAgain, \\( f(0) \\) is not defined. We need to consider a different approach.\n\nLet \\( m = 2 \\) and \\( n = 1 \\):\n\\[\nf(3)f(1) = f(4).\n\\]\nLet \\( f(1) = a \\) and \\( f(3) = b \\). Then,\n\\[\nab = f(4).\n\\]\n\nNext, let \\( m = 3 \\) and \\( n = 1 \\):\n\\[\nf(4)f(2) = f(9).\n\\]\nSubstituting \\( f(4) = ab \\), we get:\n\\[\nab f(2) = f(9).\n\\]\n\nLet \\( m = 2 \\) and \\( n = 2 \\):\n\\[\nf(4)f(0) = f(4).\n\\]\nSince \\( f(0) \\) is not defined, we need to consider another value.\n\nLet \\( m = 3 \\) and \\( n = 2 \\):\n\\[\nf(5)f(1) = f(9).\n\\]\nSubstituting \\( f(1) = a \\), we get:\n\\[\nf(5) a = f(9).\n\\]\n\nSince \\( f(9) = ab f(2) \\) and \\( f(9) = f(5) a \\), we have:\n\\[\nab f(2) = f(5) a.\n\\]\nDividing both sides by \\( a \\) (assuming \\( a \\neq 0 \\)), we get:\n\\[\nb f(2) = f(5).\n\\]\n\nLet \\( m = 4 \\) and \\( n = 1 \\):\n\\[\nf(5)f(3) = f(16).\n\\]\nSubstituting \\( f(3) = b \\) and \\( f(5) = b f(2) \\), we get:\n\\[\nb f(2) b = f(16).\n\\]\nThus,\n\\[\nb^2 f(2) = f(16).\n\\]\n\nLet \\( m = 2 \\) and \\( n = 1 \\):\n\\[\nf(3)f(1) = f(4).\n\\]\nSubstituting \\( f(1) = a \\) and \\( f(3) = b \\), we get:\n\\[\nb a = f(4).\n\\]\n\nFrom the above equations, we see that \\( f(x) = 1 \\) for all \\( x \\in \\mathbb{N} \\) satisfies the given functional equation. We can verify this by substituting \\( f(x) = 1 \\) into the original equation:\n\\[\nf(m+n)f(m-n) = 1 \\cdot 1 = 1 = f(m^2).\n\\]\n\nThus, the only function that satisfies the given condition is:\n\\[\n\\boxed{f(x) = 1 \\text{ for all } x \\in \\mathbb{N}}.\n\\]", "answer": "f(x) = 1 \\text{ for all } x \\in \\mathbb{N}", "source": "usa_team_selection_test"}, {"domain": ["Mathematics -> Algebra -> Algebra -> Equations and Inequalities", "Mathematics -> Discrete Mathematics -> Combinatorics"], "difficulty": 6.0, "problem": "Find all natural numbers $n (n \\geq 2)$ such that there exists reals $a_1, a_2, \\dots, a_n$ which satisfy \\[ \\{ |a_i - a_j| \\mid 1\\leq i<j \\leq n\\} = \\left\\{1,2,\\dots,\\frac{n(n-1)}{2}\\right\\}. \\]\r\n\r\nLet $A=\\{1,2,3,4,5,6\\}, B=\\{7,8,9,\\dots,n\\}$. $A_i(i=1,2,\\dots,20)$ contains eight numbers, three of which are chosen from $A$ and the other five numbers from $B$. $|A_i \\cap A_j|\\leq 2, 1\\leq i<j\\leq 20$. Find the minimum possible value of $n$.", "solution": "\n\nWe need to find all natural numbers \\( n \\) (where \\( n \\geq 2 \\)) such that there exist real numbers \\( a_1, a_2, \\dots, a_n \\) which satisfy the condition:\n\\[ \\{ |a_i - a_j| \\mid 1 \\leq i < j \\leq n \\} = \\left\\{ 1, 2, \\dots, \\frac{n(n-1)}{2} \\right\\}. \\]\n\nWe claim that only \\( n = 2, 3, 4 \\) work. We can construct the sets of numbers for these values of \\( n \\) as follows:\n- For \\( n = 2 \\), we can use \\( (0, 1) \\).\n- For \\( n = 3 \\), we can use \\( (0, 1, 3) \\).\n- For \\( n = 4 \\), we can use \\( (0, 1, 4, 6) \\).\n\nNow, consider \\( n > 4 \\). Let \\( \\frac{n(n-1)}{2} = N \\). Without loss of generality, assume \\( a_1 = 0 \\) and \\( a_2 = N \\), with all other \\( a_i \\) lying between these two values. To produce a difference of \\( N-1 \\), let \\( a_3 = 1 \\). To produce a difference of \\( N-2 \\), we cannot have \\( a_4 = 2 \\) or \\( a_4 = N-1 \\), so let \\( a_4 = N-2 \\). The only possible value for \\( a_5 \\) that creates a difference of \\( N-3 \\) and does not repeat a difference is 4, which also happens to create a difference of \\( N-4 \\).\n\nHowever, there is no possible way to place a difference of \\( N-5 \\) without repeating. Thus, it is impossible to satisfy the condition for \\( n > 4 \\).\n\nTherefore, the natural numbers \\( n \\) that satisfy the given condition are \\( n = 2, 3, 4 \\).\n\nThe answer is: \\boxed{2, 3, 4}.", "answer": "2, 3, 4", "source": "china_team_selection_test"}, {"domain": ["Mathematics -> Algebra -> Algebra -> Equations and Inequalities"], "difficulty": 6.0, "problem": "Find all triples $ (x,y,z)$ of real numbers that satisfy the system of equations\r\n\\[ \\begin{cases}x^3 \\equal{} 3x\\minus{}12y\\plus{}50, \\\\ y^3 \\equal{} 12y\\plus{}3z\\minus{}2, \\\\ z^3 \\equal{} 27z \\plus{} 27x. \\end{cases}\\]\r\n\r\n[i]Razvan Gelca.[/i]", "solution": "\nWe are given the system of equations:\n\\[\n\\begin{cases}\nx^3 = 3x - 12y + 50, \\\\\ny^3 = 12y + 3z - 2, \\\\\nz^3 = 27z + 27x.\n\\end{cases}\n\\]\n\nTo find all triples \\((x, y, z)\\) of real numbers that satisfy these equations, we analyze the behavior of the functions involved.\n\n1. **Case \\(x > 2\\):**\n   - For \\(x > 2\\), the function \\(x^3 - 3x\\) is increasing. Thus, from the first equation, \\(y < 4\\).\n   - From the third equation, since \\(x > 2\\), we have \\(z^3 - 27z > 54\\), implying \\(z > 6\\).\n   - However, substituting \\(z > 6\\) into the second equation gives \\(y^3 - 12y > 16\\), implying \\(y > 4\\), which contradicts \\(y < 4\\).\n\n2. **Case \\(x < 2\\):**\n   - For \\(x < 2\\), from the third equation, \\(z^3 - 27z < 54\\), implying \\(z < 6\\).\n   - From the second equation, \\(y < 4\\).\n   - Substituting \\(y < 4\\) into the first equation gives \\(x^3 - 3x = 50 - 12y > 2\\), implying \\(x > 2\\), which contradicts \\(x < 2\\).\n\n3. **Verification of \\(x = 2, y = 4, z = 6\\):**\n   - Substituting \\(x = 2\\), \\(y = 4\\), and \\(z = 6\\) into the equations:\n     \\[\n     2^3 = 3(2) - 12(4) + 50 \\implies 8 = 6 - 48 + 50 \\implies 8 = 8,\n     \\]\n     \\[\n     4^3 = 12(4) + 3(6) - 2 \\implies 64 = 48 + 18 - 2 \\implies 64 = 64,\n     \\]\n     \\[\n     6^3 = 27(6) + 27(2) \\implies 216 = 162 + 54 \\implies 216 = 216.\n     \\]\n   - These values satisfy all three equations.\n\nThus, the only solution is:\n\\[\n(x, y, z) = \\boxed{(2, 4, 6)}.\n\\]", "answer": "(2, 4, 6)", "source": "usa_team_selection_test"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Polygons", "Mathematics -> Discrete Mathematics -> Combinatorics"], "difficulty": 6.5, "problem": "There are arbitrary 7 points in the plane. Circles are drawn through every 4 possible concyclic points. Find the maximum number of circles that can be drawn.", "solution": "\nGiven 7 arbitrary points in the plane, we need to determine the maximum number of circles that can be drawn through every 4 possible concyclic points.\n\nTo solve this, we consider the combinatorial aspect of selecting 4 points out of 7. The number of ways to choose 4 points from 7 is given by the binomial coefficient:\n\\[\n\\binom{7}{4} = \\frac{7!}{4!(7-4)!} = \\frac{7 \\cdot 6 \\cdot 5 \\cdot 4}{4 \\cdot 3 \\cdot 2 \\cdot 1} = 35.\n\\]\n\nHowever, not all sets of 4 points will necessarily be concyclic. The problem requires us to find the maximum number of circles that can be drawn through any 4 concyclic points. We need to consider the geometric arrangement of points and the possible overlaps of circles.\n\nBy considering specific geometric configurations, such as placing the points on the vertices and midpoints of an equilateral triangle, it can be shown that the maximum number of distinct circles that can be drawn through any 4 concyclic points is 7.\n\nThus, the maximum number of circles that can be drawn through every 4 possible concyclic points among 7 arbitrary points in the plane is:\n\\[\n\\boxed{7}.\n\\]", "answer": "7", "source": "china_team_selection_test"}, {"domain": ["Mathematics -> Discrete Mathematics -> Combinatorics"], "difficulty": 6.0, "problem": "Let $ P$ be a convex $ n$ polygon each of which sides and diagnoals is colored with one of $ n$ distinct colors. For which $ n$ does: there exists a coloring method such that for any three of $ n$ colors, we can always find one triangle whose vertices is of $ P$' and whose sides is colored by the three colors respectively.", "solution": "\nLet \\( P \\) be a convex \\( n \\)-polygon where each side and diagonal is colored with one of \\( n \\) distinct colors. We need to determine for which \\( n \\) there exists a coloring method such that for any three of the \\( n \\) colors, we can always find one triangle whose vertices are vertices of \\( P \\) and whose sides are colored by the three colors respectively.\n\nFirst, we observe that \\( n \\) cannot be even. This is because if any two distinct triangles get different color triples, there must be exactly \\( \\binom{n-1}{2} \\) triangles that get color \\( i \\), and since every segment is part of exactly \\( n-2 \\) triangles, there must be \\( \\frac{n-1}{2} \\) segments of color \\( i \\). This is an integer only if \\( n \\) is odd.\n\nFor odd \\( n \\), consider the following coloring method: label the vertices with \\( 1, \\ldots, n \\) and color segment \\( ij \\) by the \\( (i + j \\mod n) \\)-th color.\n\nTo verify that this works, assume for two triangles \\( i_1, j_1, k_1 \\) and \\( i_2, j_2, k_2 \\) we have \\( i_1 + j_1 \\equiv i_2 + j_2 \\mod n \\), \\( j_1 + k_1 \\equiv j_2 + k_2 \\mod n \\), and \\( k_1 + i_1 \\equiv k_2 + i_2 \\mod n \\). Then we would have:\n\\[\n(i_1 + j_1) + (j_1 + k_1) - (i_1 + k_1) \\equiv (i_2 + j_2) + (j_2 + k_2) - (i_2 + k_2) \\mod n,\n\\]\nwhich implies \\( n \\mid 2(j_1 - j_2) \\). Since \\( n \\) is odd, we also have \\( n \\mid j_1 - j_2 \\), and as \\( |j_1 - j_2| < n \\), it must be that \\( j_1 = j_2 \\). Similarly, \\( i_1 = i_2 \\) and \\( k_1 = k_2 \\), so the triangles were not different after all and the coloring is as desired.\n\nTherefore, the answer is: \\boxed{n \\text{ must be odd}}.", "answer": "n \\text{ must be odd}", "source": "china_national_olympiad"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Polygons"], "difficulty": 6.5, "problem": "There is a frog in every vertex of a regular 2n-gon with circumcircle($n \\geq 2$). At certain time, all frogs jump to the neighborhood vertices simultaneously (There can be more than one frog in one vertex). We call it as $\\textsl{a way of jump}$. It turns out that there is $\\textsl{a way of jump}$ with respect to 2n-gon, such that the line connecting any two distinct vertice having frogs on it after the jump, does not pass through the circumcentre of the 2n-gon. Find all possible values of $n$.", "solution": "\nLet \\( n \\) be a positive integer such that \\( n \\geq 2 \\). We aim to find all possible values of \\( n \\) for which there exists a way of jump in a regular \\( 2n \\)-gon such that the line connecting any two distinct vertices having frogs on it after the jump does not pass through the circumcenter of the \\( 2n \\)-gon.\n\n### Key Observations:\n1. Each frog has only 2 adjacent vertices to jump to, and each vertex can have at most 2 frogs.\n2. There are \\( 2n \\) frogs and \\( n \\) vertices, so each vertex must have exactly 2 frogs after the jump.\n\n### Contradiction When \\( n \\) is Odd:\n- Label the vertices \\( v_1, v_2, \\ldots, v_{2n} \\).\n- Assign pairs \\((x_i, x_{i+1})\\) to odd vertices and \\((y_i, y_{i+1})\\) to even vertices.\n- Starting with \\((x_1, x_2)\\) and moving clockwise, we must choose \\((x_3, x_4)\\), then \\((x_5, x_6)\\), and so on, forming a chain:\n  \\[\n  (x_1, x_2) \\implies (x_3, x_4) \\implies (x_5, x_6) \\implies \\cdots \\implies (x_n, x_1).\n  \\]\n- This chain contradicts the requirement that no vertex can be occupied by only one frog, as both \\((x_1, x_2)\\) and \\((x_n, x_1)\\) cannot be chosen simultaneously.\n\n### Contradiction When \\( v_2(n) \\geq 2 \\):\n- For \\( n \\) such that \\( v_2(n) \\geq 2 \\), the chain formed includes the antipode of \\((x_1, x_2)\\), leading to a contradiction.\n\n### Construction When \\( v_2(n) = 1 \\):\n- For \\( n \\) such that \\( v_2(n) = 1 \\), we can construct a valid jump by choosing alternate pairs of vertices.\n- This ensures that no line connecting two distinct vertices with frogs passes through the circumcenter.\n\nHence, the only possible values of \\( n \\) are those for which \\( v_2(n) = 1 \\). This means \\( n \\) must be of the form \\( 2^k \\cdot m \\) where \\( k = 1 \\) and \\( m \\) is an odd integer.\n\nThe answer is: \\boxed{2^k \\cdot m \\text{ where } k = 1 \\text{ and } m \\text{ is an odd integer}}.", "answer": "2^k \\cdot m \\text{ where } k = 1 \\text{ and } m \\text{ is an odd integer}", "source": "china_team_selection_test"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Area", "Mathematics -> Discrete Mathematics -> Combinatorics"], "difficulty": 5.0, "problem": "Consider a $2n \\times 2n$ board. From the $i$ th line we remove the central $2(i-1)$ unit squares. What is the maximal number of rectangles $2 \\times 1$ and $1 \\times 2$ that can be placed on the obtained figure without overlapping or getting outside the board?", "solution": "Problem assumes that we remove $2(i-1)$ squares if $i\\leq n$ , and $2(2n-i)$ squares if $i>n$ .\nDivide the entire board into 4 quadrants each containing $n^2$ unit squares.\nFirst we note that the $2$ squares on the center on each of the $4$ bordering lines of the board can always be completely covered by a single tile, so we can count in the first and last unit squares (which are diagonally opposite) of each quadrant as being filled in completely by a tile.\nSo in each quadrant we have:\nif $n$ is even, there are exactly $(n-4)/2$ unit squares which cannot be filled by the tiles and if $n$ is odd, there are exactly $(n-3)/2$ unit squares which cannot be filled by the tiles.\nAbove can be seen by drawing a diagram and noticing that alternate columns have even and odd number of unit squares (leaving a unit square uncovered by tiles in odd numbered blocks of columns).\nAlso, note that the total number of unit squares which were removed from each quadrant = $(1 + 2+ 3 +... n-1) = n(n-1)/2$ \nLet us consider the 2 cases for parity of $n$ :\n  $Case 1: n$ is even\nfor $n = 2$ , it can be seen easily that we can use a maximum of $6$ tiles.\nfor $n \\ge 4:$ \nTotal number of squares that cannot be filled in each quadrant is: $n(n-1)/2 + (n-4)/2 = (n^2 - 4)/2$ \nSo total number of squares that cannot be filled on the entire board = $2(n^2 - 4)$ \nSo total number of squares that CAN be filled completely by the tiles = $4n^2 - 2(n^2 - 4) = 2n^2 + 8$ \nSo the maximum number of tiles that can be used = $(2n^2 + 8)/2 = n^2 + 4$ \n  $Case 2: n$ is odd\nfor $n = 1$ , it can be seen easily that we can use a maximum of $2$ tiles.\nfor $n \\ge 3:$ \nTotal number of squares that cannot be filled in each quadrant is: $n(n-1)/2 + (n-3)/2 = (n^2 - 3)/2$ \nSo total number of squares that cannot be filled on the entire board = $2(n^2 - 3)$ \nSo total number of squares that CAN be filled completely by the tiles = $4n^2 - 2(n^2 - 3) = 2n^2 + 6$ \nSo the maximum number of tiles that can be used = $(2n^2 + 6)/2 = n^2 + 3$ \n  $Kris17$ ", "answer": "\\[\n\\begin{cases} \nn^2 + 4 & \\text{if } n \\text{ is even} \\\\\nn^2 + 3 & \\text{if } n \\text{ is odd}\n\\end{cases}\n\\]", "source": "jbmo"}, {"domain": ["Mathematics -> Algebra -> Algebra -> Polynomial Operations"], "difficulty": 6.5, "problem": "[color=blue][b]Generalization.[/b] Given two integers $ p$ and $ q$ and a natural number $ n \\geq 3$ such that $ p$ is prime and $ q$ is squarefree, and such that $ p\\nmid q$.\nFind all $ a \\in \\mathbb{Z}$ such that the polynomial $ f(x) \\equal{} x^n \\plus{} ax^{n \\minus{} 1} \\plus{} pq$ can be factored into 2 integral polynomials of degree at least 1.[/color]\r\n\r\n[i]Solution.[/i] I hope the following solution is correct. It is more or less a straightforward generalization of [url=http://www.kalva.demon.co.uk/imo/isoln/isoln931.html]IMO 1993 problem 1[/url].\r\n\r\nThe idea behind is an extension of Eisenstein's criterion for irreducible polynomials:\r\n\r\n[color=blue][b]Lemma 1.[/b] Let p be a prime number. If a polynomial $ A\\left(x\\right) \\equal{} a_nx^n \\plus{} a_{n \\minus{} 1}x^{n \\minus{} 1} \\plus{} ... \\plus{} a_1x \\plus{} a_0$ with integer coefficients $ a_n$, $ a_{n \\minus{} 1}$, ..., $ a_1$, $ a_0$ is reducible in $ \\mathbb{Z}\\left[x\\right]$, and the prime p divides the coefficients $ a_0$, $ a_1$, ..., $ a_{n \\minus{} 2}$, but does not divide $ a_n$, and $ p^2$ does not divide $ a_0$, then p does not divide $ a_{n \\minus{} 1}$, and the polynomial A(x) must have a rational root.[/color]\r\n\r\n[i]Proof of Lemma 1.[/i] Since the polynomial A(x) is reducible in $ \\mathbb{Z}\\left[x\\right]$, we can write it in the form A(x) = B(x) C(x), where $ B\\left(x\\right) \\equal{} b_ux^u \\plus{} ... \\plus{} b_1x \\plus{} b_0$ and $ C\\left(x\\right) \\equal{} c_vx^v \\plus{} ... \\plus{} c_1x \\plus{} c_0$ are non-constant polynomials with integer coefficients $ b_u$, ..., $ b_1$, $ b_0$, $ c_v$, ..., $ c_1$, $ c_0$. Then, for any i, we have $ a_i \\equal{} \\sum_{k \\equal{} 0}^i b_kc_{i \\minus{} k}$ (this follows from multiplying out the equation A(x) = B(x) C(x)). Particularly, $ a_0 \\equal{} b_0c_0$. But since the integer $ a_0$ is divisible by the prime p, but not by $ p^2$, this yields that one of the integers $ b_0$ and $ c_0$ is divisible by p, and the other one is not. WLOG assume that $ b_0$ is divisible by p, and $ c_0$ is not.\r\n\r\nNot all coefficients $ b_u$, ..., $ b_1$, $ b_0$ of the polynomial B(x) can be divisible by p (else, $ a_n \\equal{} \\sum_{k \\equal{} 0}^n b_kc_{n \\minus{} k}$ would also be divisible by p, what is excluded). Let $ \\lambda$ be the least nonnegative integer such that the coefficient $ b_{\\lambda}$ is [i]not[/i] divisible by p. Then, all the integers $ b_k$ with $ k < \\lambda$ are divisible by p. Hence, in the sum $ a_{\\lambda} \\equal{} \\sum_{k \\equal{} 0}^{\\lambda} b_kc_{\\lambda \\minus{} k}$, all the summands $ b_kc_{\\lambda \\minus{} k}$ with $ k < \\lambda$ are divisible by p, but the summand $ b_{\\lambda}c_0$ (this is the summand for $ k \\equal{} \\lambda$) is not (since $ b_{\\lambda}$ is not divisible by p, and neither is $ c_0$). Hence, the whole sum $ a_{\\lambda}$ is not divisible by p. But we know that the coefficients $ a_0$, $ a_1$, ..., $ a_{n \\minus{} 2}$ are all divisible by p; hence, $ a_{\\lambda}$ must be one of the coefficients $ a_{n \\minus{} 1}$ and $ a_n$. Thus, either $ \\lambda \\equal{} n \\minus{} 1$ or $ \\lambda \\equal{} n$.\r\n\r\nIf $ \\lambda \\equal{} n$, then it follows, since the integer $ b_{\\lambda}$ is defined, that the polynomial B(x) has a coefficient $ b_n$. In other words, the polynomial B(x) has degree n. Since the polynomial A(x) has degree n, too, it follows from A(x) = B(x) C(x) that the polynomial C(x) is a constant. This is a contradiction.\r\n\r\nThus, we must have $ \\lambda \\equal{} n \\minus{} 1$. Hence, the integer $ a_{n \\minus{} 1} \\equal{} a_{\\lambda}$ is not divisible by p. Also, since the integer $ b_{\\lambda}$ is defined, it follows that the polynomial B(x) has a coefficient $ b_{n \\minus{} 1}$. In other words, the polynomial B(x) has degree $ \\geq n \\minus{} 1$. Since the polynomial A(x) has degree n and A(x) = B(x) C(x), this yields that the polynomial C(x) has degree $ \\leq 1$. The degree cannot be 0, since the polynomial C(x) is not constant; thus, the degree is 1. Hence, the polynomial A(x) has a linear factor, i. e. it has a rational root. Lemma 1 is proven.\r\n\r\nNow let us solve the problem: The number $ pq$ is squarefree (since $ p$ is prime and $ q$ is squarefree, and since $ p\\nmid q$).\r\n\r\nApplying Lemma 1 to the polynomial $ x^n \\plus{} ax^{n \\minus{} 1} \\plus{} pq$, using the prime p, we see that, if this polynomial can be factored into two non-constant integral polynomials, then it must have a rational root. Since it is a monic polynomial with integer coefficients, it thus must have an integer root. If we denote this root by $ r$, then $ r^n \\plus{} ar^{n \\minus{} 1} \\plus{} pq \\equal{} 0$, so that $ pq \\equal{} \\minus{} r^n \\minus{} ar^{n \\minus{} 1} \\equal{} \\minus{} \\left(r \\plus{} a\\right) r^{n \\minus{} 1}$ is divisible by $ r^2$ (since $ n\\geq 3$ yields $ n \\minus{} 1\\geq 2$, so that $ r^{n \\minus{} 1}$ is divisible by $ r^2$), so that $ r \\equal{} 1$ or $ r \\equal{} \\minus{} 1$ (since $ pq$ is squarefree), so that one of the numbers $ 1$ and $ \\minus{} 1$ must be a root of the polynomial $ x^n \\plus{} ax^{n \\minus{} 1} \\plus{} pq$.\r\n\r\nHence, we see that, if the polynomial $ x^n \\plus{} ax^{n \\minus{} 1} \\plus{} pq$ can be factored into two non-constant integral polynomials, then one of the numbers $ 1$ and $ \\minus{} 1$ must be a root of this polynomial. Conversely, if one of the numbers $ 1$ and $ \\minus{} 1$ is a root of this polynomial, then it has an integer root and thus can be factored into two non-constant integral polynomials. Hence, in order to solve the problem, it remains to find all integers a such that one of the numbers $ 1$ and $ \\minus{} 1$ is a root of the polynomial $ x^n \\plus{} ax^{n \\minus{} 1} \\plus{} pq$. But in fact, $ 1$ is a root of the polynomial $ x^n \\plus{} ax^{n \\minus{} 1} \\plus{} pq$ if and only if $ 1^n \\plus{} a\\cdot 1^{n \\minus{} 1} \\plus{} pq \\equal{} 0$, what is equivalent to $ 1 \\plus{} a \\plus{} pq \\equal{} 0$, i. e. to $ a \\equal{} \\minus{} 1 \\minus{} pq$, and $ \\minus{} 1$ is a root of the polynomial $ x^n \\plus{} ax^{n \\minus{} 1} \\plus{} pq$ if and only if $ \\left( \\minus{} 1\\right)^n \\plus{} a\\cdot\\left( \\minus{} 1\\right)^{n \\minus{} 1} \\plus{} pq \\equal{} 0$, what is equivalent to $ a \\equal{} 1 \\plus{} \\left( \\minus{} 1\\right)^n pq$. So, the two required values of $ a$ are $ a \\equal{} \\minus{} 1 \\minus{} pq$ and $ a \\equal{} 1 \\plus{} \\left( \\minus{} 1\\right)^n pq$.\r\n\r\nThe problem is thus solved.\r\n\r\n[hide=\"Old version of the solution, not generalizing the problem\"]\n\n[i]Old version of the solution (of the original problem, not of the generalization).[/i]\n\nApplying Lemma 1 to the polynomial $ x^n \\plus{} ax^{n \\minus{} 1} \\plus{} pq$, using the prime p, we see that, if this polynomial can be factored into two non-constant integral polynomials, then it must have a rational root. Since it is a monic polynomial with integer coefficients, it thus must have an integer root, and by a well-known theorem, this integer root then must be a divisor of pq. This means that the root is one of the numbers pq, p, q, 1, -pq, -p, -q, -1. Actually, none of the numbers pq, p, q, -pq, -p, -q can be a root of the polynomial $ x^n \\plus{} ax^{n \\minus{} 1} \\plus{} pq$ (in fact, every of these numbers is divisible by p or by q, and if an integer root r of the polynomial $ x^n \\plus{} ax^{n \\minus{} 1} \\plus{} pq$ would be divisible by p, then $ r^n \\plus{} ar^{n \\minus{} 1}$ would be divisible by $ p^{n \\minus{} 1}$, while $ pq$ wouldn't be because of $ n\\geq 3$, so $ r^n \\plus{} ar^{n \\minus{} 1} \\plus{} pq$ couldn't be 0, what yields a contradiction, and similarly we obtain a contradiction if an integer root would be divisible by q). Hence, only 1 and -1 remain as possible candidates for integer roots of the polynomial $ x^n \\plus{} ax^{n \\minus{} 1} \\plus{} pq$.\n\nHence, we see that, if the polynomial $ x^n \\plus{} ax^{n \\minus{} 1} \\plus{} pq$ can be factored into two non-constant integral polynomials, then one of the numbers 1 and -1 must be a root of this polynomial. Conversely, if one of the numbers 1 and -1 is a root of this polynomial, then it has an integer root and thus can be factored into two non-constant integral polynomials. Hence, in order to solve the problem, it remains to find all integers a such that one of the numbers 1 and -1 is a root of the polynomial $ x^n \\plus{} ax^{n \\minus{} 1} \\plus{} pq$. But in fact, 1 is a root of the polynomial $ x^n \\plus{} ax^{n \\minus{} 1} \\plus{} pq$ if and only if $ 1^n \\plus{} a\\cdot 1^{n \\minus{} 1} \\plus{} pq \\equal{} 0$, what is equivalent to $ 1 \\plus{} a \\plus{} pq \\equal{} 0$, i. e. to a = - 1 - pq, and -1 is a root of the polynomial $ x^n \\plus{} ax^{n \\minus{} 1} \\plus{} pq$ if and only if $ \\left( \\minus{} 1\\right)^n \\plus{} a\\cdot\\left( \\minus{} 1\\right)^{n \\minus{} 1} \\plus{} pq \\equal{} 0$, what is equivalent to $ a \\equal{} 1 \\plus{} \\left( \\minus{} 1\\right)^n pq$. So, the two required values of a are a = - 1 - pq and $ a \\equal{} 1 \\plus{} \\left( \\minus{} 1\\right)^n pq$.\n[/hide]\r\n\r\n  Darij", "solution": "\n\nGiven two integers \\( p \\) and \\( q \\) and a natural number \\( n \\geq 3 \\) such that \\( p \\) is prime and \\( q \\) is squarefree, and such that \\( p \\nmid q \\), we need to find all \\( a \\in \\mathbb{Z} \\) such that the polynomial \\( f(x) = x^n + ax^{n-1} + pq \\) can be factored into two integral polynomials of degree at least 1.\n\nTo solve this, we use an extension of Eisenstein's criterion for irreducible polynomials. The key idea is that if the polynomial \\( x^n + ax^{n-1} + pq \\) can be factored into two non-constant integral polynomials, then it must have a rational root. Since it is a monic polynomial with integer coefficients, it must have an integer root. \n\nLet \\( r \\) be an integer root. Then:\n\\[\nr^n + ar^{n-1} + pq = 0.\n\\]\nRewriting, we get:\n\\[\npq = -r^n - ar^{n-1} = -(r + a)r^{n-1}.\n\\]\nSince \\( pq \\) is squarefree, \\( r \\) must be \\( 1 \\) or \\( -1 \\). Therefore, one of the numbers \\( 1 \\) and \\( -1 \\) must be a root of the polynomial \\( x^n + ax^{n-1} + pq \\).\n\nIf \\( 1 \\) is a root:\n\\[\n1^n + a \\cdot 1^{n-1} + pq = 0 \\implies 1 + a + pq = 0 \\implies a = -1 - pq.\n\\]\n\nIf \\( -1 \\) is a root:\n\\[\n(-1)^n + a \\cdot (-1)^{n-1} + pq = 0.\n\\]\nDepending on whether \\( n \\) is even or odd:\n\\[\na = 1 + (-1)^n pq.\n\\]\n\nThus, the two required values of \\( a \\) are:\n\\[\na = -1 - pq \\quad \\text{and} \\quad a = 1 + (-1)^n pq.\n\\]\n\nThe answer is: \\(\\boxed{a = -1 - pq \\text{ or } a = 1 + (-1)^n pq}\\).", "answer": "a = -1 - pq \\text{ or } a = 1 + (-1)^n pq", "source": "china_team_selection_test"}, {"domain": ["Mathematics -> Algebra -> Intermediate Algebra -> Other", "Mathematics -> Algebra -> Algebra -> Equations and Inequalities"], "difficulty": 6.0, "problem": "Let $R$ denote a non-negative rational number. Determine a fixed set of integers $a,b,c,d,e,f$ , such that for every choice of $R$ ,\n$\\left|\\frac{aR^2+bR+c}{dR^2+eR+f}-\\sqrt[3]{2}\\right|<|R-\\sqrt[3]{2}|$", "solution": "Note that when $R$ approaches $\\sqrt[3]{2}$ , $\\frac{aR^2+bR+c}{dR^2+eR+f}$ must also approach $\\sqrt[3]{2}$ for the given inequality to hold. Therefore\n\\[\\lim_{R\\rightarrow \\sqrt[3]{2}} \\frac{aR^2+bR+c}{dR^2+eR+f}=\\sqrt[3]{2}\\] \nwhich happens if and only if\n\\[\\frac{a\\sqrt[3]{4}+b\\sqrt[3]{2}+c}{d\\sqrt[3]{4}+e\\sqrt[3]{2}+f}=\\sqrt[3]{2}\\] \nWe cross multiply to get $a\\sqrt[3]{4}+b\\sqrt[3]{2}+c=2d+e\\sqrt[3]{4}+f\\sqrt[3]{2}$ . It's not hard to show that, since $a$ , $b$ , $c$ , $d$ , $e$ , and $f$ are integers, then $a=e$ , $b=f$ , and $c=2d$ .\nNote, however, that this is a necessary but insufficient condition. For example, we must also have $a^2<2bc$ to ensure the function does not have any vertical asymptotes (which would violate the desired property). A simple search shows that $a=0$ , $b=2$ , and $c=2$ works.", "answer": "\\[\na = 0, \\quad b = 2, \\quad c = 2, \\quad d = 1, \\quad e = 0, \\quad f = 2\n\\]", "source": "usamo"}, {"domain": ["Mathematics -> Discrete Mathematics -> Combinatorics"], "difficulty": 5.5, "problem": "16 students took part in a competition. All problems were multiple choice style. Each problem had four choices. It was said that any two students had at most one answer in common, find the maximum number of problems.", "solution": "\nLet 16 students take part in a competition where each problem is multiple choice with four choices. We are to find the maximum number of problems such that any two students have at most one answer in common.\n\nLet \\( T \\) denote the number of triples \\((S_i, S_j, Q_k)\\) such that students \\( S_i \\) and \\( S_j \\) answered the same for question \\( Q_k \\).\n\nFirst, consider the number of ways to choose 2 students out of 16, which is given by:\n\\[\n\\binom{16}{2} = \\frac{16 \\times 15}{2} = 120.\n\\]\n\nSince any two students have at most one answer in common, we have:\n\\[\nT \\leq \\binom{16}{2} = 120.\n\\]\n\nNext, let \\( x, y, z, w \\) be the number of students choosing the first, second, third, and fourth options respectively for a given question, and let there be \\( m \\) questions in total.\n\nApplying the lemma and using the Cauchy-Schwarz inequality, we get:\n\\[\n\\binom{x}{2} + \\binom{y}{2} + \\binom{z}{2} + \\binom{w}{2} \\geq 24.\n\\]\n\nThus, for \\( m \\) questions, we have:\n\\[\nT \\geq 24m.\n\\]\n\nCombining the inequalities, we get:\n\\[\n24m \\leq 120 \\implies m \\leq 5.\n\\]\n\nTherefore, the maximum number of problems is:\n\\[\n\\boxed{5}.\n", "answer": "5", "source": "china_team_selection_test"}, {"domain": ["Mathematics -> Applied Mathematics -> Statistics -> Probability -> Counting Methods -> Combinations", "Mathematics -> Geometry -> Plane Geometry -> Polygons"], "difficulty": 5.0, "problem": "Three distinct vertices are chosen at random from the vertices of a given regular polygon of $(2n+1)$ sides. If all such choices are equally likely, what is the probability that the center of the given polygon lies in the interior of the triangle determined by the three chosen random points?", "solution": "There are $\\binom{2n+1}{3}$ ways how to pick the three vertices. We will now count the ways where the interior does NOT contain the center. These are obviously exactly the ways where all three picked vertices lie among some $n+1$ consecutive vertices of the polygon.\nWe will count these as follows: We will go clockwise around the polygon. We can pick the first vertex arbitrarily ( $2n+1$ possibilities). Once we pick it, we have to pick $2$ out of the next $n$ vertices ( $\\binom{n}{2}$ possibilities).\nThen the probability that our triangle does NOT contain the center is \\[p = \\frac{ (2n+1){\\binom{n}{2}} }{ {\\binom{2n+1}{3} } } = \\frac{ (1/2)(2n+1)(n)(n-1) }{ (1/6)(2n+1)(2n)(2n-1) } =  \\frac{ 3(n)(n-1) }{ (2n)(2n-1) }\\] \nAnd then the probability we seek is \\[1-p =  \\frac{ (2n)(2n-1) - 3(n)(n-1) }{ (2n)(2n-1) } = \\frac{ n^2+n }{ 4n^2 - 2n } = \\boxed{\\frac{n+1}{4n-2}}\\] ", "answer": "\\[\n\\boxed{\\frac{n+1}{4n-2}}\n\\]", "source": "usamo"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Circles"], "difficulty": 6.5, "problem": "If $A$ and $B$ are fixed points on a given circle and $XY$ is a variable diameter of the same circle, determine the locus of the point of intersection of lines $AX$ and $BY$ . You may assume that $AB$ is not a diameter.\n[asy] size(300); defaultpen(fontsize(8)); real r=10; picture pica, picb; pair A=r*expi(5*pi/6), B=r*expi(pi/6), X=r*expi(pi/3), X1=r*expi(-pi/12), Y=r*expi(4*pi/3), Y1=r*expi(11*pi/12), O=(0,0), P, P1; P = extension(A,X,B,Y);P1 = extension(A,X1,B,Y1); path circ1 = Circle((0,0),r);  draw(pica, circ1);draw(pica, B--A--P--Y--X);dot(pica,P^^O); label(pica,\"$A$\",A,(-1,1));label(pica,\"$B$\",B,(1,0));label(pica,\"$X$\",X,(0,1));label(pica,\"$Y$\",Y,(0,-1));label(pica,\"$P$\",P,(1,1));label(pica,\"$O$\",O,(-1,1));label(pica,\"(a)\",O+(0,-13),(0,0));  draw(picb, circ1);draw(picb, B--A--X1--Y1--B);dot(picb,P1^^O); label(picb,\"$A$\",A,(-1,1));label(picb,\"$B$\",B,(1,1));label(picb,\"$X$\",X1,(1,-1));label(picb,\"$Y$\",Y1,(-1,0));label(picb,\"$P'$\",P1,(-1,-1));label(picb,\"$O$\",O,(-1,-1)); label(picb,\"(b)\",O+(0,-13),(0,0));  add(pica); add(shift(30*right)*picb); [/asy]", "solution": "WLOG, assume that the circle is the unit circle centered at the origin. Then the points $A$ and $B$ have coordinates $(-a,b)$ and $(a,b)$ respectively and $X$ and $Y$ have coordinates $(r,s)$ and $(-r,-s)$ . Note that these coordinates satisfy $a^2 + b^2 = 1$ and $r^2 + s^2 = 1$ since these points are on a unit circle. Now we can find equations for the lines: \\begin{align*} AX \\longrightarrow y &= \\frac{(s-b)x+rb+sa}{r+a}\\\\ BY \\longrightarrow y &= \\frac{(s+b)x+rb-sa}{r+a}. \\end{align*} Solving these simultaneous equations gives coordinates for $P$ in terms of $a, b, r,$ and $s$ : $P = \\left(\\frac{as}{b},\\frac{1 - ar}{b}\\right)$ . These coordinates can be parametrized in Cartesian variables as follows: \\begin{align*} x &= \\frac{as}{b}\\\\ y &= \\frac{1 - ar}{b}. \\end{align*} Now solve for $r$ and $s$ to get $r = \\frac{1-by}{a}$ and $s = \\frac{bx}{a}$ . Then since $r^2 + s^2 = 1, \\left(\\frac{bx}{a}\\right)^2 + \\left(\\frac{1-by}{a}\\right)^2 = 1$ which reduces to $x^2 + (y-1/b)^2 = \\frac{a^2}{b^2}.$ This equation defines a circle and is the locus of all intersection points $P$ . In order to define this locus more generally, find the slope of this circle function using implicit differentiation: \\begin{align*} 2x + 2(y-1/b)y' &= 0\\\\ (y-1/b)y' &= -x\\\\ y' &= \\frac{-x}{y-1/b}. \\end{align*} Now note that at points $A$ and $B$ , this slope expression reduces to $y' = \\frac{-b}{a}$ and $y' = \\frac{b}{a}$ respectively, values which are identical to the slopes of lines $AO$ and $BO$ . Thus we conclude that the complete locus of intersection points is the circle tangent to lines $AO$ and $BO$ at points $A$ and $B$ respectively.", "answer": "The locus of the point of intersection of lines \\(AX\\) and \\(BY\\) is a circle with the equation:\n\\[\nx^2 + \\left(y - \\frac{1}{b}\\right)^2 = \\frac{a^2}{b^2}.\n\\]", "source": "usamo"}], "difficulty_7_10": [{"domain": ["Mathematics -> Algebra -> Other"], "difficulty": 8.0, "problem": "Let $ n(\\ge2) $ be a positive integer. Find the minimum $ m $, so that there exists $x_{ij}(1\\le i ,j\\le n)$ satisfying:\n(1)For every $1\\le i ,j\\le n, x_{ij}=max\\{x_{i1},x_{i2},...,x_{ij}\\} $ or $ x_{ij}=max\\{x_{1j},x_{2j},...,x_{ij}\\}.$\n(2)For every $1\\le i \\le n$, there are at most $m$ indices $k$ with $x_{ik}=max\\{x_{i1},x_{i2},...,x_{ik}\\}.$\n(3)For every $1\\le j \\le n$, there are at most $m$ indices $k$ with $x_{kj}=max\\{x_{1j},x_{2j},...,x_{kj}\\}.$", "solution": "\nLet \\( n (\\geq 2) \\) be a positive integer. We aim to find the minimum \\( m \\) such that there exists \\( x_{ij} \\) (for \\( 1 \\leq i, j \\leq n \\)) satisfying the following conditions:\n1. For every \\( 1 \\leq i, j \\leq n \\), \\( x_{ij} = \\max \\{ x_{i1}, x_{i2}, \\ldots, x_{ij} \\} \\) or \\( x_{ij} = \\max \\{ x_{1j}, x_{2j}, \\ldots, x_{ij} \\} \\).\n2. For every \\( 1 \\leq i \\leq n \\), there are at most \\( m \\) indices \\( k \\) such that \\( x_{ik} = \\max \\{ x_{i1}, x_{i2}, \\ldots, x_{ik} \\} \\).\n3. For every \\( 1 \\leq j \\leq n \\), there are at most \\( m \\) indices \\( k \\) such that \\( x_{kj} = \\max \\{ x_{1j}, x_{2j}, \\ldots, x_{kj} \\} \\).\n\nTo solve this, we need to consider the structure and constraints given by the problem. The solution involves ensuring that the maximum number of indices \\( k \\) for which \\( x_{ik} \\) or \\( x_{kj} \\) is the maximum is minimized.\n\nBy analyzing the constraints and constructing examples, it can be shown that the minimum \\( m \\) satisfying the conditions is:\n\\[\nm = 1 + \\left\\lceil \\frac{n}{2} \\right\\rceil.\n\\]\n\nThus, the minimum value of \\( m \\) is:\n\\[\n\\boxed{1 + \\left\\lceil \\frac{n}{2} \\right\\rceil}.\n\\]", "answer": "1 + \\left\\lceil \\frac{n}{2} \\right\\rceil", "source": "china_team_selection_test"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Triangulations"], "difficulty": 7.0, "problem": "In an acute scalene triangle $ABC$, points $D,E,F$ lie on sides $BC, CA, AB$, respectively, such that $AD \\perp BC, BE \\perp CA, CF \\perp AB$. Altitudes $AD, BE, CF$ meet at orthocenter $H$. Points $P$ and $Q$ lie on segment $EF$ such that $AP \\perp EF$ and $HQ \\perp EF$. Lines $DP$ and $QH$ intersect at point $R$. Compute $HQ/HR$.", "solution": "\nIn an acute scalene triangle \\(ABC\\), points \\(D, E, F\\) lie on sides \\(BC, CA, AB\\), respectively, such that \\(AD \\perp BC\\), \\(BE \\perp CA\\), \\(CF \\perp AB\\). Altitudes \\(AD, BE, CF\\) meet at orthocenter \\(H\\). Points \\(P\\) and \\(Q\\) lie on segment \\(EF\\) such that \\(AP \\perp EF\\) and \\(HQ \\perp EF\\). Lines \\(DP\\) and \\(QH\\) intersect at point \\(R\\). We aim to compute \\(\\frac{HQ}{HR}\\).\n\nNote that \\(H\\) and \\(A\\) are the incenter and \\(D\\)-excenter of \\(\\triangle DEF\\), respectively. Thus, \\(HQ\\) is an inradius of \\(\\triangle DEF\\). Let \\(R'\\) be the reflection of \\(Q\\) over \\(H\\). The homothety centered at \\(D\\) that maps the incircle to the \\(D\\)-excircle also maps \\(R'\\) to \\(P\\), implying that \\(D\\), \\(R'\\), and \\(P\\) are collinear, so \\(R' = R\\).\n\nTherefore, \\(\\frac{HQ}{HR} = 1\\).\n\nThe answer is \\(\\boxed{1}\\).", "answer": "1", "source": "usa_team_selection_test"}, {"domain": ["Mathematics -> Discrete Mathematics -> Graph Theory"], "difficulty": 7.0, "problem": "A tournament is a directed graph for which every (unordered) pair of vertices has a single directed edge from one vertex to the other.  Let us define a proper directed-edge-coloring to be an assignment of a color to every (directed) edge, so that for every pair of directed edges $\\overrightarrow{uv}$ and $\\overrightarrow{vw}$, those two edges are in different colors.  Note that it is permissible for $\\overrightarrow{uv}$ and $\\overrightarrow{uw}$ to be the same color.  The directed-edge-chromatic-number of a tournament is defined to be the minimum total number of colors that can be used in order to create a proper directed-edge-coloring.  For each $n$, determine the minimum directed-edge-chromatic-number over all tournaments on $n$ vertices.", "solution": "\nA tournament is a directed graph for which every (unordered) pair of vertices has a single directed edge from one vertex to the other. Let us define a proper directed-edge-coloring to be an assignment of a color to every directed edge, so that for every pair of directed edges \\(\\overrightarrow{uv}\\) and \\(\\overrightarrow{vw}\\), those two edges are in different colors. Note that it is permissible for \\(\\overrightarrow{uv}\\) and \\(\\overrightarrow{uw}\\) to be the same color. The directed-edge-chromatic-number of a tournament is defined to be the minimum total number of colors that can be used in order to create a proper directed-edge-coloring. For each \\(n\\), we aim to determine the minimum directed-edge-chromatic-number over all tournaments on \\(n\\) vertices.\n\nThe answer is \\(\\lceil \\log_2 n \\rceil\\). \n\nA construction is as follows: Label the vertices \\(\\{1, 2, 3, \\ldots, n\\}\\) and write each label in binary. Then for any two vertices \\(u, v\\), let \\(k\\) be the first position from the right which is different in their binary representations. If the \\(k\\)-th digit is \\(0\\) in \\(u\\) and \\(1\\) in \\(v\\), then draw the edge \\(u \\to v\\). Clearly, this works.\n\nWe now prove the result by induction on \\(n\\). It is trivial for \\(n=1\\). Now say we want to prove the result for \\(n\\), and assume without loss of generality that \\(n\\) is even, say by deleting a vertex if needed. Fix a color, say red, and consider the set \\(S\\) of all the vertices formed by the tails of these red edges. Consider the partition of the vertices of our graph into \\(S\\) and \\(V \\setminus S\\). At least one of these sets has a size at least \\(n/2\\), say \\(S\\).\n\nThen we claim that there cannot be any red edge \"contained\" in \\(S\\). Indeed, if there is, then its head would lie on some \\(v \\in S\\) (since it is contained in \\(S\\)) which already has a red edge going out of it, contradicting the hypothesis.\n\nHence, \\(S\\) has \\(n/2\\) vertices and no edge is red. So\n\\[\n\\chi \\ge 1 + \\log_2 (n/2) = \\log_2(n).\n\\]\nThus, the induction is complete.\n\nThe answer is: \\(\\boxed{\\lceil \\log_2 n \\rceil}\\).", "answer": "\\lceil \\log_2 n \\rceil", "source": "usa_team_selection_test"}, {"domain": ["Mathematics -> Algebra -> Algebra -> Polynomial Operations"], "difficulty": 8.5, "problem": "Does there exist positive reals $a_0, a_1,\\ldots ,a_{19}$, such that the polynomial $P(x)=x^{20}+a_{19}x^{19}+\\ldots +a_1x+a_0$ does not have any real roots, yet all polynomials formed from swapping any two coefficients $a_i,a_j$ has at least one real root?", "solution": "\n\nTo determine whether there exist positive reals \\(a_0, a_1, \\ldots, a_{19}\\) such that the polynomial \\(P(x) = x^{20} + a_{19}x^{19} + \\ldots + a_1x + a_0\\) does not have any real roots, yet all polynomials formed from swapping any two coefficients \\(a_i, a_j\\) have at least one real root, we proceed as follows:\n\nConsider the polynomial \\(P_\\sigma(x) = x^{20} + a_{\\sigma(19)}x^{19} + a_{\\sigma(18)}x^{18} + \\cdots + a_{\\sigma(0)}\\), for all permutations \\(\\sigma\\) of the numbers 0 to 19.\n\nWe construct the coefficients \\(a_i\\) in a specific manner. Let \\(a_i = 10000 + i\\epsilon\\) for \\(i = 0, 1, \\ldots, 19\\) and some small \\(\\epsilon > 0\\). This ensures that \\(a_0 < a_1 < \\cdots < a_{19}\\).\n\nWhen \\(t = 0\\), we substitute \\(x = -100\\). Since \\(\\frac{|a_{19} \\cdot 100^{19}|}{20} > |100^{20}|, |a_{18} \\cdot 100^{18}|, |a_{17} \\cdot 100^{17}|, \\ldots, |a_0|\\), we have \\(P(-100) < 0\\).\n\nAs \\(t \\rightarrow \\infty\\), \\(a_{18} \\rightarrow \\infty\\). When \\(a_{18} > -\\min_{x < 0} \\left( x^2 + a_{19}x + \\frac{a_{17}}{x} + \\cdots + \\frac{a_0}{x^{18}} \\right)\\), \\(P(x) \\geq 0\\) for all \\(x < 0\\). This minimum exists because as \\(x \\rightarrow 0\\), \\(\\frac{a_0}{x^{18}}\\) dominates and the sum tends to positive infinity, so it is positive for some \\(x > x_0\\). Meanwhile, as \\(x \\rightarrow -\\infty\\), \\(x^2\\) dominates, and the sum is positive for some \\(x < x_1\\). The middle interval is closed and bounded, so it achieves its minimum which is finite.\n\nMeanwhile, \\(P(x) > 0\\) for all \\(x \\geq 0\\).\n\nFix \\(t\\) as the minimum value such that \\(P(x) \\geq 0\\) for all \\(x\\). By continuity, there is a root \\(y\\) of \\(P(x)\\), which is clearly negative. If \\(-1 \\leq y < 0\\), then \\(a_{19}y^{19} + a_{18}y^{18} > a_{18}(y^{18} + y^{19}) \\geq 0\\). Grouping the rest similarly in pairs, and using \\(y^{20} > 0\\), \\(P(y) > 0\\), a contradiction.\n\nHence \\(y < -1\\), and \\(y^{19} < y^{17} < \\cdots < y^1 < y^0 < y^2 < \\cdots < y^{18}\\). Since \\(a_{19} < a_{17} < \\cdots < a_1 < a_0 < a_2 < \\cdots < a_{18}\\), by the rearrangement inequality, \\(0 = P(y) > P_\\sigma(y)\\) for \\(\\sigma \\neq \\text{Id}\\).\n\nAdding a small \\(\\delta\\) to \\(t\\), \\(P(x) > 0\\) for all \\(x\\), while \\(P_\\sigma(x)\\) (\\(\\sigma \\neq \\text{Id}\\)) takes both positive and negative values. Therefore, such positive reals \\(a_0, a_1, \\ldots, a_{19}\\) do exist.\n\nThe answer is: \\boxed{\\text{Yes}}.", "answer": "\\text{Yes}", "source": "china_national_olympiad"}, {"domain": ["Mathematics -> Algebra -> Abstract Algebra -> Group Theory"], "difficulty": 7.0, "problem": "Let $p$ be a prime. We arrange the numbers in ${\\{1,2,\\ldots ,p^2} \\}$ as a $p \\times p$ matrix $A = ( a_{ij} )$. Next we can select any row or column and add $1$ to every number in it, or subtract $1$ from every number in it. We call the arrangement [i]good[/i] if we can change every number of the matrix to $0$ in a finite number of such moves. How many good arrangements are there?", "solution": "\nLet \\( p \\) be a prime. We arrange the numbers in \\( \\{1, 2, \\ldots, p^2\\} \\) as a \\( p \\times p \\) matrix \\( A = (a_{ij}) \\). We can select any row or column and add 1 to every number in it, or subtract 1 from every number in it. We call the arrangement \"good\" if we can change every number of the matrix to 0 in a finite number of such moves. We aim to determine the number of good arrangements.\n\nAssume we start with a good matrix and let \\( a_i \\) and \\( b_j \\) be the numbers of operations (\"numbers add one\" minus \"numbers subtract one\") on the \\( i \\)-th row and \\( j \\)-th column, respectively, to get a zero matrix. Then we should have:\n\\[\na_{ij} + a_i + b_j = 0.\n\\]\nSumming up all these equations, we obtain:\n\\[\n\\sum_{i=1}^p a_i + \\sum_{j=1}^p b_j = -p \\left( \\frac{p^2 + 1}{2} \\right).\n\\]\nAs a result, it implies the sum of numbers that lie on \\( A_{1\\sigma(1)}, A_{2\\sigma(2)}, \\ldots, A_{p\\sigma(p)} \\) is constant for all \\( \\sigma \\in S_p \\).\n\nBy comparing these equations, we find that the first row of the matrix is just a translation of the second row, i.e., \\( A_{1i} - A_{2i} \\) is constant for \\( 1 \\leq i \\leq p \\). This is true for any two other rows as well. \n\nThus, the problem boils down to finding \\( a_1, a_2, \\ldots, a_p \\in \\{1, 2, \\ldots, p^2\\} \\) and \\( 0 = x_1, x_2, \\ldots, x_{p-1} \\in \\mathbb{Z} \\) such that:\n\\[\nB_i = \\{a_1 + x_i, a_2 + x_i, \\ldots, a_p + x_i\\}\n\\]\nrepresents the \\( i \\)-th row of matrix \\( M \\) for \\( 1 \\leq i \\leq p \\), representing a partition of \\( \\{1, 2, \\ldots, p^2\\} \\).\n\nWithout loss of generality, we can assume \\( 1 = a_1 < a_2 < \\ldots < a_p \\) and \\( 0 = x_1 < x_2 < \\ldots < x_{p-1} \\). We try to prove that either \\( x_i = i-1 \\) (first column is \\( \\{1, 2, \\ldots, p\\} \\)) or \\( a_i = i \\) (first row is \\( \\{1, 2, \\ldots, p\\} \\)).\n\nIf \\( a_2 > 2 \\) and \\( x_2 > 1 \\), then neither the first row nor any other rows contain 2. We have two cases to consider:\n\n1. \\( x_2 = 1 \\):\n   This is straightforward. If \\( x_3 > 2 \\), then there is no possible position for 3, so \\( x_3 = 2 \\). Continuing in the same way, we find \\( x_i = i-1 \\).\n\n2. \\( a_2 = 2 \\):\n   Let \\( k \\) be the greatest number such that \\( a_i = i \\) for all \\( 1 \\leq i \\leq k \\). Then where is \\( k+1 \\)? Yes, \\( x_2 = k \\) and \\( k+1, \\ldots, 2k \\) lie below \\( 1, 2, \\ldots, k \\). Playing around with possible positions, we arrive at the matrix:\n   \\[\n   M = \\begin{bmatrix}\n   1 & 2 & \\ldots & k & 2k+1 & 2k+2 & \\ldots & 3k & 4k+1 & \\ldots \\\\\n   k+1 & k+2 & \\ldots & 2k & 3k+1 & 3k+2 & \\ldots & 4k & 5k+1 & \\ldots \\\\\n   & & & & & \\\\\n   & & & & &\n   \\end{bmatrix}\n   \\]\n   This matrix implies \\( k \\mid p \\), which is a contradiction since \\( p \\) is prime.\n\nTherefore, in both cases, we can suppose that \\( a_i = i \\). This argument works symmetrically for columns as well. Hence, the number of good arrangements is:\n\\[\n2(p!)^2.\n\\]\nThe answer is: \\boxed{2(p!)^2}.", "answer": "2(p!)^2", "source": "china_national_olympiad"}, {"domain": ["Mathematics -> Discrete Mathematics -> Algorithms"], "difficulty": 7.0, "problem": "A physicist encounters $2015$ atoms called usamons. Each usamon either has one electron or zero electrons, and the physicist can't tell the difference.  The physicist's only tool is a diode. The physicist may connect the diode from any usamon $A$ to any other usamon $B$. (This connection is directed.) When she does so, if usamon $A$ has an electron and usamon $B$ does not, then the electron jumps from $A$ to $B$. In any other case, nothing happens. In addition, the physicist cannot tell whether an electron jumps during any given step.  The physicist's goal is to isolate two usamons that she is  sure are currently in the same state. Is there any series of diode usage that makes this possible?", "solution": "\nLet the physicist label the usamons as \\(1, 2, \\ldots, 2015\\). Define \\(x_i = 0\\) if usamon \\(i\\) has no electron and \\(x_i = 1\\) if it has an electron.\n\n**Lemma:** If there exists a permutation \\(\\sigma \\in S_n\\) such that the physicist's knowledge is exactly\n\\[ x_{\\sigma(1)} \\le x_{\\sigma(2)} \\le \\cdots \\le x_{\\sigma(n)}, \\]\nthen firing a diode does not change this fact (though \\(\\sigma\\) may change).\n\n**Proof of Lemma:** If the physicist fires a diode from usamon \\(i\\) to usamon \\(j\\) where \\(\\sigma(i) < \\sigma(j)\\), then the physicist knows the charge distribution won't change. However, if \\(\\sigma(i) > \\sigma(j)\\), then the charges on \\(i\\) and \\(j\\) will swap. Thus, if \\(\\sigma'\\) is a permutation such that \\(\\sigma'(j) = \\sigma(i)\\) and \\(\\sigma'(i) = \\sigma(j)\\), and otherwise \\(\\sigma'(x) = \\sigma(x)\\), then the physicist's information is of the form\n\\[ x_{\\sigma'(1)} \\le x_{\\sigma'(2)} \\le \\cdots \\le x_{\\sigma'(n)}. \\]\nThus, the lemma is proven. \\(\\blacksquare\\)\n\nThis implies that if the physicist has information\n\\[ x_{\\sigma(1)} \\le x_{\\sigma(2)} \\le \\cdots \\le x_{\\sigma(n)}, \\]\nthen she can never win, because whatever she does, she'll end up with the information\n\\[ x_{\\sigma'(1)} \\le x_{\\sigma'(2)} \\le \\cdots \\le x_{\\sigma'(n)}. \\]\nAt this point, if she presents usamons \\(i\\) and \\(j\\) with \\(\\sigma'(i) < \\sigma'(j)\\), simply set \\(x_i = 0\\) and \\(x_j = 1\\), and the physicist loses.\n\nSince the physicist starts with no information, and even if she knew the \\(\\sigma \\in S_n\\) such that\n\\[ x_{\\sigma(1)} \\le x_{\\sigma(2)} \\le \\cdots \\le x_{\\sigma(n)}, \\]\nshe still couldn't win. Therefore, with no information to start with, she certainly cannot win. \\(\\blacksquare\\)\n\nThe answer is: \\boxed{\\text{No}}.", "answer": "\\text{No}", "source": "usa_team_selection_test"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Polygons", "Mathematics -> Algebra -> Other"], "difficulty": 8.0, "problem": "There are $2022$ equally spaced points on a circular track $\\gamma$ of circumference $2022$. The points are labeled $A_1, A_2, \\ldots, A_{2022}$ in some order, each label used once. Initially, Bunbun the Bunny begins at $A_1$. She hops along $\\gamma$ from $A_1$ to $A_2$, then from $A_2$ to $A_3$, until she reaches $A_{2022}$, after which she hops back to $A_1$. When hopping from $P$ to $Q$, she always hops along the shorter of the two arcs $\\widehat{PQ}$ of $\\gamma$; if $\\overline{PQ}$ is a diameter of $\\gamma$, she moves along either semicircle.\n\nDetermine the maximal possible sum of the lengths of the $2022$ arcs which Bunbun traveled, over all possible labellings of the $2022$ points.\n\n[i]Kevin Cong[/i]", "solution": "\nThere are \\(2022\\) equally spaced points on a circular track \\(\\gamma\\) of circumference \\(2022\\). The points are labeled \\(A_1, A_2, \\ldots, A_{2022}\\) in some order, each label used once. Initially, Bunbun the Bunny begins at \\(A_1\\). She hops along \\(\\gamma\\) from \\(A_1\\) to \\(A_2\\), then from \\(A_2\\) to \\(A_3\\), until she reaches \\(A_{2022}\\), after which she hops back to \\(A_1\\). When hopping from \\(P\\) to \\(Q\\), she always hops along the shorter of the two arcs \\(\\widehat{PQ}\\) of \\(\\gamma\\); if \\(\\overline{PQ}\\) is a diameter of \\(\\gamma\\), she moves along either semicircle.\n\nTo determine the maximal possible sum of the lengths of the \\(2022\\) arcs which Bunbun traveled, we consider the following:\n\nLabel the points around the circle \\(P_1\\) to \\(P_{2022}\\) in circular order. Without loss of generality, let \\(A_1 = P_1\\).\n\nAn equality case occurs when the points are labeled as follows: \\(P_1, P_{1012}, P_2, P_{1013}, \\ldots, P_{1011}, P_{2022}\\), then back to \\(P_1\\).\n\nConsider the sequence of points \\(A_1 = P_1, A_3, \\ldots, A_{2021}\\). The sum of the lengths of the \\(2022\\) arcs is at most the sum of the major arcs \\(\\widehat{A_1A_3}, \\widehat{A_3A_5}, \\ldots, \\widehat{A_{2021}A_1}\\).\n\nThis is \\(2022 \\cdot 1011\\) minus the sum of the minor arcs \\(\\widehat{A_1A_3}, \\widehat{A_3A_5}, \\ldots, \\widehat{A_{2021}A_1}\\) (denote this sum as \\(S\\)). The sum \\(S\\) is minimized when \\(A_1A_3 \\ldots A_{2021}\\) forms a convex polygon. If the polygon includes point \\(P_{1012}\\) or has points on both sides of the diameter \\(P_1P_{1012}\\), the sum of arc lengths is \\(2022\\). Otherwise, it is \\(P_1P_2P_3 \\ldots P_{1011}\\) or \\(P_1P_{2022}P_{2021} \\ldots P_{1013}\\), and the sum of arc lengths is \\(2020\\).\n\nThus, the maximal possible sum of the lengths of the \\(2022\\) arcs is:\n\\[\n2022 \\cdot 1011 - 2020 = 2042222.\n\\]\n\nThe answer is: \\boxed{2042222}.", "answer": "2042222", "source": "usa_team_selection_test_for_imo"}, {"domain": ["Mathematics -> Discrete Mathematics -> Graph Theory"], "difficulty": 9.0, "problem": "A table tennis club hosts a series of doubles matches following several rules:\n(i)  each player belongs to two pairs at most;\n(ii) every two distinct pairs play one game against each other at most;\n(iii) players in the same pair do not play against each other when they pair with others respectively.\nEvery player plays a certain number of games in this series. All these distinct numbers make up a set called the \u201c[i]set of games[/i]\u201d. Consider a set $A=\\{a_1,a_2,\\ldots ,a_k\\}$ of positive integers such that every element in $A$ is divisible by $6$. Determine the minimum number of players needed to participate in this series so that a schedule for which the corresponding [i]set of games [/i] is equal to set $A$ exists.", "solution": "\nTo determine the minimum number of players needed to participate in the series such that the set of games is equal to the set \\( A \\), we start by analyzing the problem through graph theory.\n\nConsider a graph \\( \\mathcal{G} \\) where each vertex represents a player and an edge between two vertices represents a pair of players. According to the problem's conditions:\n1. Each player belongs to at most two pairs.\n2. Every two distinct pairs play one game against each other at most.\n3. Players in the same pair do not play against each other when they pair with others respectively.\n\nGiven these conditions, each vertex in \\( \\mathcal{G} \\) can have a degree of at most 2. This implies that \\( \\mathcal{G} \\) can be decomposed into disjoint cycles, paths, and isolated vertices.\n\nLet \\( \\max A = a \\). We need to ensure that there is a player who plays \\( a \\) games, and each element in \\( A \\) is divisible by 6. To achieve this, we need to construct a graph where the number of games each player plays corresponds to the elements in \\( A \\).\n\n### Proof of Optimality\nLet \\( x \\) be a vertex with the maximum number of games \\( a \\). This vertex \\( x \\) must be connected to at least one other vertex. If \\( x \\) has only one edge, it must have \\( a \\) games on it. If \\( x \\) has two edges, each edge must have at least \\( \\frac{a}{2} \\) games.\n\nLet \\( xy \\) be an edge with \\( \\geq \\frac{a}{2} \\) games. The remaining vertices must account for at least \\( \\frac{a}{2} \\) edges, ensuring that there are at least \\( \\frac{a}{2} + 2 \\) vertices. However, due to the constraints, there must be at least \\( \\frac{a}{2} + 3 \\) vertices to satisfy all conditions.\n\n### Construction\nTo construct such a graph, we can use clusters of three players, each forming pairs within the cluster. This ensures that each player in a cluster plays 6 games per edge. By assigning each cluster to a vertex in a graph \\( \\mathcal{G} \\) with \\( b \\) vertices, where \\( b = \\frac{1}{6} \\max A + 1 \\), we can ensure that the set of games corresponds to \\( A \\).\n\nThus, the minimum number of players needed is:\n\\[\n\\frac{1}{2} \\max A + 3.\n\\]\n\nThe answer is: \\boxed{\\frac{1}{2} \\max A + 3}.", "answer": "\\frac{1}{2} \\max A + 3", "source": "china_national_olympiad"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Other", "Mathematics -> Discrete Mathematics -> Combinatorics", "Mathematics -> Discrete Mathematics -> Graph Theory"], "difficulty": 7.0, "problem": "For a pair $ A \\equal{} (x_1, y_1)$ and $ B \\equal{} (x_2, y_2)$ of points on the coordinate plane, let $ d(A,B) \\equal{} |x_1 \\minus{} x_2| \\plus{} |y_1 \\minus{} y_2|$. We call a pair $ (A,B)$ of (unordered) points [i]harmonic[/i] if $ 1 < d(A,B) \\leq 2$. Determine the maximum number of harmonic pairs among 100 points in the plane.", "solution": "\nGiven a set of 100 points in the plane, we want to determine the maximum number of harmonic pairs, where a pair \\((A, B)\\) of points is considered harmonic if \\(1 < d(A, B) \\leq 2\\) and \\(d(A, B) = |x_1 - x_2| + |y_1 - y_2|\\).\n\nTo solve this problem, we can transform the distance function to make it easier to handle. By rotating the plane by 45 degrees, we change the coordinates of a point \\(P = (x, y)\\) to \\(P' = (x - y, x + y)\\). Under this transformation, the Manhattan distance \\(d(P, Q)\\) becomes \\(d'(P', Q') = \\max \\{ |P'_x - Q'_x|, |P'_y - Q'_y| \\}\\).\n\nWe claim that the maximum number of harmonic pairs is \\(\\frac{3 \\times 100^2}{4 \\times 2} = 3750\\). To achieve this bound, we can place 25 points each in small neighborhoods around the four points \\((\\pm \\frac{1.0201082102011209}{2}, \\pm \\frac{1.0201082102011209}{2})\\).\n\nTo prove that this is the maximum number, we construct a graph \\(G\\) with 100 vertices, where two vertices are connected if the corresponding points are harmonic. We need to show that \\(G\\) has no \\(K_5\\) (complete graph on 5 vertices).\n\n**Claim:** \\(G\\) has no \\(K_5\\).\n\n**Proof:** Consider the following two facts:\n1. If a coloring of the edges of \\(K_5\\) with two colors does not produce a monochromatic triangle, then it must have a monochromatic cycle of length 5.\n2. It is impossible to find three real numbers \\(A, B, C\\) such that all points \\((A, 0), (B, 0), (C, 0)\\) are mutually harmonic.\n\nFor each edge \\(PQ\\) in \\(G\\), color the edge red if \\(\\max \\{ |P_x - Q_x|, |P_y - Q_y| \\} = |P_x - Q_x|\\), or blue otherwise. Suppose, for contradiction, that there is a \\(K_5\\) in \\(G\\) with points \\(A, B, C, D, E\\). By fact 2, it has no monochromatic triangle, so by fact 1, it has a monochromatic cycle of length 5. Without loss of generality, assume the cycle is red, and let it be \\(A \\rightarrow B \\rightarrow \\cdots \\rightarrow E\\).\n\nIf \\(\\max(A_y, B_y, C_y, D_y, E_y) - \\min(A_y, B_y, C_y, D_y, E_y) > 2\\), we have a contradiction because the extreme points would not be harmonic. Therefore, \\(\\max(A_y, B_y, C_y, D_y, E_y) - \\min(A_y, B_y, C_y, D_y, E_y) \\leq 2\\). Assume \\(\\min(A_y, B_y, C_y, D_y, E_y) = A_y = 0\\), so \\(\\max(A_y, B_y, C_y, D_y, E_y) \\leq 2\\). Thus, \\(A_y, B_y, C_y, D_y, E_y \\in [0, 2]\\).\n\nColor the vertices with ordinate in \\([0, 1]\\) black and those in \\((1, 2]\\) white. Traversing \\(A \\rightarrow B \\rightarrow \\cdots \\rightarrow E\\) changes the color of the interval each time, implying the odd cycle is bipartite, which is a contradiction.\n\nBy Turan's theorem, the strictest bound possible for the number of edges in \\(G\\) without a \\(K_5\\) is \\(\\frac{3 \\times 100^2}{4 \\times 2} = 3750\\).\n\nThe answer is \\(\\boxed{3750}\\).", "answer": "3750", "source": "usa_team_selection_test"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Polygons", "Mathematics -> Number Theory -> Other"], "difficulty": 7.0, "problem": "Draw a $2004 \\times 2004$ array of points. What is the largest integer $n$ for which it is possible to draw a convex $n$-gon whose vertices are chosen from the points in the array?", "solution": "\nTo determine the largest integer \\( n \\) for which it is possible to draw a convex \\( n \\)-gon whose vertices are chosen from the points in a \\( 2004 \\times 2004 \\) array, we need to consider the properties of the convex hull and the arrangement of points.\n\nGiven the array of points, the problem can be approached by considering the number of points that can be selected such that no three points are collinear and the resulting polygon is convex. \n\nThe key insight is to use properties of coprime vectors and the Euler's totient function to construct the convex \\( n \\)-gon. By analyzing the sum of the totient function values and ensuring the convexity and non-collinearity conditions, we can determine the maximum \\( n \\).\n\nFrom the detailed analysis and construction provided, it is found that the largest \\( n \\) for which it is possible to draw a convex \\( n \\)-gon in a \\( 2004 \\times 2004 \\) array is 561.\n\nThe answer is: \\boxed{561}.", "answer": "561", "source": "usa_team_selection_test"}, {"domain": ["Mathematics -> Discrete Mathematics -> Graph Theory"], "difficulty": 7.0, "problem": "Given $30$ students such that each student has at most $5$ friends and for every $5$ students there is a pair of students that are not friends, determine the maximum $k$ such that for all such possible configurations, there exists $k$ students who are all not friends.", "solution": "\nGiven 30 students such that each student has at most 5 friends and for every 5 students there is a pair of students that are not friends, we need to determine the maximum \\( k \\) such that for all such possible configurations, there exists \\( k \\) students who are all not friends.\n\nIn graph theory terms, we are given a regular graph with 30 vertices and degree 5, with no \\( K_5 \\) subgraphs. We aim to find the maximum size \\( k \\) of an independent set in such a graph.\n\nWe claim that \\( k = 6 \\). To show this, we need to construct a graph that satisfies the given conditions and has an independent set of size 6, and also prove that any such graph must have an independent set of at least size 6.\n\nConsider a graph \\( G \\) with 10 vertices: \\( v_1, v_2, v_3, v_4, v_5, w_1, w_2, w_3, w_4, w_5 \\). Construct two cycles \\( v_1v_2v_3v_4v_5 \\) and \\( w_1w_2w_3w_4w_5 \\), and for \\( i, j \\in \\{1, 2, 3, 4, 5\\} \\), join \\( v_i \\) and \\( w_j \\) if and only if \\( i - j \\equiv 0, \\pm 1 \\pmod{5} \\). This graph \\( G \\) has no independent set of size greater than 2 and no \\( K_5 \\).\n\nNow, consider a graph \\( G' \\) that consists of three copies of \\( G \\). The maximum size of an independent set in \\( G' \\) is no more than three times the maximum size of an independent set in \\( G \\), which is 6. Thus, \\( G' \\) is a \\( K_5 \\)-free regular graph with degree 5 and an independent set of size at most 6.\n\nTo show that any graph satisfying the conditions has an independent set of size 6, we use Tur\u00e1n's Theorem. The complement graph \\( \\overline{G} \\) has 30 vertices and at least 360 edges. If \\( \\overline{G} \\) does not have a \\( K_6 \\), then by Tur\u00e1n's Theorem, \\( G \\) can have at most 360 edges, leading to a contradiction. Therefore, \\( \\overline{G} \\) must have an independent set of size 6, implying \\( G \\) has an independent set of size 6.\n\nThus, the maximum \\( k \\) such that there exists \\( k \\) students who are all not friends is:\n\\[\n\\boxed{6}\n\\]", "answer": "6", "source": "china_national_olympiad"}, {"domain": ["Mathematics -> Algebra -> Algebra -> Polynomial Operations", "Mathematics -> Number Theory -> Greatest Common Divisors (GCD)"], "difficulty": 8.0, "problem": "Let $P$ be a polynomial with integer coefficients such that $P(0)=0$ and\n\\[\\gcd(P(0), P(1), P(2), \\ldots ) = 1.\\]\nShow there are infinitely many $n$ such that\n\\[\\gcd(P(n)- P(0), P(n+1)-P(1), P(n+2)-P(2), \\ldots) = n.\\]", "solution": "\nLet \\( P \\) be a polynomial with integer coefficients such that \\( P(0) = 0 \\) and\n\\[\n\\gcd(P(0), P(1), P(2), \\ldots ) = 1.\n\\]\nWe need to show that there are infinitely many \\( n \\) such that\n\\[\n\\gcd(P(n) - P(0), P(n+1) - P(1), P(n+2) - P(2), \\ldots) = n.\n\\]\n\nConsider the polynomial \\( P(x) = x^k Q(x) \\), where \\( Q(0) \\neq 0 \\). We claim that if \\( n = p^k \\) for any prime \\( p \\) not dividing \\( k Q(1) + Q'(1) \\), then \\( n \\) will satisfy the conditions of the problem.\n\nIt is clear that \\( p^k \\mid P(p^k + i) - P(i) \\) for all \\( i \\), hence \\( p^k \\mid \\gcd(P(p^k + i) - P(0), P(p^k + 1) - P(1), P(p^k + 2) - P(2), \\ldots) \\). We now claim that \\( p^{k+1} \\nmid P(p^k + 1) - P(1) \\). Let \\( Q(x) = \\sum_{i=0}^m c_i x^i \\), then\n\\[\n\\begin{align*}\nP(p^k + 1) - P(1) &= (p^k + 1)^k Q(p^k + 1) - Q(1) \\\\\n&= \\left( \\sum_{i=0}^k \\binom{k}{i} (p^k)^i \\right) Q(p^k + 1) - Q(1) \\\\\n&\\equiv (k p^k + 1) Q(p^k + 1) - Q(1) \\\\\n&= k p^k Q(p^k + 1) + (Q(p^k + 1) - Q(1)) \\\\\n&= k p^k Q(p^k + 1) + \\sum_{i=0}^m c_i ((p^k + 1)^i - 1^i) \\\\\n&= k p^k Q(p^k + 1) + \\sum_{i=0}^m c_i \\left(-1 + \\sum_{j=0}^i \\binom{i}{j} (p^k)^j \\right) \\\\\n&\\equiv k p^k Q(p^k + 1) + \\sum_{i=0}^m i c_i p^k \\\\\n&= p^k (k Q(p^k + 1) + Q'(1)) \\pmod{p^{k+1}}.\n\\end{align*}\n\\]\nThus,\n\\[\n\\frac{P(p^k + 1) - P(1)}{p^k} = k Q(p^k + 1) + Q'(1) \\equiv k Q(1) + Q'(1) \\not\\equiv 0 \\pmod{p},\n\\]\nso \\( p^k \\) fully divides \\( \\gcd(P(p^k + i) - P(0), P(p^k + 1) - P(1), P(p^k + 2) - P(2), \\ldots) \\).\n\nTo show that no other prime \\( q \\neq p \\) divides each of \\( P(p^k) - P(0), P(p^k + 1) - P(1), P(p^k + 2) - P(2), \\ldots \\), suppose for contradiction that \\( q \\mid P(p^k + i) - P(i) \\) for all positive integers \\( i \\). Observing that \\( q \\mid P(q + i) - P(i) \\), we find that \\( P(i + ap^k + bq) \\equiv P(i) \\pmod{q} \\) for all integers \\( a \\) and \\( b \\). Since \\( \\gcd(p^k, q) = 1 \\), we can choose \\( a \\) and \\( b \\) such that \\( ap^k + bq = 1 \\), yielding \\( q \\mid P(i + 1) - P(i) \\) for all \\( i \\). But \\( q \\mid P(0) = 0 \\), so \\( q \\mid P(i) \\) for all nonnegative \\( i \\), which contradicts the hypothesis.\n\nTherefore, there are infinitely many \\( n \\) such that\n\\[\n\\gcd(P(n) - P(0), P(n + 1) - P(1), P(n + 2) - P(2), \\ldots) = n.\n\\]\n\nThe answer is: \\boxed{\\text{infinitely many } n}.", "answer": "\\text{infinitely many } n", "source": "usa_team_selection_test"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Triangulations", "Mathematics -> Precalculus -> Trigonometric Functions"], "difficulty": 8.0, "problem": "Find the smallest positive real constant $a$, such that for any three points $A,B,C$ on the unit circle, there exists an equilateral triangle $PQR$ with side length $a$ such that all of $A,B,C$ lie on the interior or boundary of $\\triangle PQR$.", "solution": "\nFind the smallest positive real constant \\( a \\), such that for any three points \\( A, B, C \\) on the unit circle, there exists an equilateral triangle \\( PQR \\) with side length \\( a \\) such that all of \\( A, B, C \\) lie on the interior or boundary of \\( \\triangle PQR \\).\n\nTo determine the smallest such \\( a \\), consider the following construction and proof:\n\n1. **Proof of Optimality**:\n   - Consider a triangle \\( ABC \\) inscribed in the unit circle with angles \\( \\angle A = 20^\\circ \\) and \\( \\angle B = \\angle C = 80^\\circ \\).\n   - The smallest equilateral triangle \\( PQR \\) containing \\( \\triangle ABC \\) must have side length \\( \\frac{4}{\\sqrt{3}} \\sin^2 80^\\circ \\).\n\n2. **Proof of Sufficiency**:\n   - For any triangle \\( ABC \\) inscribed in the unit circle, we can always find an equilateral triangle \\( PQR \\) with side length \\( \\frac{4}{\\sqrt{3}} \\sin^2 80^\\circ \\) that contains \\( \\triangle ABC \\).\n   - This is shown by considering different cases based on the angles of \\( \\triangle ABC \\) and constructing appropriate equilateral triangles \\( PQR \\) that contain \\( \\triangle ABC \\).\n\nTherefore, the smallest positive real constant \\( a \\) such that any three points \\( A, B, C \\) on the unit circle can be enclosed by an equilateral triangle \\( PQR \\) with side length \\( a \\) is:\n\n\\[\na = \\frac{4}{\\sqrt{3}} \\sin^2 80^\\circ.\n\\]\n\nThe answer is: \\(\\boxed{\\frac{4}{\\sqrt{3}} \\sin^2 80^\\circ}\\).", "answer": "\\frac{4}{\\sqrt{3}} \\sin^2 80^\\circ", "source": "china_team_selection_test"}, {"domain": ["Mathematics -> Applied Mathematics -> Statistics -> Probability -> Counting Methods -> Combinations"], "difficulty": 8.0, "problem": "Given positive integers $n$ and $k$, $n > k^2 >4.$ In a $n \\times n$ grid, a $k$[i]-group[/i] is a set of $k$ unit squares lying in different rows and different columns.\nDetermine the maximal possible $N$, such that one can choose $N$ unit squares in the grid and color them, with the following condition holds: in any $k$[i]-group[/i] from the colored $N$ unit squares, there are two squares with the same color, and there are also two squares with different colors.", "solution": "\nGiven positive integers \\( n \\) and \\( k \\) such that \\( n > k^2 > 4 \\), we aim to determine the maximal possible \\( N \\) such that one can choose \\( N \\) unit squares in an \\( n \\times n \\) grid and color them, with the condition that in any \\( k \\)-group from the colored \\( N \\) unit squares, there are two squares with the same color and two squares with different colors.\n\nThe maximal possible \\( N \\) is:\n\\[\nN = n(k-1)^2.\n\\]\n\nThe answer is: \\boxed{n(k-1)^2}.", "answer": "n(k-1)^2", "source": "china_team_selection_test"}, {"domain": ["Mathematics -> Discrete Mathematics -> Graph Theory"], "difficulty": 8.5, "problem": "Induction works. Assume we have shown the result to be true for small $n$.\n\nSuppose we are given $2(n+1)$ points with $(n+1)^2+1$ edges between them. By Turan's Theorem, there is a triangle. This means that we can choose two vertices $x,y$ of the triangle with degrees of the same parity. They are, of course, connected, since they form a side of the triangle. If the other $2n$ points have $n^2+1$ sides between them, then we're done by the induction hypothesis. If, on the other hand, they do not, there are at least $2n+2$ edges adjacent to either $x$ or $y$. One of these edges is between the two, and there can't be only $2n+1$ more because the degrees of $x,y$ have the same parity. This means that there are at least $2n+2$ edges adjacent to either $x$ or $y$ but not both. From here we easily conclude that $x,y$ have at least two common neighbours $u,v$, and $x,y,u,v$ is the \"$K_4-$ one edge\" :).", "solution": "\nWe will prove the problem by induction on \\( n \\).\n\n**Base Case:**\nFor small values of \\( n \\), the result can be checked by hand.\n\n**Inductive Step:**\nAssume the result holds for some \\( n \\geq 4 \\). That is, any graph with \\( 2n \\) vertices and \\( n^2 + 1 \\) edges contains a \\( K_4 \\) minus one edge.\n\nConsider a graph \\( G \\) with \\( 2(n+1) \\) vertices and \\( (n+1)^2 + 1 \\) edges. By Turan's Theorem, this graph contains a triangle, say \\( \\triangle ABC \\).\n\nLet \\( V(G) \\) denote the set of vertices of \\( G \\). For any vertex \\( v \\in V(G) \\setminus \\{A, B, C\\} \\), if \\( v \\) is a neighbor of any two of \\(\\{A, B, C\\}\\), then we will get a \\( K_4 \\) minus one edge.\n\nOtherwise, assume any vertex in \\( V(G) \\setminus \\{A, B, C\\} \\) is incident with at most one of \\(\\{A, B, C\\}\\). Hence, we get:\n\\[\n\\deg(A) + \\deg(B) + \\deg(C) \\leq (2(n+1) - 3) + 6\n\\]\nThe \\( +6 \\) term accounts for each of \\( AB, BC, \\) and \\( CA \\) being counted twice.\n\nBy the pigeonhole principle, we have:\n\\[\n\\min\\{\\deg(A) + \\deg(B), \\deg(B) + \\deg(C), \\deg(C) + \\deg(A)\\} \\leq \\frac{2}{3}((2(n+1) - 3) + 6)\n\\]\n\nWithout loss of generality, assume:\n\\[\n\\deg(A) + \\deg(B) \\leq \\frac{4}{3}(n+1) + 2 \\leq 2(n+1) - 1\n\\]\n\nThus, the graph \\( G' = G - \\{A, B\\} \\) has \\( 2(n+1) - 2 = 2n \\) vertices and at least:\n\\[\n(n+1)^2 + 1 - (2(n+1) - 1) = n^2 + 1\n\\]\nedges. By the induction hypothesis, \\( G' \\) contains a \\( K_4 \\) minus one edge.\n\nTherefore, the graph \\( G \\) also contains a \\( K_4 \\) minus one edge, completing the induction step.\n\nHence, by induction, the statement holds for all \\( n \\geq 4 \\).\n\nThe answer is: \\(\\boxed{\\text{Proven}}\\).", "answer": "\\text{Proven}", "source": "china_team_selection_test"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Triangulations"], "difficulty": 8.0, "problem": "Points $A$, $V_1$, $V_2$, $B$, $U_2$, $U_1$ lie fixed on a circle $\\Gamma$, in that order, and such that $BU_2 > AU_1 > BV_2 > AV_1$.\n\nLet $X$ be a variable point on the arc $V_1 V_2$ of $\\Gamma$ not containing $A$ or $B$.  Line $XA$ meets line $U_1 V_1$ at $C$, while line $XB$ meets line $U_2 V_2$ at $D$.  Let $O$ and $\\rho$ denote the circumcenter and circumradius of $\\triangle XCD$, respectively.\n\nProve there exists a fixed point $K$ and a real number $c$, independent of $X$, for which $OK^2 - \\rho^2 = c$ always holds regardless of the choice of $X$.", "solution": "\nGiven the points \\( A, V_1, V_2, B, U_2, U_1 \\) on a circle \\(\\Gamma\\) in that order, with \\( BU_2 > AU_1 > BV_2 > AV_1 \\), and a variable point \\( X \\) on the arc \\( V_1 V_2 \\) of \\(\\Gamma\\) not containing \\( A \\) or \\( B \\), we need to prove the existence of a fixed point \\( K \\) and a real number \\( c \\) such that \\( OK^2 - \\rho^2 = c \\), where \\( O \\) and \\( \\rho \\) denote the circumcenter and circumradius of \\(\\triangle XCD\\), respectively.\n\nTo solve this, we proceed as follows:\n\n1. Define points \\( B' \\) and \\( A' \\) on \\(\\Gamma\\) such that \\( BB' \\parallel U_2V_2 \\) and \\( AA' \\parallel U_1V_1 \\).\n2. Let \\( K \\) be the intersection point of lines \\( AB' \\) and \\( BA' \\).\n\nWe claim that \\( K \\) is the fixed point we are looking for.\n\n3. Let \\( AB' \\cap U_2V_2 = B_1 \\) and \\( BA' \\cap U_1V_1 = A_1 \\). Note that \\( \\angle AXB = 180^\\circ - \\angle AB'B = 180^\\circ - \\angle AB_1D \\), implying that quadrilateral \\( XADB_1 \\) is cyclic. Similarly, \\( BXA_1C \\) is cyclic.\n\n4. Using the power of a point theorem, we have:\n   \\[\n   p_K((AXD)) = KA \\cdot KB_1 \\quad \\text{and} \\quad p_K((BXC)) = KB \\cdot KA_1,\n   \\]\n   both of which are fixed values.\n\n5. Since \\( p_K((AXB)) \\) is fixed because the circle \\((AXB)\\) does not change, it follows that \\( p_K((CXD)) \\) is also fixed. This is because for any point \\( Q \\), the sum of the powers of \\( Q \\) with respect to the circles \\((AXB)\\) and \\((CXD)\\) equals the sum of the powers of \\( Q \\) with respect to the circles \\((AXD)\\) and \\((BXC)\\).\n\nThus, we have shown that there exists a fixed point \\( K \\) and a constant \\( c \\) such that \\( OK^2 - \\rho^2 = c \\) for any choice of \\( X \\).\n\nThe answer is: \\boxed{K \\text{ is the intersection of } AB' \\text{ and } BA', \\text{ and } c \\text{ is a constant}}.", "answer": "K \\text{ is the intersection of } AB' \\text{ and } BA', \\text{ and } c \\text{ is a constant}", "source": "usa_team_selection_test_for_imo"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Other", "Mathematics -> Applied Mathematics -> Probability -> Other"], "difficulty": 8.0, "problem": "Find a real number $t$ such that for any set of 120 points $P_1, \\ldots P_{120}$ on the boundary of a unit square, there exists a point $Q$ on this boundary with $|P_1Q| + |P_2Q| + \\cdots + |P_{120}Q| = t$.", "solution": "\nWe need to find a real number \\( t \\) such that for any set of 120 points \\( P_1, \\ldots, P_{120} \\) on the boundary of a unit square, there exists a point \\( Q \\) on this boundary with \\( |P_1Q| + |P_2Q| + \\cdots + |P_{120}Q| = t \\).\n\nDefine \\(\\mathcal{U}\\) to be a set of points \\( P_1, \\ldots, P_{120} \\) on the boundary of a unit square. Define \\( g_{\\mathcal{U}}(Q) = \\sum_{i=1}^{120} |QP_i| \\).\n\n**Lemma 1:** The set \\(\\{g_{\\mathcal{U}}(Q) : Q \\in \\mathcal{U}\\}\\) is a closed interval \\( I_{\\mathcal{U}} \\).\n\n*Proof:* Clearly, \\( g_{\\mathcal{U}}(Q) \\) is bounded above and below over \\( Q \\in \\mathcal{U} \\), and it is continuous in both \\( x \\) and \\( y \\) coordinates if we place it in the Cartesian plane. Combining these two implies the set of values is an interval. \\(\\blacksquare\\)\n\n**Lemma 2:** Given a finite set of closed intervals, they all intersect if and only if every two intersect.\n\nWe want to show that the intervals \\( I_{\\mathcal{U}} \\) all intersect over all sets of 120 points \\(\\mathcal{U}\\). By Lemma 2, it suffices to check that every two intersect. Suppose for the sake of contradiction that there exists some \\(\\mathcal{U} = \\{P_1, \\ldots, P_{120}\\}\\) and \\(\\mathcal{U}' = \\{P_1', \\ldots, P_{120}'\\}\\) such that \\( I_{\\mathcal{U}} \\) is entirely before \\( I_{\\mathcal{U}'} \\). The key is that now\n\\[ \ng_{\\mathcal{U}}(Q) < g_{\\mathcal{U}'}(Q') \\quad \\text{for all } Q \\in \\mathcal{U} \\text{ and } Q' \\in \\mathcal{U}' \\quad (\\spadesuit).\n\\]\nLet \\( C_1, C_2, C_3, C_4 \\) be the corners of the unit square \\(\\mathcal{U}\\) and \\( M_1', M_2', M_3', M_4' \\) the midpoints of the four sides of the unit square \\(\\mathcal{U}'\\). Summing four bounds appearing from \\((\\spadesuit)\\):\n\\[ \ng_{\\mathcal{U}}(C_1) + \\cdots + g_{\\mathcal{U}}(C_4) < g_{\\mathcal{U}'}(M_1) + \\cdots + g_{\\mathcal{U}'}(M_4) \\quad (\\clubsuit).\n\\]\nThe key is that we can compute and bound each of the above since they become sums of functions of a single point \\( P_i \\) relative to the fixed unit square, instead of about the entire set of \\( P_i \\)'s. In particular,\n\\[\n\\begin{align*}\ng_{\\mathcal{U}}(C_1) + \\cdots + g_{\\mathcal{U}}(C_4) &= \\sum_{j=1}^4 \\sum_{i=1}^{120} |C_jP_i| \\\\\n&= \\sum_{i=1}^{120} |C_1P_i| + |C_2P_i| + |C_3P_i| + |C_4P_i| \\\\\n&\\ge \\sum_{i=1}^{120} (1 + \\sqrt{5}) \\\\\n&= 120(1 + \\sqrt{5}).\n\\end{align*}\n\\]\nThe second step above followed by switching the order of summation. The third step since we can confirm with coordinates that the minimum \\( |C_1P| + |C_2P| + |C_3P| + |C_4P| \\) over \\( P \\) on the boundary occurs is \\( 1 + \\sqrt{5} \\), and occurs when \\( P \\) is the midpoint of a side. Now similarly,\n\\[\n\\begin{align*}\ng_{\\mathcal{U}}(M_1') + \\cdots + g_{\\mathcal{U}}(M_4') &= \\sum_{j=1}^4 \\sum_{i=1}^{120} |M_j'P_i'| \\\\\n&= \\sum_{i=1}^{120} |M_1'P_i'| + |M_2'P_i'| + |M_3'P_i'| + |M_4'P_i'| \\\\\n&\\le \\sum_{i=1}^{120} (1 + \\sqrt{5}) \\\\\n&= 120(1 + \\sqrt{5}).\n\\end{align*}\n\\]\nThe third step since we can confirm with coordinates that the maximum \\( |M_1P| + |M_2P| + |M_3P| + |M_4P| \\) over \\( P \\) on the boundary is \\( 1 + \\sqrt{5} \\), and occurs when \\( P \\) is a corner.\n\nHowever, combining these two bounds contradicts \\((\\clubsuit)\\)! Therefore, such a \\( t \\) exists. In particular, we can show \\( t = 30(1 + \\sqrt{5}) \\) by proving that \\( t < 30(1 + \\sqrt{5}) \\) fails from the corners bound and \\( t > 30(1 + \\sqrt{5}) \\) fails from the midpoints bound; now, since we have shown at least one valid \\( t \\) exists, it must be the claimed value.\n\nThe answer is: \\(\\boxed{30(1 + \\sqrt{5})}\\).", "answer": "30(1 + \\sqrt{5})", "source": "usa_team_selection_test"}, {"domain": ["Mathematics -> Discrete Mathematics -> Graph Theory"], "difficulty": 7.0, "problem": "At a university dinner, there are 2017 mathematicians who each order two distinct entr\u00e9es, with no two mathematicians ordering the same pair of entr\u00e9es. The cost of each entr\u00e9e is equal to the number of mathematicians who ordered it, and the university pays for each mathematician's less expensive entr\u00e9e (ties broken arbitrarily). Over all possible sets of orders, what is the maximum total amount the university could have paid?", "solution": "\nTo determine the maximum total amount the university could have paid, we can model the problem using graph theory. Consider a graph \\( G \\) with 2017 edges, where each edge represents a pair of distinct entr\u00e9es ordered by a mathematician. The cost of each entr\u00e9e is equal to the number of mathematicians who ordered it, and the university pays for each mathematician's less expensive entr\u00e9e.\n\nWe seek to maximize the sum \n\\[ S(G) = \\sum_{e = vw} \\min(\\deg(v), \\deg(w)), \\]\nwhere \\( \\deg(v) \\) denotes the degree of vertex \\( v \\).\n\nThe optimal configuration is achieved by the graph \\( L_{64} \\), which consists of a clique on 64 vertices plus an additional vertex connected to one vertex of the clique. This graph has \\( 64 \\) vertices and \\( \\binom{64}{2} + 1 = 2017 \\) edges. The sum \\( S(L_{64}) \\) is given by:\n\\[ S(L_{64}) = (k-1) \\binom{k}{2} + 1 = 63 \\cdot \\binom{64}{2} + 1. \\]\n\nCalculating this, we find:\n\\[ S(L_{64}) = 63 \\cdot \\frac{64 \\cdot 63}{2} + 1 = 63 \\cdot 2016 + 1 = 127008 + 1 = 127009. \\]\n\nThus, the maximum total amount the university could have paid is:\n\\[ \\boxed{127009}. \\]", "answer": "127009", "source": "usa_team_selection_test"}, {"domain": ["Mathematics -> Discrete Mathematics -> Combinatorics"], "difficulty": 7.0, "problem": "Let $f:X\\rightarrow X$, where $X=\\{1,2,\\ldots ,100\\}$, be a function satisfying:\n1) $f(x)\\neq x$ for all $x=1,2,\\ldots,100$;\n2) for any subset $A$ of $X$ such that $|A|=40$, we have $A\\cap f(A)\\neq\\emptyset$.\nFind the minimum $k$ such that for any such function $f$, there exist a subset $B$ of $X$, where $|B|=k$, such that $B\\cup f(B)=X$.", "solution": "\nLet \\( f: X \\rightarrow X \\), where \\( X = \\{1, 2, \\ldots, 100\\} \\), be a function satisfying:\n1. \\( f(x) \\neq x \\) for all \\( x = 1, 2, \\ldots, 100 \\);\n2. For any subset \\( A \\) of \\( X \\) such that \\( |A| = 40 \\), we have \\( A \\cap f(A) \\neq \\emptyset \\).\n\nWe need to find the minimum \\( k \\) such that for any such function \\( f \\), there exists a subset \\( B \\) of \\( X \\), where \\( |B| = k \\), such that \\( B \\cup f(B) = X \\).\n\nConsider the arrow graph of \\( f \\) on \\( X \\). Each connected component looks like a directed cycle with a bunch of trees coming off each vertex of the cycle. For each connected component \\( C \\), let \\( \\alpha(C) \\) be the maximum number of elements of \\( C \\) we can choose such that their image under \\( f \\) is disjoint from them, and let \\( \\beta(C) \\) be the minimum number of vertices of \\( C \\) we can choose such that they and their image cover \\( C \\). We have the following key claim:\n\n**Claim:** We have \\( \\alpha(C) \\geq \\beta(C) - 1 \\).\n\n**Proof:** It suffices to show that given a subset \\( D \\subseteq C \\) such that \\( D \\) and \\( f(D) \\) cover \\( C \\), we can find a subset \\( D' \\subseteq C \\) such that \\( |D'| \\leq |D| \\) and such that there is at most one pair of elements from \\( D' \\) that are adjacent.\n\nLabel the edges of \\( C \\) with ordinal numbers. Label the edges of the cycle with \\( 1 \\), and for any edge with depth \\( k \\) into the tree it's in (with depth \\( 1 \\) for edges incident to the cycle), label it with \\( \\omega^k \\). Suppose we're given \\( D \\subseteq C \\) such that \\( D \\) and \\( f(D) \\) cover \\( C \\). Call an edge *bad* if both of its endpoints are in \\( D \\). We'll show that either all the bad edges are on the central cycle, or there is a way to modify \\( D \\) such that its cardinality does not increase, and the sum of the weights of the bad edges decreases. Since we can't have infinite decreasing sequences of ordinals, we'll reduce the problem to the case where the only bad edges are on the central cycle.\n\nSuppose we have a bad edge \\( a \\to f(a) \\) with weight \\( \\omega^k \\) for \\( k \\geq 2 \\). Modify \\( D \\) by removing \\( f(a) \\) from \\( D \\) and adding \\( f(f(a)) \\) if it is not already present. If \\( f(f(a)) \\) is already present, then the size of \\( D \\) decreases and the set of bad edges becomes a strict subset of what it was before, so the sum of their weights goes down. If \\( f(f(a)) \\) is not already present, then the size of \\( D \\) doesn't change, and we lose at least one bad edge with weight \\( \\omega^k \\), and potentially gain many bad edges with weights \\( \\omega^{k-1} \\) or \\( \\omega^{k-2} \\), so the total weight sum goes down.\n\nSuppose we have a bad edge \\( a \\to f(a) \\) with weight \\( \\omega \\). Then, \\( f(a) \\) is part of the central cycle of \\( C \\). If \\( f(f(a)) \\) is already present, delete \\( f(a) \\), so the size of \\( D \\) doesn't change, and the set of bad edges becomes a strict subset of what it was before, so the sum of their weights goes down. Now suppose \\( f(f(a)) \\) is not already present. If there are elements that map to \\( f(f(a)) \\) in the tree rooted at \\( f(f(a)) \\) that are in \\( D \\), then we can simply delete \\( f(a) \\), and by the same logic as before, we're fine. So now suppose that there are no elements in the tree rooted at \\( f(f(a)) \\) that map to it. Then, deleting \\( f(a) \\) and adding \\( f(f(a)) \\) removes an edge of weight \\( \\omega \\) and only adds edges of weight \\( 1 \\), so the size of \\( D \\) stays the same and the sum of the weights goes down.\n\nThis shows that we can reduce \\( D \\) down such that the only bad edges of \\( D \\) are on the central cycle. Call a vertex of the central cycle *deficient* if it does not have any elements of \\( D \\) one level above it in the tree rooted at the vertex, or in other words, a vertex is deficient if it will not be covered by \\( D \\cup f(D) \\) if we remove all the cycle elements from \\( D \\). Note that all elements of \\( D \\) on the cycle are deficient since there are no bad edges not on the cycle. Fixing \\( D \\) and changing which subset of deficient vertices we choose, the claim reduces to the following: Suppose we have a directed cycle of length \\( m \\), and some \\( k \\) of the vertices are said to be deficient. There is a subset \\( D \\) of the deficient vertices such that all the deficient vertices are covered by either \\( D \\) or the image of \\( D \\) of minimal size such that at most one edge of the cycle has both endpoints in \\( D \\).\n\nTo prove this, split the deficient vertices into contiguous blocks. First suppose that the entire cycle is not a block. Each block acts independently, and is isomorphic to a directed path. It is clear that in this case, it is optimal to pick every other vertex from each block, and any other selection covering every vertex of the block with it and its image will be of larger size. Thus, it suffices to look at the case where all vertices are deficient. In this case, it is again clearly optimal to select \\( (m+1)/2 \\) of the vertices such that there is only one bad edge, so we're done.\n\nThis completes the proof of the claim. \\( \\blacksquare \\)\n\nLet \\( \\mathcal{C} \\) be the set of connected components. We see that \n\\[\n39 \\geq \\sum_{C \\in \\mathcal{C}} \\alpha(C) \\geq \\sum_{C \\in \\mathcal{C}} \\beta(C) - |\\mathcal{C}|.\n\\]\nIf \\( |\\mathcal{C}| \\leq 30 \\), then we see that \n\\[\n\\sum_{C \\in \\mathcal{C}} \\beta(C) \\leq 69,\n\\]\nso we can select a subset \\( B \\subseteq X \\) such that \\( |B| \\leq 69 \\) and \\( B \\cup f(B) = X \\). If \\( |\\mathcal{C}| \\geq 31 \\), then from each connected component, select all but some vertex with nonzero indegree (this exists since there are no isolated vertices) to make up \\( B \\). We see then that \\( |B| \\leq 100 - |\\mathcal{C}| = 69 \\) again. Thus, in all cases, we can select valid \\( B \\) with \\( |B| \\leq 69 \\).\n\nIt suffices to construct \\( f \\) such that the minimal such \\( B \\) has size 69. To do this, let the arrow graph of \\( f \\) be made up of 29 disjoint 3-cycles, and a component consisting of a 3-cycle \\( a \\to b \\to c \\to a \\) with another vertex \\( x \\to a \\), and 9 vertices \\( y_1, \\ldots, y_9 \\) pointing to \\( x \\). This satisfies the second condition of the problem, since any \\( A \\) satisfying \\( A \\cap f(A) = \\emptyset \\) can take at most 1 from each 3-cycle, and at most 12 from the last component. Any \\( B \\) satisfying \\( B \\cup f(B) = X \\) must have at least 2 from each of the 3-cycles, and at least 11 from the last component, for a total of at least \\( 29 \\cdot 2 + 11 = 69 \\), as desired. We can get 69 by selecting exactly 2 from each 3-cycle, and everything but \\( x \\) and \\( c \\) from the last component. This shows that the answer to the problem is \\( \\boxed{69} \\).", "answer": "69", "source": "china_national_olympiad"}, {"domain": ["Mathematics -> Algebra -> Intermediate Algebra -> Inequalities", "Mathematics -> Discrete Mathematics -> Algorithms"], "difficulty": 8.0, "problem": "Consider pairs $(f,g)$ of functions from the set of nonnegative integers to itself such that \n[list]\n[*]$f(0) \\geq f(1) \\geq f(2) \\geq \\dots \\geq f(300) \\geq 0$\n[*]$f(0)+f(1)+f(2)+\\dots+f(300) \\leq 300$\n[*]for any 20 nonnegative integers $n_1, n_2, \\dots, n_{20}$, not necessarily distinct, we have $$g(n_1+n_2+\\dots+n_{20}) \\leq f(n_1)+f(n_2)+\\dots+f(n_{20}).$$\n[/list]\nDetermine the maximum possible value of $g(0)+g(1)+\\dots+g(6000)$ over all such pairs of functions.\n\n[i]Sean Li[/i]", "solution": "\nConsider pairs \\((f, g)\\) of functions from the set of nonnegative integers to itself such that:\n- \\(f(0) \\geq f(1) \\geq f(2) \\geq \\dots \\geq f(300) \\geq 0\\),\n- \\(f(0) + f(1) + f(2) + \\dots + f(300) \\leq 300\\),\n- for any 20 nonnegative integers \\(n_1, n_2, \\dots, n_{20}\\), not necessarily distinct, we have \\(g(n_1 + n_2 + \\dots + n_{20}) \\leq f(n_1) + f(n_2) + \\dots + f(n_{20})\\).\n\nWe aim to determine the maximum possible value of \\(g(0) + g(1) + \\dots + g(6000)\\) over all such pairs of functions.\n\nThe answer is \\(\\boxed{115440}\\). The construction achieving this maximum is given by:\n\\[ f(x) = \\max(24 - x, 0) \\]\nand\n\\[ g(x) = \\max(480 - x, 0). \\]\n\nThis construction satisfies all the given conditions and achieves the maximum sum for \\(g(0) + g(1) + \\dots + g(6000)\\).\n\nThe answer is \\(\\boxed{115440}\\).", "answer": "115440", "source": "usa_team_selection_test_for_imo"}, {"domain": ["Mathematics -> Algebra -> Intermediate Algebra -> Complex Numbers"], "difficulty": 8.5, "problem": "Find the largest real number $\\lambda$ with the following property: for any positive real numbers $p,q,r,s$ there exists a complex number $z=a+bi$($a,b\\in \\mathbb{R})$  such that $$ |b|\\ge \\lambda |a| \\quad \\text{and} \\quad (pz^3+2qz^2+2rz+s) \\cdot (qz^3+2pz^2+2sz+r) =0.$$", "solution": "\nTo find the largest real number \\(\\lambda\\) such that for any positive real numbers \\(p, q, r, s\\), there exists a complex number \\(z = a + bi\\) (\\(a, b \\in \\mathbb{R}\\)) satisfying\n\\[\n|b| \\ge \\lambda |a|\n\\]\nand\n\\[\n(pz^3 + 2qz^2 + 2rz + s) \\cdot (qz^3 + 2pz^2 + 2sz + r) = 0,\n\\]\nwe proceed as follows:\n\nThe answer is \\(\\lambda = \\sqrt{3}\\). This value is obtained when \\(p = q = r = s = 1\\). \n\nTo verify that \\(\\lambda = \\sqrt{3}\\) works, consider the polynomial equations:\n\\[\n(pz^3 + 2qz^2 + 2rz + s) = 0 \\quad \\text{or} \\quad (qz^3 + 2pz^2 + 2sz + r) = 0.\n\\]\nFor \\(z = a + bi\\), we need to show that \\(|b| \\ge \\sqrt{3} |a|\\).\n\nSuppose \\(z\\) is a root of one of the polynomials. Without loss of generality, assume \\(z\\) is a root of \\(pz^3 + 2qz^2 + 2rz + s = 0\\). Then we have:\n\\[\np(a + bi)^3 + 2q(a + bi)^2 + 2r(a + bi) + s = 0.\n\\]\n\nSeparating real and imaginary parts and considering the magnitudes, we derive the inequality:\n\\[\n|b| \\ge \\sqrt{3} |a|.\n\\]\n\nThus, the largest real number \\(\\lambda\\) satisfying the given conditions is:\n\\[\n\\boxed{\\sqrt{3}}.", "answer": "\\sqrt{3}", "source": "china_national_olympiad"}, {"domain": ["Mathematics -> Discrete Mathematics -> Combinatorics", "Mathematics -> Discrete Mathematics -> Logic"], "difficulty": 8.0, "problem": "Let $S$ be a set, $|S|=35$. A set $F$ of mappings from $S$ to itself is called to be satisfying property $P(k)$, if for any $x,y\\in S$, there exist $f_1, \\cdots, f_k \\in F$ (not necessarily different), such that $f_k(f_{k-1}(\\cdots (f_1(x))))=f_k(f_{k-1}(\\cdots (f_1(y))))$.\nFind the least positive integer $m$, such that if $F$ satisfies property $P(2019)$, then it also satisfies property $P(m)$.", "solution": "\nLet \\( S \\) be a set with \\( |S| = 35 \\). A set \\( F \\) of mappings from \\( S \\) to itself is said to satisfy property \\( P(k) \\) if for any \\( x, y \\in S \\), there exist \\( f_1, f_2, \\ldots, f_k \\in F \\) (not necessarily different) such that \\( f_k(f_{k-1}(\\cdots (f_1(x)) \\cdots )) = f_k(f_{k-1}(\\cdots (f_1(y)) \\cdots )) \\).\n\nWe aim to find the least positive integer \\( m \\) such that if \\( F \\) satisfies property \\( P(2019) \\), then it also satisfies property \\( P(m) \\).\n\nTo determine this, consider a minimal length sequence of mappings \\( f_k, f_{k-1}, \\ldots, f_1 \\) such that \\( f_k(f_{k-1}(\\cdots (f_1(x)) \\cdots )) = f_k(f_{k-1}(\\cdots (f_1(y)) \\cdots )) \\) for fixed \\( x, y \\in S \\). Denote \\( g_i(x) = f_i(f_{i-1}(\\cdots (f_1(x)) \\cdots )) \\), with \\( g_0(x) = x \\).\n\nLet \\( A_i \\) be the unordered pair \\( (g_i(x), g_i(y)) \\). The key claim is that \\( A_0, A_1, \\ldots, A_k \\) are all distinct, and \\( A_k \\) is the only pair consisting of two equal elements. If there exist two equal pairs \\( A_i \\) and \\( A_j \\) (where \\( i < j \\)), we can use the functions \\( f_k, f_{k-1}, \\ldots, f_{j+1}, f_i, f_{i-1}, \\ldots, f_1 \\) instead to obtain equal final values, contradicting the assumption that \\( f_k, f_{k-1}, \\ldots, f_1 \\) is a minimal length sequence.\n\nHence, the maximum length of the sequence is at most the number of unordered pairs of distinct elements, which is exactly \\( \\binom{35}{2} \\).\n\nTo construct such a sequence, let \\( S = \\{0, 1, \\ldots, 34\\} \\) and define two mappings \\( f(x) \\) and \\( g(x) \\) as follows:\n\\[\nf(x) = (x + 1) \\pmod{35},\n\\]\n\\[\ng(0) = 1, \\quad g(x) = x \\text{ for all } 1 \\leq x \\leq 34.\n\\]\n\nUsing these functions on \\( (x, y) = (1, 18) \\), we apply \\( f \\) 34 times to turn \\( (1, 18) \\) into \\( (0, 17) \\), then apply \\( g \\) to turn it into \\( (1, 17) \\). Repeating this process another 16 times yields \\( (1, 1) \\) after \\( 35 \\times 17 = 595 = \\binom{35}{2} \\) functions.\n\nThus, the least positive integer \\( m \\) such that if \\( F \\) satisfies property \\( P(2019) \\), then it also satisfies property \\( P(m) \\) is \\( \\binom{35}{2} \\).\n\nThe answer is: \\(\\boxed{595}\\).", "answer": "595", "source": "china_national_olympiad"}, {"domain": ["Mathematics -> Algebra -> Algebra -> Equations and Inequalities", "Mathematics -> Algebra -> Algebra -> Polynomial Operations"], "difficulty": 8.0, "problem": "Let $a_i,b_i,i=1,\\cdots,n$ are nonnegitive numbers,and $n\\ge 4$,such that $a_1+a_2+\\cdots+a_n=b_1+b_2+\\cdots+b_n>0$.\n\nFind the maximum of $\\frac{\\sum_{i=1}^n a_i(a_i+b_i)}{\\sum_{i=1}^n b_i(a_i+b_i)}$", "solution": "\nLet \\( a_i, b_i \\) for \\( i = 1, \\ldots, n \\) be nonnegative numbers, and let \\( n \\geq 4 \\) such that \\( \\sum_{i=1}^n a_i = \\sum_{i=1}^n b_i > 0 \\).\n\nWe aim to find the maximum value of the expression:\n\\[\n\\frac{\\sum_{i=1}^n a_i(a_i + b_i)}{\\sum_{i=1}^n b_i(a_i + b_i)}.\n\\]\n\nWe will prove that for \\( n \\geq 4 \\), the maximum value is \\( n - 1 \\).\n\nWithout loss of generality, we can assume \\( a_1 \\geq a_2 \\geq \\cdots \\geq a_n \\) and \\( \\sum_{i=1}^n a_i = \\sum_{i=1}^n b_i = 1 \\). Let \\( A = \\sum_{i=1}^n a_i^2 \\), \\( B = \\sum_{i=1}^n b_i^2 \\), and \\( X = \\sum_{i=1}^n a_i b_i \\).\n\nWe define the function:\n\\[\nf(X) = \\frac{A + X}{B + X}.\n\\]\n\nThe derivative of \\( f(X) \\) is:\n\\[\nf'(X) = \\frac{B - A}{(B + X)^2}.\n\\]\n\nSince \\( f'(X) < 0 \\) when \\( A > B \\), we want to minimize \\( X \\) to maximize the fraction. By the rearrangement inequality, \\( X \\) is minimized when \\( b_1 \\leq b_2 \\leq \\cdots \\leq b_n \\).\n\nNext, we fix \\( b_1, \\ldots, b_n \\) and define:\n\\[\nF(a_1, \\ldots, a_n) = \\frac{A + X}{B + X}.\n\\]\n\nWe will show that:\n\\[\nF(a_1, a_2, \\ldots, a_n) \\leq F(a_1 + a_2, 0, \\ldots, a_n).\n\\]\n\nThis is true because \\( a_1^2 + a_2^2 \\leq (a_1 + a_2)^2 \\) and \\( a_1 b_1 + a_2 b_2 \\geq (a_1 + a_2) b_1 \\). By repeating this step \\( n - 1 \\) times, we conclude:\n\\[\nF(a_1, \\ldots, a_n) \\leq F(1, 0, \\ldots, 0).\n\\]\n\nIt remains to prove:\n\\[\nF(1, 0, \\ldots, 0) = \\frac{1 + b_1}{\\sum_{i=1}^n b_i^2 + b_1} \\leq n - 1.\n\\]\n\nUsing the Cauchy-Schwarz inequality, we get:\n\\[\n\\frac{1 + b_1}{\\sum_{i=1}^n b_i^2 + b_1} \\leq \\frac{1 + b_1}{b_1^2 + \\frac{(1 - b_1)^2}{n - 1} + b_1}.\n\\]\n\nFinally, we need to show:\n\\[\n\\frac{1 + b_1}{b_1^2 + \\frac{(1 - b_1)^2}{n - 1} + b_1} \\leq n - 1 \\quad \\Leftrightarrow \\quad b_1 (n b_1 + n - 4) \\geq 0.\n\\]\n\nThis inequality clearly holds for \\( n \\geq 4 \\).\n\nEquality holds when \\( a_1 = 1 \\), \\( a_2 = \\cdots = a_n = 0 \\), and \\( b_1 = 0 \\), \\( b_2 = \\cdots = b_n = \\frac{1}{n - 1} \\).\n\nThus, the maximum value of the given expression is:\n\\[\n\\frac{\\sum_{i=1}^n a_i(a_i + b_i)}{\\sum_{i=1}^n b_i(a_i + b_i)} = n - 1.\n\\]\n\nThe answer is: \\boxed{n - 1}.", "answer": "n - 1", "source": "china_national_olympiad"}, {"domain": ["Mathematics -> Number Theory -> Prime Numbers"], "difficulty": 7.0, "problem": "Find all positive integers $a,n\\ge1$ such that for all primes $p$ dividing $a^n-1$, there exists a positive integer $m<n$ such that $p\\mid a^m-1$.", "solution": "\nWe are tasked with finding all positive integers \\(a, n \\ge 1\\) such that for all primes \\(p\\) dividing \\(a^n - 1\\), there exists a positive integer \\(m < n\\) such that \\(p \\mid a^m - 1\\).\n\nBy Zsigmondy's theorem, for any \\(a > 1\\) and \\(n > 1\\), there exists a primitive prime divisor of \\(a^n - 1\\) except for the cases \\((a, n) = (2, 6)\\) and \\((a, n) = (2^k - 1, 2)\\).\n\n1. **Case \\((a, n) = (2, 6)\\):**\n   - For \\(a = 2\\) and \\(n = 6\\), we have \\(2^6 - 1 = 63\\).\n   - The prime divisors of 63 are 3 and 7.\n   - We need to check if these primes divide \\(2^m - 1\\) for some \\(m < 6\\).\n   - The values of \\(2^m - 1\\) for \\(m < 6\\) are: \\(1, 3, 7, 15, 31\\).\n   - Both 3 and 7 appear in this list, so this case holds.\n\n2. **Case \\((a, n) = (2^k - 1, 2)\\):**\n   - For \\(a = 2^k - 1\\) and \\(n = 2\\), we have \\((2^k - 1)^2 - 1 = (2^k - 1)(2^k + 1)\\).\n   - Any prime divisor of \\((2^k - 1)^2 - 1\\) must divide either \\(2^k - 1\\) or \\(2^k + 1\\).\n   - The only possible \\(m\\) is \\(m = 1\\), which gives us \\(2^k - 1 - 1 = 2^k - 2 = 2(2^{k-1} - 1)\\).\n   - Thus, all prime divisors of \\((2^k - 1)^2 - 1\\) divide \\(2(2^{k-1} - 1)\\), satisfying the condition.\n\n3. **Case \\(a = 1\\):**\n   - For \\(a = 1\\), \\(1^n - 1 = 0\\) for any \\(n\\), which trivially satisfies the condition.\n\nCombining these results, the complete solution set is:\n\\[\n(a, n) = (2, 6), (2^k - 1, 2), (1, n) \\text{ for any } n \\ge 1.\n\\]\n\nThe answer is: \\boxed{(2, 6), (2^k - 1, 2), (1, n) \\text{ for any } n \\ge 1}.", "answer": "(2, 6), (2^k - 1, 2), (1, n) \\text{ for any } n \\ge 1", "source": "usa_team_selection_test"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Polygons", "Mathematics -> Discrete Mathematics -> Combinatorics"], "difficulty": 8.0, "problem": "Consider a rectangle $R$ partitioned into $2016$ smaller rectangles such that the sides of each smaller rectangle is parallel to one of the sides of the original rectangle. Call the corners of each rectangle a vertex. For any segment joining two vertices, call it basic if no other vertex lie on it. (The segments must be part of the partitioning.) Find the maximum/minimum possible number of basic segments over all possible partitions of $R$.", "solution": "\nConsider a rectangle \\( R \\) partitioned into \\( 2016 \\) smaller rectangles such that the sides of each smaller rectangle are parallel to one of the sides of the original rectangle. We aim to find the maximum and minimum possible number of basic segments over all possible partitions of \\( R \\).\n\nLet \\( s_i \\) be the number of vertices which are intersections of \\( i \\) segments in the partition. Let \\( N \\) be the number of basic segments in the partition. Let \\( a \\) and \\( b \\) be the number of vertical and horizontal interior lines, respectively, which contain a segment in the partition.\n\nClearly, \\( s_2 = 4 \\), representing the four corners of \\( R \\). Each vertex which is an intersection of \\( i \\) segments belongs to \\( i \\) basic segments. Also, every basic segment belongs to two vertices. Hence,\n\\[\n2N = 2s_2 + 3s_3 + 4s_4 = 8 + 3s_3 + 4s_4 \\quad (1).\n\\]\n\nEach vertex which is an intersection of \\( i \\) segments belongs to \\( 1, 2, 4 \\) rectangles, where \\( i = 2, 3, 4 \\) respectively. Also, every rectangle belongs to four vertices. Hence,\n\\[\n4 \\cdot 2016 = s_2 + 2s_3 + 4s_4 = 4 + 2s_3 + 4s_4,\n\\]\nwhich simplifies to\n\\[\n4030 = s_3 + 2s_4 \\quad (2).\n\\]\n\nNow, subtracting twice equation (2) from equation (1), we get:\n\\[\n2N - 8060 = 8 + 3s_3 + 4s_4 - 2s_3 - 4s_4 = 8 + s_3,\n\\]\nwhich simplifies to\n\\[\nN = 4034 + \\frac{s_3}{2} \\quad (3).\n\\]\n\nFrom equation (2), we obtain that \\( s_3 \\leq 4030 \\). Hence,\n\\[\nN = 4034 + \\frac{s_3}{2} \\leq 4034 + \\frac{4030}{2} = 6049.\n\\]\nThe maximum of \\( 6049 \\) is achieved, for example, when \\( R \\) is partitioned into \\( 1 \\times 2016 \\) rectangles. Hence, the maximum number of basic segments is \\( 6049 \\).\n\nIf we draw an extension of every interior segment until it meets the boundary of \\( R \\), we get a new partition into \\( (a+1) \\times (b+1) \\) rectangles, and we clearly increase the total number of rectangles. Hence,\n\\[\n(a+1)(b+1) \\geq 2016 \\quad (4).\n\\]\n\nAlso, if we extend every interior segment as far as possible along borders between rectangles, we finish at two vertices which are intersections of \\( 3 \\) edges. All these endpoints are clearly distinct. Hence,\n\\[\ns_3 \\geq 2(a+b) \\quad (5).\n\\]\n\nUsing equations (3), (4), (5), and applying the AM-GM inequality, we get:\n\\[\n2016 \\leq (a+1)(b+1) \\leq \\left( \\frac{a+b}{2} + 1 \\right)^2 \\leq \\left( \\frac{s_3}{4} + 1 \\right)^2,\n\\]\nwhich implies\n\\[\ns_3 + 4 \\geq \\lceil \\sqrt{32256} \\rceil = 180,\n\\]\nthus,\n\\[\ns_3 \\geq 176.\n\\]\nTherefore,\n\\[\nN = 4034 + \\frac{s_3}{2} \\geq 4034 + \\frac{176}{2} = 4122.\n\\]\nThe minimum of \\( 4122 \\) is achieved, for example, when \\( R \\) is partitioned into \\( 42 \\times 48 \\) rectangles. Hence, the minimum number of basic segments is \\( 4122 \\).\n\nThe answer is: \\(\\boxed{4122 \\text{ (minimum)}, 6049 \\text{ (maximum)}}\\).", "answer": "4122 \\text{ (minimum)}, 6049 \\text{ (maximum)}", "source": "china_national_olympiad"}, {"domain": ["Mathematics -> Discrete Mathematics -> Combinatorics", "Mathematics -> Algebra -> Prealgebra -> Integers"], "difficulty": 7.0, "problem": "Determine all positive integers $n$, $n\\ge2$, such that the following statement is true:\nIf $(a_1,a_2,...,a_n)$ is a sequence of positive integers with $a_1+a_2+\\cdots+a_n=2n-1$, then there is block of (at least two) consecutive terms in the sequence with their (arithmetic) mean being an integer.", "solution": "\nTo determine all positive integers \\( n \\), \\( n \\ge 2 \\), such that the following statement is true:\nIf \\((a_1, a_2, \\ldots, a_n)\\) is a sequence of positive integers with \\( a_1 + a_2 + \\cdots + a_n = 2n - 1 \\), then there is a block of (at least two) consecutive terms in the sequence with their (arithmetic) mean being an integer.\n\nWe start by examining small values of \\( n \\):\n- For \\( n = 2 \\), consider the sequence \\((1, 2)\\). The sum is \\(1 + 2 = 3 = 2 \\cdot 2 - 1\\). The arithmetic mean of the block \\((1, 2)\\) is \\(\\frac{1 + 2}{2} = 1.5\\), which is not an integer. However, if we consider the sequence \\((2, 1)\\), the arithmetic mean of \\((2, 1)\\) is \\(\\frac{2 + 1}{2} = 1.5\\), which is not an integer either. Therefore, \\( n = 2 \\) satisfies the condition.\n- For \\( n = 3 \\), consider the sequence \\((2, 1, 2)\\). The sum is \\(2 + 1 + 2 = 5 = 2 \\cdot 3 - 1\\). The arithmetic mean of the block \\((2, 1)\\) is \\(\\frac{2 + 1}{2} = 1.5\\), and the arithmetic mean of the block \\((1, 2)\\) is \\(\\frac{1 + 2}{2} = 1.5\\), neither of which are integers. Therefore, \\( n = 3 \\) satisfies the condition.\n\nNext, we use induction and casework to show that for \\( n \\ge 4 \\), there will always be a block of consecutive terms whose arithmetic mean is an integer.\n\n### Case 1: \\( n = 4k \\)\nIf \\( n = 4k \\), then we have \\( 2k \\) odd and \\( 2k \\) even integers. Their sum is even, which contradicts the requirement that the sum is \\( 2n - 1 \\), an odd number.\n\n### Case 2: \\( n = 4k + 1 \\)\nIf \\( n = 4k + 1 \\), the sum \\( S(1, n) \\) is odd and \\( 6k + 3 \\le S(1, n) \\le 8k + 1 \\). Using strong induction and the properties of sums of sequences, we can show that there will always be a block of consecutive terms whose arithmetic mean is an integer.\n\n### Case 3: \\( n = 4k + 2 \\)\nIf \\( n = 4k + 2 \\), the sum \\( S(1, n) \\) is odd and \\( 6k + 5 \\le S(1, n) \\le 8k + 3 \\). Similar to Case 2, using strong induction and the properties of sums of sequences, we can show that there will always be a block of consecutive terms whose arithmetic mean is an integer.\n\n### Case 4: \\( n = 4k + 3 \\)\nIf \\( n = 4k + 3 \\), the sum \\( S(1, n) \\) is odd and \\( 6k + 7 \\le S(1, n) \\le 8k + 5 \\). Again, using strong induction and the properties of sums of sequences, we can show that there will always be a block of consecutive terms whose arithmetic mean is an integer.\n\nTherefore, the only positive integers \\( n \\) that satisfy the given condition are \\( n = 2 \\) and \\( n = 3 \\).\n\nThe answer is: \\boxed{2, 3}.", "answer": "2, 3", "source": "usa_team_selection_test"}, {"domain": ["Mathematics -> Algebra -> Abstract Algebra -> Group Theory"], "difficulty": 7.0, "problem": "Let $\\mathbb{Z}/n\\mathbb{Z}$ denote the set of integers considered modulo $n$ (hence $\\mathbb{Z}/n\\mathbb{Z}$ has $n$ elements). Find all positive integers $n$ for which there exists a bijective function $g: \\mathbb{Z}/n\\mathbb{Z} \\to \\mathbb{Z}/n\\mathbb{Z}$, such that the 101 functions\n\\[g(x), \\quad g(x) + x, \\quad g(x) + 2x, \\quad \\dots, \\quad g(x) + 100x\\]\nare all bijections on $\\mathbb{Z}/n\\mathbb{Z}$.\n\n[i]Ashwin Sah and Yang Liu[/i]", "solution": "\nLet \\(\\mathbb{Z}/n\\mathbb{Z}\\) denote the set of integers considered modulo \\(n\\). We need to find all positive integers \\(n\\) for which there exists a bijective function \\(g: \\mathbb{Z}/n\\mathbb{Z} \\to \\mathbb{Z}/n\\mathbb{Z}\\), such that the 101 functions\n\\[g(x), \\quad g(x) + x, \\quad g(x) + 2x, \\quad \\dots, \\quad g(x) + 100x\\]\nare all bijections on \\(\\mathbb{Z}/n\\mathbb{Z}\\).\n\nWe claim that the answer is all numbers relatively prime to \\(101!\\). The construction is to let \\(g\\) be the identity function.\n\nTo prove this, we need to show that if \\(n\\) is relatively prime to \\(101!\\), then such a bijective function \\(g\\) exists. Conversely, if \\(n\\) shares a common factor with \\(101!\\), then no such bijective function \\(g\\) can exist.\n\n### Proof:\n1. **Existence for \\(n\\) relatively prime to \\(101!\\):**\n   - Let \\(g(x) = x\\). Then the functions \\(g(x) + kx = (k+1)x\\) for \\(k = 0, 1, \\ldots, 100\\) are all bijections if \\((k+1)\\) is invertible modulo \\(n\\). Since \\(n\\) is relatively prime to \\(101!\\), all integers from 1 to 101 are invertible modulo \\(n\\). Therefore, each function \\(g(x) + kx\\) is a bijection.\n\n2. **Non-existence for \\(n\\) not relatively prime to \\(101!\\):**\n   - Suppose \\(n\\) has a prime factor \\(p \\leq 101\\). Consider the sum of the functions \\(g(x) + kx\\) over all \\(x \\in \\mathbb{Z}/n\\mathbb{Z}\\). By properties of bijections, this sum must be congruent modulo \\(n\\). However, if \\(p\\) divides \\(n\\), then the sums of powers of \\(x\\) modulo \\(n\\) will not satisfy the necessary conditions for all \\(k\\), leading to a contradiction.\n\nThus, the positive integers \\(n\\) for which there exists a bijective function \\(g: \\mathbb{Z}/n\\mathbb{Z} \\to \\mathbb{Z}/n\\mathbb{Z}\\) such that the 101 functions \\(g(x), g(x) + x, g(x) + 2x, \\ldots, g(x) + 100x\\) are all bijections are exactly those integers \\(n\\) that are relatively prime to \\(101!\\).\n\nThe answer is: \\(\\boxed{\\text{All positive integers } n \\text{ relatively prime to } 101!}\\).", "answer": "\\text{All positive integers } n \\text{ relatively prime to } 101!", "source": "usa_team_selection_test_for_imo"}, {"domain": ["Mathematics -> Algebra -> Intermediate Algebra -> Complex Numbers", "Mathematics -> Algebra -> Algebra -> Equations and Inequalities"], "difficulty": 9.0, "problem": "Let $C=\\{ z \\in \\mathbb{C} : |z|=1 \\}$ be the unit circle on the complex plane. Let $z_1, z_2, \\ldots, z_{240} \\in C$ (not necessarily different) be $240$ complex numbers, satisfying the following two conditions:\n(1) For any open arc $\\Gamma$ of length $\\pi$ on $C$, there are at most $200$ of $j ~(1 \\le j \\le 240)$ such that $z_j \\in \\Gamma$.\n(2) For any open arc $\\gamma$ of length $\\pi/3$ on $C$, there are at most $120$ of  $j ~(1 \\le j \\le 240)$ such that $z_j \\in \\gamma$.\n\nFind the maximum of $|z_1+z_2+\\ldots+z_{240}|$.", "solution": "\nLet \\( C = \\{ z \\in \\mathbb{C} : |z| = 1 \\} \\) be the unit circle on the complex plane. Let \\( z_1, z_2, \\ldots, z_{240} \\in C \\) (not necessarily different) be 240 complex numbers satisfying the following two conditions:\n1. For any open arc \\(\\Gamma\\) of length \\(\\pi\\) on \\(C\\), there are at most 200 of \\( j ~(1 \\le j \\le 240) \\) such that \\( z_j \\in \\Gamma \\).\n2. For any open arc \\(\\gamma\\) of length \\(\\pi/3\\) on \\(C\\), there are at most 120 of \\( j ~(1 \\le j \\le 240) \\) such that \\( z_j \\in \\gamma \\).\n\nWe aim to find the maximum of \\( |z_1 + z_2 + \\ldots + z_{240}| \\).\n\nTo solve this, we consider the following setup:\nLet the 240 complex numbers be \\( z_k = e^{i \\theta_k} \\) for \\( k = 1, 2, \\ldots, 240 \\), where \\( 0 \\leq \\theta_1 \\leq \\theta_2 \\leq \\cdots \\leq \\theta_{240} < 2\\pi \\).\n\nWe define \\( \\omega_k = z_k + z_{k+40} + z_{k+80} + z_{k+120} + z_{k+160} + z_{k+200} \\) for \\( 1 \\leq k \\leq 40 \\). Each \\( \\omega_k \\) sums six complex numbers spaced by \\( \\frac{2\\pi}{6} = \\frac{\\pi}{3} \\) radians apart.\n\nGiven the conditions:\n1. For any open arc \\(\\Gamma\\) of length \\(\\pi\\) on the unit circle, at most 5 of \\( z_i \\) (where \\( 1 \\leq i \\leq 6 \\)) are on \\(\\Gamma\\).\n2. For any open arc \\(\\gamma\\) of length \\(\\pi/3\\) on the unit circle, at most 3 of \\( z_i \\) (where \\( 1 \\leq i \\leq 6 \\)) are on \\(\\gamma\\).\n\nWe can bound the magnitude of \\( \\omega_k \\):\n\\[\n|\\omega_k| = |z_k + z_{k+40} + z_{k+80} + z_{k+120} + z_{k+160} + z_{k+200}|.\n\\]\n\nUsing the properties of complex numbers on the unit circle and the given conditions, we find:\n\\[\n|\\omega_k| \\leq 2 + \\sqrt{3}.\n\\]\n\nThus, the sum of all \\( z_i \\) can be bounded by:\n\\[\n|z_1 + z_2 + \\ldots + z_{240}| = \\left| \\sum_{k=1}^{40} \\omega_k \\right| \\leq 40 \\times (2 + \\sqrt{3}).\n\\]\n\nThe maximum value is achieved when the configuration of \\( z_i \\) is such that the sum reaches this bound. One such configuration is:\n- \\( z_1 = z_2 = \\cdots = z_{40} = i \\),\n- \\( z_{41} = z_{42} = \\cdots = z_{80} = -i \\),\n- \\( z_{81} = z_{82} = \\cdots = z_{120} = \\frac{\\sqrt{3}}{2} + \\frac{1}{2}i \\),\n- \\( z_{121} = z_{122} = \\cdots = z_{160} = \\frac{\\sqrt{3}}{2} - \\frac{1}{2}i \\),\n- \\( z_{161} = z_{162} = \\cdots = z_{240} = 1 \\).\n\nIn this configuration, we have:\n\\[\n|z_1 + z_2 + \\ldots + z_{240}| = 80 + 40\\sqrt{3}.\n\\]\n\nTherefore, the maximum of \\( |z_1 + z_2 + \\ldots + z_{240}| \\) is:\n\\[\n\\boxed{80 + 40\\sqrt{3}}.\n\\]", "answer": "80 + 40\\sqrt{3}", "source": "china_team_selection_test"}, {"domain": ["Mathematics -> Algebra -> Abstract Algebra -> Ring Theory"], "difficulty": 8.0, "problem": "Find $f: \\mathbb{Z}_+ \\rightarrow \\mathbb{Z}_+$, such that for any $x,y \\in \\mathbb{Z}_+$, $$f(f(x)+y)\\mid x+f(y).$$", "solution": "\nWe are tasked with finding a function \\( f: \\mathbb{Z}_+ \\rightarrow \\mathbb{Z}_+ \\) such that for any \\( x, y \\in \\mathbb{Z}_+ \\),\n\\[\nf(f(x) + y) \\mid x + f(y).\n\\]\n\n### Solution\n\nWe will prove that the only solutions are:\n1. \\( f(x) = x \\),\n2. \\( f(x) = \\begin{cases} n & \\text{if } x = 1 \\\\ 1 & \\text{if } x > 1 \\end{cases} \\) for any \\( n \\),\n3. \\( f(x) = \\begin{cases} n & \\text{if } x = 1 \\\\ 1 & \\text{if } x > 1 \\text{ is odd} \\\\ 2 & \\text{if } x \\text{ is even} \\end{cases} \\) for any \\( n \\) odd.\n\n#### Lemma\n\\( f(x) \\) is either injective or bounded.\n\n**Proof.** Suppose \\( f(a) = f(b) = t \\). Then,\n\\[\nf(t + y) = f(f(a) + y) \\mid (a + f(y)) \\quad \\text{and} \\quad f(t + y) = f(f(b) + y) \\mid (b + f(y))\n\\]\nfor any positive integer \\( y \\). Therefore, \\( f(t + y) \\mid (a - b) \\). Since \\( y \\) can be arbitrarily large, either the left side is bounded (implying \\( f \\) is bounded) or \\( a = b \\). \\(\\square\\)\n\n#### Case 1: \\( f \\) is injective\n\n**Claim.** \\( f(1) = 1 \\).\n\n**Proof.** Let \\( f(1) = t \\). Then,\n\\[\nf(t + y) \\mid (1 + f(y)) \\implies f(y + t) \\leq f(y) + 1.\n\\]\nThus,\n\\[\nf(1 + nt) \\leq f(1) + n.\n\\]\nThis means that for any \\( n \\), the set \\( \\{f(1), f(1 + t), \\dots, f(1 + nt)\\} \\) contains at least \\( n + 1 \\) numbers in the interval \\([1, n + f(1)]\\). If \\( t \\geq 2 \\), this clearly violates \\( f \\) being injective. \\(\\square\\)\n\nWe now use strong induction to prove \\( f(n) = n \\) for all \\( n \\). The base case \\( n = 1 \\) is already proven. Now assume that \\( f(x) = x \\) for all \\( x = 1, \\dots, n - 1 \\). Plug in \\( (x, y) = (n, 1) \\) in the original equation:\n\\[\nf(f(n) + 1) \\mid n + 1.\n\\]\nIf \\( f(f(n) + 1) = k < n \\), then \\( f(n) + 1 = k \\implies f(n) = k - 1 \\), which violates injectivity. Therefore, \\( f(n) + 1 = n + 1 \\), and \\( f(n) = n \\), completing the induction.\n\n#### Case 2: \\( f \\) is bounded\n\nLet \\( S \\) be the (finite) set of values in \\(\\text{img} f\\) whose preimage is infinite. Then for any \\( a, b \\) such that \\( f(a) = f(b) \\),\n\\[\nN := \\text{lcm}_{s \\in S} s \\mid (a - b).\n\\]\nTherefore, \\( |S| \\geq N \\). But \\( N \\leq |S| \\) can have at most \\( |S| \\) distinct divisors, and equality can only be achieved when \\( S = \\{1\\} \\) or \\( \\{1, 2\\} \\).\n\n- If \\( S = \\{1\\} \\), then \\( f(n) = 1 \\) for all sufficiently large \\( n \\). Plugging in \\( (x, y) = (n, y) \\), we have\n  \\[\n  f(y + 1) \\mid f(y) + n\n  \\]\n  for all large enough \\( n \\). This implies \\( f(y + 1) = 1 \\) for all \\( y \\geq 1 \\). Clearly, \\( f(1) \\) can take any value.\n\n- If \\( S = \\{1, 2\\} \\), then \\( 2 \\mid (a - b) \\) for any \\( f(a) = f(b) \\), so \\( f(n) \\) alternates between \\( 1 \\) and \\( 2 \\) for large enough \\( n \\). Plugging in \\( (x, y) = (n, y) \\), we get\n  \\[\n  f(y + f(n)) \\mid f(y) + n.\n  \\]\n  Taking \\( n \\) to be \\( n \\) and \\( n + 2 \\), we get \\( f(y + 1) \\mid 2 \\) for any \\( y \\). We further divide into two cases:\n  - If \\( f(n) = 1 \\) for \\( n > 1 \\) odd and \\( f(n) = 2 \\) when \\( n \\) is even, then plugging in \\( y = 1 \\) and \\( x > 1 \\) odd to the original equation gives \\( 2 \\mid x + f(1) \\), meaning that \\( f(1) \\) is odd.\n  - If \\( f(n) = 1 \\) for \\( n \\) even and \\( f(n) = 2 \\) for \\( n > 1 \\) odd, then plugging in \\( y = 1 \\) and \\( x > 1 \\) odd to the original equation gives \\( 2 \\mid x + f(1) \\), meaning that \\( f(1) \\) is odd, which is a contradiction.\n\nHaving exhausted all cases, we conclude that the solutions are as stated.\n\nThe answer is: \\boxed{f(x) = x \\text{ or } f(x) = \\begin{cases} n & \\text{if } x = 1 \\\\ 1 & \\text{if } x > 1 \\end{cases} \\text{ or } f(x) = \\begin{cases} n & \\text{if } x = 1 \\\\ 1 & \\text{if } x > 1 \\text{ is odd} \\\\ 2 & \\text{if } x \\text{ is even} \\end{cases} \\text{ for any } n \\text{ odd}}.", "answer": "f(x) = x \\text{ or } f(x) = \\begin{cases} n & \\text{if } x = 1 \\\\ 1 & \\text{if } x > 1 \\end{cases} \\text{ or } f(x) = \\begin{cases} n & \\text{if } x = 1 \\\\ 1 & \\text{if } x > 1 \\text{ is odd} \\\\ 2 & \\text{if } x \\text{ is even} \\end{cases} \\text{ for any } n \\text{ odd}", "source": "china_national_olympiad"}, {"domain": ["Mathematics -> Number Theory -> Factorization"], "difficulty": 7.0, "problem": "Let $n$ be a positive integer. Find, with proof, the least positive integer $d_{n}$ which cannot be expressed in the form \\[\\sum_{i=1}^{n}(-1)^{a_{i}}2^{b_{i}},\\]\nwhere $a_{i}$ and $b_{i}$ are nonnegative integers for each $i.$", "solution": "\nLet \\( n \\) be a positive integer. We aim to find the least positive integer \\( d_n \\) which cannot be expressed in the form \n\\[\n\\sum_{i=1}^{n}(-1)^{a_{i}}2^{b_{i}},\n\\]\nwhere \\( a_i \\) and \\( b_i \\) are nonnegative integers for each \\( i \\).\n\nWe claim that the minimal number that is not \\( n \\)-good is \n\\[\nd_n = 2 \\left( \\frac{4^n - 1}{3} \\right) + 1.\n\\]\n\n### Step 1: All \\( m \\in \\mathbb{N} \\) such that \\( 1 \\le m \\le 2 \\left( \\frac{4^n - 1}{3} \\right) \\) are \\( n \\)-good.\n\n**Proof:** Assume that the hypothesis holds for \\( n = k \\). Therefore, all \\( 1 \\le m \\le 2 \\left( \\frac{4^k - 1}{3} \\right) \\) can be expressed in the described way. Since \\( 1 = 2^k - 2^{k-1} - 2^{k-2} - \\dots - 2^0 \\), \\( 1 \\) is \\( k+1 \\)-good. For any \\( m \\) such that \\( 1 \\le m \\le 2 \\left( \\frac{4^k - 1}{3} \\right) \\), consider the expressions \\( 2^l \\pm m \\) where \\( l = 0, 1, \\dots, 2k+1 \\). Since \\( 2^{2k-1} < 2 \\left( \\frac{4^k - 1}{3} \\right) < 2^{2k} \\), by this method we achieve an expression with \\( k+1 \\) terms for each positive integer less than or equal to \n\\[\n2^{2k+1} + 2 \\left( \\frac{4^k - 1}{3} \\right) = 2 \\left( \\frac{4^{k+1} - 1}{3} \\right).\n\\]\nTherefore, all \\( m \\in \\mathbb{N} \\) such that \\( 1 \\le m \\le 2 \\left( \\frac{4^{k+1} - 1}{3} \\right) \\) are \\( k+1 \\)-good. This completes the induction. \\(\\blacksquare\\)\n\n### Step 2: \\( 2 \\left( \\frac{4^n - 1}{3} \\right) + 1 \\) and \\( \\frac{4^{n+1} - 1}{3} \\) are not \\( n \\)-good.\n\n**Proof:** Assume that both hypotheses hold for \\( n = k \\). Note that any \\( n \\)-good number is \\( m \\)-good for all natural numbers \\( m \\ge n \\). This is because we may exchange a \\( \\pm (2^l) \\) in the expression with a \\( \\pm (2^{l+1} - 2^l) \\) to increase the number of terms in the expression without changing the value. Therefore, we may assume that there is only one \\( \\pm 1 \\) since otherwise we can exchange any excess \\( \\pm 1 \\) for \\( \\pm 2 \\)'s. Note that if a number is not \\( n \\)-good, then the minimum number of summands in the expression exceeds \\( n \\). Now assume for contradiction that \\( 2 \\left( \\frac{4^{k+1} - 1}{3} \\right) + 1 \\) is \\( k+1 \\)-good. Then there must be a \\( \\pm 1 \\) in the expression since it is an odd number. If it is a \\( +1 \\), then subtracting \\( 1 \\) and dividing by \\( 2 \\) yields that \\( \\frac{4^{k+1} - 1}{3} \\) requires \\( k \\) summands minimum. This contradicts the fact that \\( \\frac{4^{k+1} - 1}{3} \\) is not \\( k \\)-good. Similarly, if it is a \\( -1 \\), then adding \\( 1 \\) and dividing by \\( 2 \\) contradicts the fact that \\( 2 \\left( \\frac{4^{k+1} - 1}{3} \\right) + 1 \\) is not \\( k \\)-good. We arrive at the same contradictions for \\( \\frac{4^{k+1} - 1}{3} \\). This completes the induction. \\(\\blacksquare\\)\n\nTherefore, the minimum value is \n\\[\nd_n = 2 \\left( \\frac{4^n - 1}{3} \\right) + 1.\n\\]\nThe answer is: \\boxed{2 \\left( \\frac{4^n - 1}{3} \\right) + 1}.", "answer": "2 \\left( \\frac{4^n - 1}{3} \\right) + 1", "source": "usa_team_selection_test"}]}