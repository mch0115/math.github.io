var DIFFICULTY_DATA =
{"difficulty_1_3": [{"domain": ["Mathematics -> Algebra -> Prealgebra -> Simple Equations"], "difficulty": 2.5, "problem": "Suppose that $a$ and $b$ are integers with $4<a<b<22$. If the average (mean) of the numbers $4, a, b, 22$ is 13, how many possible pairs $(a, b)$ are there?", "solution": "Since the average of the four numbers $4, a, b, 22$ is 13, then $\\frac{4+a+b+22}{4}=13$ and so $4+a+b+22=52$ or $a+b=26$. Since $a>4$ and $a$ is an integer, then $a \\geq 5$. Since $a+b=26$ and $a<b$, then $a$ is less than half of 26, or $a<13$. Since $a$ is an integer, then $a \\leq 12$. Therefore, we have $5 \\leq a \\leq 12$. There are 8 choices for $a$ in this range: $5,6,7,8,9,10,11,12$. These give the pairs $(a, b)=(5,21),(6,20),(7,19),(8,18),(9,17),(10,16),(11,15),(12,14)$. Thus, there are 8 possible pairs.", "answer": "8", "source": "fermat"}, {"domain": ["Mathematics -> Applied Mathematics -> Math Word Problems"], "difficulty": 1.5, "problem": "Many of the students in M. Gamache's class brought a skateboard or a bicycle to school yesterday. The ratio of the number of skateboards to the number of bicycles was $7:4$. There were 12 more skateboards than bicycles. How many skateboards and bicycles were there in total?", "solution": "Since the ratio of the number of skateboards to the number of bicycles was $7:4$, then the numbers of skateboards and bicycles can be written in the form $7k$ and $4k$ for some positive integer $k$. Since the difference between the numbers of skateboards and bicycles is 12, then $7k - 4k = 12$ and so $3k = 12$ or $k = 4$. Therefore, the total number of skateboards and bicycles is $7k + 4k = 11k = 11 \\times 4 = 44$.", "answer": "44", "source": "pascal"}, {"domain": ["Mathematics -> Algebra -> Prealgebra -> Simple Equations"], "difficulty": 1.5, "problem": "When a number is tripled and then decreased by 5, the result is 16. What is the original number?", "solution": "To get back to the original number, we undo the given operations. We add 5 to 16 to obtain 21 and then divide by 3 to obtain 7. These are the 'inverse' operations of decreasing by 5 and multiplying by 3.", "answer": "7", "source": "cayley"}, {"domain": ["Mathematics -> Applied Mathematics -> Math Word Problems"], "difficulty": 1.5, "problem": "A movie is 1 hour and 48 minutes long. A second movie is 25 minutes longer than the first. How long is the second movie?", "solution": "We add 25 minutes to 1 hour and 48 minutes in two steps. First, we add 12 minutes to 1 hour and 48 minutes to get 2 hours. Then we add $25-12=13$ minutes to 2 hours to get 2 hours and 13 minutes. Alternatively, we could note that 1 hour and 48 minutes is $60+48=108$ minutes, and so the time that is 25 minutes longer is 133 minutes, which is $120+13$ minutes or 2 hours and 13 minutes.", "answer": "2 \text{ hours and } 13 \text{ minutes}", "source": "cayley"}, {"domain": ["Mathematics -> Algebra -> Prealgebra -> Fractions"], "difficulty": 1.5, "problem": "What fraction of the entire wall is painted red if Matilda paints half of her section red and Ellie paints one third of her section red?", "solution": "Matilda and Ellie each take $\\frac{1}{2}$ of the wall. Matilda paints $\\frac{1}{2}$ of her half, or $\\frac{1}{2} \\times \\frac{1}{2} = \\frac{1}{4}$ of the entire wall. Ellie paints $\\frac{1}{3}$ of her half, or $\\frac{1}{3} \\times \\frac{1}{2} = \\frac{1}{6}$ of the entire wall. Therefore, $\\frac{1}{4} + \\frac{1}{6} = \\frac{3}{12} + \\frac{2}{12} = \\frac{5}{12}$ of the wall is painted red.", "answer": "\\frac{5}{12}", "source": "cayley"}, {"domain": ["Mathematics -> Algebra -> Prealgebra -> Simple Equations", "Mathematics -> Geometry -> Plane Geometry -> Perimeter"], "difficulty": 2.5, "problem": "Given that the area of a rectangle is 192 and its length is 24, what is the perimeter of the rectangle?", "solution": "Since the area of the rectangle is 192 and its length is 24, then its width is $192 \\div 24=8$. Therefore, its perimeter is $2 \\times 24 + 2 \\times 8 = 64$.", "answer": "64", "source": "fermat"}, {"domain": ["Mathematics -> Algebra -> Prealgebra -> Simple Equations"], "difficulty": 1.0, "problem": "If $10x+y=75$ and $10y+x=57$ for some positive integers $x$ and $y$, what is the value of $x+y$?", "solution": "Since $10x+y=75$ and $10y+x=57$, then $(10x+y)+(10y+x)=75+57$ and so $11x+11y=132$. Dividing by 11, we get $x+y=12$. (We could have noticed initially that $(x, y)=(7,5)$ is a pair that satisfies the two equations, thence concluding that $x+y=12$.)", "answer": "12", "source": "fermat"}, {"domain": ["Mathematics -> Algebra -> Prealgebra -> Equations -> Other"], "difficulty": 1.0, "problem": "If $m+1=\frac{n-2}{3}$, what is the value of $3 m-n$?", "solution": "Since $m+1=\frac{n-2}{3}$, then $3(m+1)=n-2$. This means that $3 m+3=n-2$ and so $3 m-n=-2-3=-5$.", "answer": "-5", "source": "pascal"}, {"domain": ["Mathematics -> Algebra -> Prealgebra -> Integers"], "difficulty": 1.5, "problem": "When three consecutive integers are added, the total is 27. What is the result when the same three integers are multiplied?", "solution": "If the sum of three consecutive integers is 27, then the numbers must be 8, 9, and 10. Their product is $8 \times 9 \times 10=720$.", "answer": "720", "source": "fermat"}, {"domain": ["Mathematics -> Applied Mathematics -> Math Word Problems"], "difficulty": 1.0, "problem": "What is the value of \\( z \\) in the carpet installation cost chart?", "solution": "Using the cost per square metre, \\( z = 1261.40 \\).", "answer": "1261.40", "source": "pascal"}, {"domain": ["Mathematics -> Algebra -> Prealgebra -> Simple Equations"], "difficulty": 1.5, "problem": "Many of the students in M. Gamache's class brought a skateboard or a bicycle to school yesterday. The ratio of the number of skateboards to the number of bicycles was $7:4$. There were 12 more skateboards than bicycles. How many skateboards and bicycles were there in total?", "solution": "Since the ratio of the number of skateboards to the number of bicycles was $7:4$, then the numbers of skateboards and bicycles can be written in the form $7k$ and $4k$ for some positive integer $k$. Since the difference between the numbers of skateboards and bicycles is 12, then $7k - 4k = 12$ and so $3k = 12$ or $k = 4$. Therefore, the total number of skateboards and bicycles is $7k + 4k = 11k = 11 \\times 4 = 44$.", "answer": "44", "source": "pascal"}, {"domain": ["Mathematics -> Algebra -> Algebra -> Equations and Inequalities"], "difficulty": 2.5, "problem": "Three real numbers $a, b,$ and $c$ have a sum of 114 and a product of 46656. If $b=ar$ and $c=ar^2$ for some real number $r$, what is the value of $a+c$?", "solution": "Since $b=ar, c=ar^2$, and the product of $a, b,$ and $c$ is 46656, then $a(ar)(ar^2)=46656$ or $a^3r^3=46656$ or $(ar)^3=46656$ or $ar=\\sqrt[3]{46656}=36$. Therefore, $b=ar=36$. Since the sum of $a, b,$ and $c$ is 114, then $a+c=114-b=114-36=78$.", "answer": "78", "source": "fermat"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Triangulations"], "difficulty": 2.5, "problem": "What is the length of $SR$ if in $\\triangle PQR$, $PS$ is perpendicular to $QR$, $RT$ is perpendicular to $PQ$, $PT=1$, $TQ=4$, and $QS=3$?", "solution": "Since $PT=1$ and $TQ=4$, then $PQ=PT+TQ=1+4=5$. $\\triangle PSQ$ is right-angled at $S$ and has hypotenuse $PQ$. By the Pythagorean Theorem, $PS^{2}=PQ^{2}-QS^{2}=5^{2}-3^{2}=16$. Since $PS>0$, then $PS=4$. Consider $\\triangle PSQ$ and $\\triangle RTQ$. These triangles are similar, so $\\frac{PQ}{QS}=\\frac{QR}{TQ}$. Thus, $\\frac{5}{3}=\\frac{QR}{4}$ and $QR=\\frac{20}{3}$. Finally, $SR=QR-QS=\\frac{20}{3}-3=\\frac{11}{3}$.", "answer": "\\frac{11}{3}", "source": "cayley"}, {"domain": ["Mathematics -> Applied Mathematics -> Math Word Problems"], "difficulty": 2.5, "problem": "Aria and Bianca walk at different, but constant speeds. They each begin at 8:00 a.m. from the opposite ends of a road and walk directly toward the other's starting point. They pass each other at 8:42 a.m. Aria arrives at Bianca's starting point at 9:10 a.m. When does Bianca arrive at Aria's starting point?", "solution": "Let $A$ be Aria's starting point, $B$ be Bianca's starting point, and $M$ be their meeting point. It takes Aria 42 minutes to walk from $A$ to $M$ and 28 minutes from $M$ to $B$. Since Aria walks at a constant speed, then the ratio of the distance $A M$ to the distance $M B$ is equal to the ratio of times, or $42: 28$, which is equivalent to $3: 2$. Since it takes 42 minutes for Bianca to walk from $B$ to $M$, the ratio of distances $A M$ to $M B$ is $3: 2$, and Bianca walks at a constant speed, then it takes Bianca $\frac{3}{2} \times 42=63$ minutes to walk from $M$ to $A$. Therefore, Bianca arrives at Aria's starting point at 9:45 a.m.", "answer": "9:45 a.m.", "source": "fermat"}, {"domain": ["Mathematics -> Algebra -> Intermediate Algebra -> Exponential Functions"], "difficulty": 2.5, "problem": "If \\( 10^{x} \\cdot 10^{5}=100^{4} \\), what is the value of \\( x \\)?", "solution": "Since \\( 100=10^{2} \\), then \\( 100^{4}=(10^{2})^{4}=10^{8} \\). Therefore, we must solve the equation \\( 10^{x} \\cdot 10^{5}=10^{8} \\), which is equivalent to \\( 10^{x+5}=10^{8} \\). Thus, \\( x+5=8 \\) or \\( x=3 \\).", "answer": "3", "source": "fermat"}, {"domain": ["Mathematics -> Applied Mathematics -> Math Word Problems"], "difficulty": 1.5, "problem": "Mike rides his bicycle at a constant speed of $30 \\mathrm{~km} / \\mathrm{h}$. How many kilometres does Mike travel in 20 minutes?", "solution": "Since 1 hour equals 60 minutes, then 20 minutes equals $\\frac{1}{3}$ of an hour. Since Mike rides at $30 \\mathrm{~km} / \\mathrm{h}$, then in $\\frac{1}{3}$ of an hour, he travels $\\frac{1}{3} \\times 30 \\mathrm{~km}=10 \\mathrm{~km}$.", "answer": "10", "source": "fermat"}, {"domain": ["Mathematics -> Geometry -> Solid Geometry -> Surface Area"], "difficulty": 1.0, "problem": "Three $1 \times 1 \times 1$ cubes are joined side by side. What is the surface area of the resulting prism?", "solution": "When three $1 \times 1 \times 1$ cubes are joined together as in the diagram, the resulting prism is $3 \times 1 \times 1$. This prism has four rectangular faces that are $3 \times 1$ and two rectangular faces that are $1 \times 1$. Therefore, the surface area is $4 \times(3 \times 1)+2 \times(1 \times 1)=4 \times 3+2 \times 1=12+2=14$.", "answer": "14", "source": "pascal"}, {"domain": ["Mathematics -> Applied Mathematics -> Math Word Problems"], "difficulty": 2.0, "problem": "Kamile turned her computer off at 5 p.m. Friday, at which point it had been on for exactly 100 hours. At what time had Kamile turned her computer on?", "solution": "We need to determine the time 100 hours before 5 p.m. Friday. Since there are 24 hours in 1 day and since $100 = 4(24) + 4$, then 100 hours is equal to 4 days plus 4 hours. Starting at 5 p.m. Friday, we move 4 hours back in time to 1 p.m. Friday and then an additional 4 days back in time to 1 p.m. Monday. Thus, Kamile turned her computer on at 1 p.m. Monday.", "answer": "1 \text{ p.m. Monday}", "source": "fermat"}, {"domain": ["Mathematics -> Algebra -> Prealgebra -> Fractions"], "difficulty": 1.5, "problem": "A group of friends are sharing a bag of candy. On the first day, they eat $\frac{1}{2}$ of the candies in the bag. On the second day, they eat $\frac{2}{3}$ of the remaining candies. On the third day, they eat $\frac{3}{4}$ of the remaining candies. On the fourth day, they eat $\frac{4}{5}$ of the remaining candies. On the fifth day, they eat $\frac{5}{6}$ of the remaining candies. At the end of the fifth day, there is 1 candy remaining in the bag. How many candies were in the bag before the first day?", "solution": "We work backwards through the given information. At the end, there is 1 candy remaining. Since $\frac{5}{6}$ of the candies are removed on the fifth day, this 1 candy represents $\frac{1}{6}$ of the candies left at the end of the fourth day. Thus, there were $6 \times 1=6$ candies left at the end of the fourth day. Since $\frac{4}{5}$ of the candies are removed on the fourth day, these 6 candies represent $\frac{1}{5}$ of the candies left at the end of the third day. Thus, there were $5 \times 6=30$ candies left at the end of the third day. Since $\frac{3}{4}$ of the candies are removed on the third day, these 30 candies represent $\frac{1}{4}$ of the candies left at the end of the second day. Thus, there were $4 \times 30=120$ candies left at the end of the second day. Since $\frac{2}{3}$ of the candies are removed on the second day, these 120 candies represent $\frac{1}{3}$ of the candies left at the end of the first day. Thus, there were $3 \times 120=360$ candies left at the end of the first day. Since $\frac{1}{2}$ of the candies are removed on the first day, these 360 candies represent $\frac{1}{2}$ of the candies initially in the bag. Thus, there were $2 \times 360=720$ in the bag at the beginning.", "answer": "720", "source": "pascal"}, {"domain": ["Mathematics -> Algebra -> Prealgebra -> Simple Equations"], "difficulty": 1.5, "problem": "What number did Janet pick if she added 7 to the number, multiplied the sum by 2, subtracted 4, and the final result was 28?", "solution": "We undo Janet's steps to find the initial number. \n To do this, we start with 28, add 4 (to get 32), then divide the sum by 2 (to get 16), then subtract 7 (to get 9). \n Thus, Janet's initial number was 9.", "answer": "9", "source": "pascal"}, {"domain": ["Mathematics -> Applied Mathematics -> Math Word Problems"], "difficulty": 2.0, "problem": "Azmi has four blocks, each in the shape of a rectangular prism and each with dimensions $2 \times 3 \times 6$. She carefully stacks these four blocks on a flat table to form a tower that is four blocks high. What is the number of possible heights for this tower?", "solution": "The height of each block is 2, 3 or 6. Thus, the total height of the tower of four blocks is the sum of the four heights, each of which equals 2, 3 or 6. If 4 blocks have height 6, the total height equals $4 \times 6=24$. If 3 blocks have height 6, the fourth block has height 3 or 2. Therefore, the possible heights are $3 \times 6+3=21$ and $3 \times 6+2=20$. If 2 blocks have height 6, the third and fourth blocks have height 3 or 2. Therefore, the possible heights are $2 \times 6+3+3=18$ and $2 \times 6+3+2=17$ and $2 \times 6+2+2=16$. If 1 block has height 6, the second, third and fourth blocks have height 3 or 2. Therefore, the possible heights are $6+3+3+3=15$ and $6+3+3+2=14$ and $6+3+2+2=13$ and $6+2+2+2=12$. If no blocks have height 6, the possible heights are $3+3+3+3=12$ and $3+3+3+2=11$ and $3+3+2+2=10$ and $3+2+2+2=9$ and $2+2+2+2=8$. The possible heights are thus $24, 21, 20, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8$. There are 14 possible heights.", "answer": "14", "source": "pascal"}, {"domain": ["Mathematics -> Algebra -> Prealgebra -> Fractions"], "difficulty": 1.5, "problem": "What is the quantity equivalent to '2% of 1'?", "solution": "The quantity $2 \\%$ is equivalent to the fraction $\\frac{2}{100}$, so '2% of 1' is equal to $\\frac{2}{100}$.", "answer": "\\frac{2}{100}", "source": "fermat"}, {"domain": ["Mathematics -> Number Theory -> Prime Numbers"], "difficulty": 1.5, "problem": "Which of the following integers cannot be written as a product of two integers, each greater than 1: 6, 27, 53, 39, 77?", "solution": "We note that $6=2 \times 3$ and $27=3 \times 9$ and $39=3 \times 13$ and $77=7 \times 11$, which means that each of $6,27,39$, and 77 can be written as the product of two integers, each greater than 1. Thus, 53 must be the integer that cannot be written in this way. We can check that 53 is indeed a prime number.", "answer": "53", "source": "fermat"}, {"domain": ["Mathematics -> Algebra -> Prealgebra -> Decimals"], "difficulty": 1.5, "problem": "Sophie has written three tests. Her marks were $73\\%$, $82\\%$, and $85\\%$. She still has two tests to write. All tests are equally weighted. Her goal is an average of $80\\%$ or higher. With which of the following pairs of marks on the remaining tests will Sophie not reach her goal: $79\\%$ and $82\\%$, $70\\%$ and $91\\%$, $76\\%$ and $86\\%$, $73\\%$ and $83\\%$, $61\\%$ and $99\\%$?", "solution": "For Sophie's average over 5 tests to be $80\\%$, the sum of her marks on the 5 tests must be $5 \\times 80\\% = 400\\%$. After the first 3 tests, the sum of her marks is $73\\% + 82\\% + 85\\% = 240\\%$. Therefore, she will reach her goal as long as the sum of her marks on the two remaining tests is at least $400\\% - 240\\% = 160\\%$. The sums of the pairs of marks given are (A) $161\\%$, (B) $161\\%$, (C) $162\\%$, (D) $156\\%$, (E) $160\\%$. Thus, the pair with which Sophie would not meet her goal is (D).", "answer": "73\\% and 83\\%", "source": "pascal"}, {"domain": ["Mathematics -> Applied Mathematics -> Math Word Problems"], "difficulty": 2.0, "problem": "A loonie is a $\\$ 1$ coin and a dime is a $\\$ 0.10$ coin. One loonie has the same mass as 4 dimes. A bag of dimes has the same mass as a bag of loonies. The coins in the bag of loonies are worth $\\$ 400$ in total. How much are the coins in the bag of dimes worth?", "solution": "Since the coins in the bag of loonies are worth $\\$ 400$, then there are 400 coins in the bag. Since 1 loonie has the same mass as 4 dimes, then 400 loonies have the same mass as $4(400)$ or 1600 dimes. Therefore, the bag of dimes contains 1600 dimes, and so the coins in this bag are worth $\\$ 160$.", "answer": "160", "source": "cayley"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Angles"], "difficulty": 2.5, "problem": "What is the measure of $\\angle X Z Y$ if $M$ is the midpoint of $Y Z$, $\\angle X M Z=30^{\\circ}$, and $\\angle X Y Z=15^{\\circ}$?", "solution": "Since $\\angle X M Z=30^{\\circ}$, then $\\angle X M Y=180^{\\circ}-\\angle X M Z=180^{\\circ}-30^{\\circ}=150^{\\circ}$. \n Since the angles in $\\triangle X M Y$ add to $180^{\\circ}$, then \n $$ \\angle Y X M=180^{\\circ}-\\angle X Y Z-\\angle X M Y=180^{\\circ}-15^{\\circ}-150^{\\circ}=15^{\\circ} $$ \n (Alternatively, since $\\angle X M Z$ is an exterior angle of $\\triangle X M Y$, then $\\angle X M Z=\\angle Y X M+\\angle X Y M$ which also gives $\\angle Y X M=15^{\\circ}$.) \n Since $\\angle X Y M=\\angle Y X M$, then $\\triangle X M Y$ is isosceles with $M X=M Y$. \n But $M$ is the midpoint of $Y Z$, and so $M Y=M Z$. \n Since $M X=M Y$ and $M Y=M Z$, then $M X=M Z$. \n This means that $\\triangle X M Z$ is isosceles with $\\angle X Z M=\\angle Z X M$. \n Therefore, $\\angle X Z Y=\\angle X Z M=\\frac{1}{2}\\left(180^{\\circ}-\\angle X M Z\\right)=\\frac{1}{2}\\left(180^{\\circ}-30^{\\circ}\\right)=75^{\\circ}$.", "answer": "75^{\\circ}", "source": "pascal"}, {"domain": ["Mathematics -> Geometry -> Solid Geometry -> 3D Shapes"], "difficulty": 2.5, "problem": "A solid wooden rectangular prism measures $3 \\times 5 \\times 12$. The prism is cut in half by a vertical cut through four vertices, creating two congruent triangular-based prisms. What is the surface area of one of these triangular-based prisms?", "solution": "Consider the triangular-based prism on the front of the rectangular prism. This prism has five faces: a rectangle on the front, a rectangle on the left, a triangle on the bottom, a triangle on the top, and a rectangle on the back. The rectangle on the front measures $3 \\times 12$ and so has area 36. The rectangle on the left measures $3 \\times 5$ and so has area 15. The triangles on the top and bottom each are right-angled and have legs of length 5 and 12. This means that each has area $\\frac{1}{2} \\times 12 \\times 5 = 30$. The rectangle on the back has height 3. The length of this rectangle is the length of the diagonal of the bottom face of the rectangular prism. By the Pythagorean Theorem, this length is $\\sqrt{5^{2} + 12^{2}} = \\sqrt{25 + 144} = \\sqrt{169} = 13$. Thus, this rectangle is $3 \\times 13$ and so has area 39. In total, the surface area of the triangular prism is thus $36 + 15 + 2 \\times 30 + 39 = 150$.", "answer": "150", "source": "cayley"}, {"domain": ["Mathematics -> Applied Mathematics -> Math Word Problems"], "difficulty": 1.5, "problem": "In a survey, 100 students were asked if they like lentils and were also asked if they like chickpeas. A total of 68 students like lentils. A total of 53 like chickpeas. A total of 6 like neither lentils nor chickpeas. How many of the 100 students like both lentils and chickpeas?", "solution": "Suppose that $x$ students like both lentils and chickpeas. Since 68 students like lentils, these 68 students either like chickpeas or they do not. Since $x$ students like lentils and chickpeas, then $x$ of the 68 students that like lentils also like chickpeas and so $68-x$ students like lentils but do not like chickpeas. Since 53 students like chickpeas, then $53-x$ students like chickpeas but do not like lentils. We know that there are 100 students in total and that 6 like neither lentils nor chickpeas. Since there are 100 students in total, then $(68-x)+x+(53-x)+6=100$ which gives $127-x=100$ and so $x=27$. Therefore, there are 27 students that like both lentils and chickpeas.", "answer": "27", "source": "pascal"}, {"domain": ["Mathematics -> Algebra -> Prealgebra -> Averages -> Other"], "difficulty": 1.5, "problem": "Fifty numbers have an average of 76. Forty of these numbers have an average of 80. What is the average of the other ten numbers?", "solution": "If 50 numbers have an average of 76, then the sum of these 50 numbers is $50(76)=3800$. If 40 numbers have an average of 80, then the sum of these 40 numbers is $40(80)=3200$. Therefore, the sum of the 10 remaining numbers is $3800-3200=600$, and so the average of the 10 remaining numbers is $\frac{600}{10}=60$.", "answer": "60", "source": "fermat"}, {"domain": ["Mathematics -> Algebra -> Prealgebra -> Integers"], "difficulty": 1.0, "problem": "Calculate the expression $8 \\times 10^{5}+4 \\times 10^{3}+9 \\times 10+5$.", "solution": "First, we write out the powers of 10 in full to obtain $8 \\times 100000+4 \\times 1000+9 \\times 10+5$. Simplifying, we obtain $800000+4000+90+5$ or 804095.", "answer": "804095", "source": "pascal"}], "difficulty_3_5": [{"domain": ["Mathematics -> Discrete Mathematics -> Combinatorics"], "difficulty": 4.5, "problem": "Given a set $A$ with 10 elements, find the number of consistent 2-configurations of $A$ of order 2 with exactly 2 cells.", "solution": "Notice that if we look only at the pairs contained within any fixed cell, each element of that cell still lies in 2 such pairs, since all the pairs it belongs to are contained within that cell. Thus we have an induced consistent 2-configuration of order 2 of each cell. Now, each cell must have at least 3 elements for the configuration to be 2-consistent. So we can have either two 5-element cells, a 4-element cell and a 6-element cell, or a 3-element cell and a 7-element cell. If there are two 5-element cells, we can choose the members of the first cell in \\( \\binom{10}{5} \\) ways, and then (by the reasoning in the previous problem) we have \\( 4!/2 \\) ways to build a consistent 2-configuration of order 2 of each cell. However, choosing 5 elements for the first cell is equivalent to choosing the other 5 elements for the first cell, since the two cells are indistinguishable; thus, we have overcounted by a factor of 2. So we have \\( \\binom{10}{5} \\cdot (4!/2)^{2}/2 = 252 \\cdot 144/2 = 18144 \\) ways to form our configuration if we require it to have two cells of 5 elements each. If we have one 4-element cell and one 6-element cell, then there are \\( \\binom{10}{4} \\) ways to determine which 4 elements go in the smaller cell, and then \\( 3!/2 \\) ways and \\( 5!/2 \\) ways, respectively, to construct the 2-configurations of the two cells, for a total of \\( \\binom{10}{4} \\cdot (3!/2) \\cdot (5!/2) = 210 \\cdot 3 \\cdot 60 = 37800 \\) configurations (no overcounting here), and by similar reasoning, we have \\( \\binom{10}{3} \\cdot (2!/2) \\cdot (6!/2) = 120 \\cdot 1 \\cdot 360 = 43200 \\) configurations with one 3-element cell and one 7-element cell. Thus, altogether, we have a total of \\( 18144 + 37800 + 43200 = 99144 \\) consistent 2-configurations of order 2 with exactly 2 cells.", "answer": "99144", "source": "HMMT_2"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Triangles -> Other", "Mathematics -> Geometry -> Plane Geometry -> Circles"], "difficulty": 4.5, "problem": "Given right triangle $ABC$, with $AB=4, BC=3$, and $CA=5$. Circle $\\omega$ passes through $A$ and is tangent to $BC$ at $C$. What is the radius of $\\omega$?", "solution": "Let $O$ be the center of $\\omega$, and let $M$ be the midpoint of $AC$. Since $OA=OC$, $OM \\perp AC$. Also, $\\angle OCM=\\angle BAC$, and so triangles $ABC$ and $CMO$ are similar. Then, $CO/CM=AC/AB$, from which we obtain that the radius of $\\omega$ is $CO=\\frac{25}{8}$.", "answer": "\\frac{25}{8}", "source": "HMMT_2"}, {"domain": ["Mathematics -> Discrete Mathematics -> Combinatorics"], "difficulty": 4.5, "problem": "How many nondecreasing sequences $a_{1}, a_{2}, \\ldots, a_{10}$ are composed entirely of at most three distinct numbers from the set $\\{1,2, \\ldots, 9\\}$ (so $1,1,1,2,2,2,3,3,3,3$ and $2,2,2,2,5,5,5,5,5,5$ are both allowed)?", "solution": "From any sequence $a_{1}, a_{2}, \\ldots, a_{10}$, construct a sequence $b_{1}, b_{2}, \\ldots, b_{9}$, where $b_{i}$ counts the number of times $i$ occurs in the sequence. There is a correspondence from all possible sequences $b_{1}, b_{2}, \\ldots, b_{9}$ with at most 3 nonzero terms which add to 10 , since any sequence of $a_{1}, a_{2}, \\ldots, a_{10}$ will be converted to this form, and from any sequence $b_{1}, b_{2}, \\ldots, b_{9}$, we can construct a unique sequence of $a$-s by listing $i b_{i}$ times (for $1 \\leq i \\leq 9$ ) in nondecreasing order. Our goal now is to count the number of possible sequences $b_{1}, b_{2}, \\ldots, b_{9}$ meeting our conditions. We casework on the number of nonzero terms in the sequence: Case 1: The sequence has exactly one nonzero term. Then exactly one of $b_{1}, b_{2}, \\ldots, b_{9}$ is equal to 10 , and all the rest are equal to 0 . This gives us 9 possible sequences in this case. Case 2: The sequence has exactly two nonzero terms. There are $\\binom{9}{2}=36$ ways to choose the two terms $b_{i}, b_{j}(i<j)$ which are nonzero. From here, we have 9 choices for the value of $b_{i}$, namely 1 through 9 (since both $b_{i}$ and $b_{j}$ must be nonzero), and $b_{j}$ will be fixed, so this case gives us $36 \\cdot 9=324$ possible sequences. Case 3: The sequence has exactly three nonzero terms. There are $\\binom{9}{3}=84$ ways to choose the three terms $b_{i}, b_{j}, b_{k}(i<j<k)$ which are nonzero. Letting $c_{i}=b_{i}-1, c_{j}=b_{j}-1, c_{k}=b_{k}-1$, we have that $c_{i}, c_{j}, c_{k}$ are nonnegative integers which sum to 7 . There are $\\binom{9}{2}=36$ solutions to this equation (consider placing two dividers in the nine spaces between the ten elements), giving $84 \\cdot 36=3024$ possbilities in this case. We then have $9+324+3024=3357$ possible sequences.", "answer": "3357", "source": "HMMT_11"}, {"domain": ["Mathematics -> Number Theory -> Prime Numbers", "Mathematics -> Algebra -> Intermediate Algebra -> Other"], "difficulty": 4.0, "problem": "Find the sum of all positive integers $n \\leq 2015$ that can be expressed in the form $\\left\\lceil\\frac{x}{2}\\right\\rceil+y+x y$, where $x$ and $y$ are positive integers.", "solution": "Lemma: $n$ is expressible as $\\left\\lceil\\frac{x}{2}\\right\\rceil+y+x y$ iff $2 n+1$ is not a Fermat Prime. Proof: Suppose $n$ is expressible. If $x=2 k$, then $2 n+1=(2 k+1)(2 y+1)$, and if $x=2 k-1$, then $n=k(2 y+1)$. Thus, if $2 n+1$ isn't prime, we can factor $2 n+1$ as the product of two odd integers $2 x+1,2 y+1$ both greater than 1 , resulting in positive integer values for $x$ and $y$. Also, if $n$ has an odd factor greater than 1 , then we factor out its largest odd factor as $2 y+1$, giving a positive integer value for $x$ and $y$. Thus $n$ is expressible iff $2 n+1$ is not prime or $n$ is not a power of 2 . That leaves only the $n$ such that $2 n+1$ is a prime one more than a power of two. These are well-known, and are called the Fermat primes. It's a well-known fact that the only Fermat primes $\\leq 2015$ are 3, 5, 17, 257, which correspond to $n=1,2,8,128$. Thus the sum of all expressible numbers is $\\frac{2015 \\cdot 2016}{2}-(1+2+8+128)=2029906$.", "answer": "2029906", "source": "HMMT_11"}, {"domain": ["Mathematics -> Number Theory -> Greatest Common Divisors (GCD)"], "difficulty": 4.0, "problem": "Find the greatest common divisor of the numbers $2002+2,2002^{2}+2,2002^{3}+2, \\ldots$.", "solution": "Notice that $2002+2$ divides $2002^{2}-2^{2}$, so any common divisor of $2002+2$ and $2002^{2}+2$ must divide $\\left(2002^{2}+2\\right)-\\left(2002^{2}-2^{2}\\right)=6$. On the other hand, every number in the sequence is even, and the $n$th number is always congruent to $1^{n}+2 \\equiv 0$ modulo 3 . Thus, 6 divides every number in the sequence.", "answer": "6", "source": "HMMT_2"}, {"domain": ["Mathematics -> Applied Mathematics -> Statistics -> Probability -> Counting Methods -> Combinations", "Mathematics -> Algebra -> Prealgebra -> Integers"], "difficulty": 4.0, "problem": "Let $a, b, c, d, e, f$ be integers selected from the set $\\{1,2, \\ldots, 100\\}$, uniformly and at random with replacement. Set $M=a+2 b+4 c+8 d+16 e+32 f$. What is the expected value of the remainder when $M$ is divided by 64?", "solution": "Consider $M$ in binary. Assume we start with $M=0$, then add $a$ to $M$, then add $2 b$ to $M$, then add $4 c$ to $M$, and so on. After the first addition, the first bit (defined as the rightmost bit) of $M$ is toggled with probability $\\frac{1}{2}$. After the second addition, the second bit of $M$ is toggled with probability $\\frac{1}{2}$. After the third addition, the third bit is toggled with probability $\\frac{1}{2}$, and so on for the remaining three additions. As such, the six bits of $M$ are each toggled with probability $\\frac{1}{2}$ - specifically, the $k^{t h}$ bit is toggled with probability $\\frac{1}{2}$ at the $k^{t h}$ addition, and is never toggled afterwards. Therefore, each residue from 0 to 63 has probability $\\frac{1}{64}$ of occurring, so they are all equally likely. The expected value is then just $\\frac{63}{2}$.", "answer": "\\frac{63}{2}", "source": "HMMT_2"}, {"domain": ["Mathematics -> Number Theory -> Other"], "difficulty": 3.5, "problem": "How many of the integers $1,2, \\ldots, 2004$ can be represented as $(m n+1) /(m+n)$ for positive integers $m$ and $n$ ?", "solution": "For any positive integer $a$, we can let $m=a^{2}+a-1, n=a+1$ to see that every positive integer has this property, so the answer is 2004.", "answer": "2004", "source": "HMMT_2"}, {"domain": ["Mathematics -> Number Theory -> Modular Arithmetic -> Other"], "difficulty": 4.0, "problem": "Determine the remainder when $$2^{\\frac{1 \\cdot 2}{2}}+2^{\\frac{2 \\cdot 3}{2}}+\\cdots+2^{\\frac{2011 \\cdot 2012}{2}}$$ is divided by 7.", "solution": "We have that $2^{3} \\equiv 1(\\bmod 7)$. Hence, it suffices to consider the exponents modulo 3. We note that the exponents are the triangular number and upon division by 3 give the pattern of remainders $1,0,0,1,0,0, \\ldots$, so what we want is $$\\begin{aligned} 2^{\\frac{1 \\cdot 2}{2}}+\\cdots+2^{\\frac{2011 \\cdot 2012}{2}} & \\equiv 2^{1}+2^{0}+2^{0}+2^{1}+\\ldots+2^{0}+2^{1} \\quad(\\bmod 7) \\\\ & \\equiv \\frac{2010}{3}\\left(2^{1}+2^{0}+2^{0}\\right)+2^{1} \\\\ & \\equiv(670)(4)+2 \\\\ & \\equiv 1 \\end{aligned}$$", "answer": "1", "source": "HMMT_11"}, {"domain": ["Mathematics -> Applied Mathematics -> Statistics -> Probability -> Counting Methods -> Other"], "difficulty": 4.5, "problem": "64 people are in a single elimination rock-paper-scissors tournament, which consists of a 6-round knockout bracket. Each person has a different rock-paper-scissors skill level, and in any game, the person with the higher skill level will always win. For how many players $P$ is it possible that $P$ wins the first four rounds that he plays?", "solution": "Note that a sub-bracket, that is, a subset of games of the tournament that themselves constitute a bracket, is always won by the person with the highest skill level. Therefore, a person wins her first four rounds if and only if she has the highest skill level among the people in her 16-person sub-bracket. This is possible for all but the people with the $16-1=15$ lowest skill levels, so our answer is $64-15=49$.", "answer": "49", "source": "HMMT_11"}, {"domain": ["Mathematics -> Algebra -> Algebra -> Polynomial Operations"], "difficulty": 4.5, "problem": "Let $f(x)=x^{4}+14 x^{3}+52 x^{2}+56 x+16$. Let $z_{1}, z_{2}, z_{3}, z_{4}$ be the four roots of $f$. Find the smallest possible value of $|z_{a} z_{b}+z_{c} z_{d}|$ where $\\{a, b, c, d\\}=\\{1,2,3,4\\}$.", "solution": "Note that $\\frac{1}{16} f(2 x)=x^{4}+7 x^{3}+13 x^{2}+7 x+1$. Because the coefficients of this polynomial are symmetric, if $r$ is a root of $f(x)$ then $\\frac{4}{r}$ is as well. Further, $f(-1)=-1$ and $f(-2)=16$ so $f(x)$ has two distinct roots on $(-2,0)$ and two more roots on $(-\\infty,-2)$. Now, if $\\sigma$ is a permutation of $\\{1,2,3,4\\}$ : $|z_{\\sigma(1)} z_{\\sigma(2)}+z_{\\sigma(3)} z_{\\sigma(4)}| \\leq \\frac{1}{2}(z_{\\sigma(1)} z_{\\sigma(2)}+z_{\\sigma(3)} z_{\\sigma(4)}+z_{\\sigma(4)} z_{\\sigma(3)}+z_{\\sigma(2)} z_{\\sigma(1)})$ Let the roots be ordered $z_{1} \\leq z_{2} \\leq z_{3} \\leq z_{4}$, then by rearrangement the last expression is at least: $\\frac{1}{2}(z_{1} z_{4}+z_{2} z_{3}+z_{3} z_{2}+z_{4} z_{1})$ Since the roots come in pairs $z_{1} z_{4}=z_{2} z_{3}=4$, our expression is minimized when $\\sigma(1)=1, \\sigma(2)=4, \\sigma(3)=3, \\sigma(4)=2$ and its minimum value is 8.", "answer": "8", "source": "HMMT_2"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Triangulations", "Mathematics -> Geometry -> Plane Geometry -> Angles"], "difficulty": 4.5, "problem": "Let $G_{1} G_{2} G_{3}$ be a triangle with $G_{1} G_{2}=7, G_{2} G_{3}=13$, and $G_{3} G_{1}=15$. Let $G_{4}$ be a point outside triangle $G_{1} G_{2} G_{3}$ so that ray $\\overrightarrow{G_{1} G_{4}}$ cuts through the interior of the triangle, $G_{3} G_{4}=G_{4} G_{2}$, and $\\angle G_{3} G_{1} G_{4}=30^{\\circ}$. Let $G_{3} G_{4}$ and $G_{1} G_{2}$ meet at $G_{5}$. Determine the length of segment $G_{2} G_{5}$.", "solution": "We first show that quadrilateral $G_{1} G_{2} G_{4} G_{3}$ is cyclic. Note that by the law of cosines, $$\\cos \\angle G_{2} G_{1} G_{3}=\\frac{7^{2}+15^{2}-13^{2}}{2 \\cdot 7 \\cdot 15}=\\frac{1}{2}$$ so $\\angle G_{2} G_{1} G_{3}=60^{\\circ}$. However, we know that $\\angle G_{3} G_{1} G_{4}=30^{\\circ}$, so $G_{1} G_{4}$ is an angle bisector. Now, let $G_{1} G_{4}$ intersect the circumcircle of triangle $G_{1} G_{2} G_{3}$ at $X$. Then, the minor arcs $\\widehat{G_{2} X}$ and $\\widehat{G_{3} X}$ are subtended by the equal angles $\\angle G_{2} G_{1} X$ and $\\angle G_{3} G_{1} X$, implying that $G_{2} X=G_{3} X$, i.e. $X$ is on the perpendicular bisector of $G_{2} G_{3}, l$. Similarly, since $G_{4} G_{2}=G_{4} G_{3}, G_{4}$ lies on $l$. However, since $l$ and $G_{1} G_{4}$ are distinct (in particular, $G_{1}$ lies on $G_{1} G_{4}$ but not $l$), we in fact have $X=G_{4}$, so $G_{1} G_{2} G_{4} G_{3}$ is cyclic. We now have $G_{5} G_{2} G_{4} \\sim G_{5} G_{3} G_{1}$ since $G_{1} G_{2} G_{4} G_{3}$ is cyclic. Now, we have $\\angle G_{4} G_{3} G_{2}=\\angle G_{4} G_{1} G_{2}=30^{\\circ}$, and we may now compute $G_{2} G_{4}=G_{4} G_{3}=13 / \\sqrt{3}$. Let $G_{5} G_{2}=x$ and $G_{5} G_{4}=y$. Now, from $G_{5} G_{4} G_{2} \\sim G_{5} G_{1} G_{3}$, we have: $$\\frac{x}{y+13 / \\sqrt{3}}=\\frac{13 / \\sqrt{3}}{15}=\\frac{y}{x+7}$$ Equating the first and second expressions and cross-multiplying, we get $$y+\\frac{13 \\sqrt{3}}{3}=\\frac{15 \\sqrt{3} x}{13}$$ Now, equating the first and third expressions and and substituting gives $$\\left(\\frac{15 \\sqrt{3} x}{13}-\\frac{13 \\sqrt{3}}{3}\\right)\\left(\\frac{15 \\sqrt{3} x}{13}\\right)=x(x+7)$$ Upon dividing both sides by $x$, we obtain a linear equation from which we can solve to get $x=169 / 23$.", "answer": "\\frac{169}{23}", "source": "HMMT_11"}, {"domain": ["Mathematics -> Algebra -> Intermediate Algebra -> Other", "Mathematics -> Number Theory -> Greatest Common Divisors (GCD)"], "difficulty": 4.0, "problem": "Compute the greatest common divisor of $4^{8}-1$ and $8^{12}-1$.", "solution": "Let $d=\\operatorname{gcd}(a, b)$ for some $a, b \\in \\mathbb{Z}^{+}$. Then, we can write $d=a x-b y$, where $x, y \\in \\mathbb{Z}^{+}$, and $$\\begin{align*} & 2^{a}-1 \\mid 2^{a x}-1  \\tag{1}\\\\ & 2^{b}-1 \\mid 2^{b y}-1 \\tag{2} \\end{align*}$$ Multiplying the right-hand side of (2) by $2^{d}$, we get, $$2^{b}-1 \\mid 2^{a x}-2^{d}$$ Thus, $\\operatorname{gcd}\\left(2^{a}-1,2^{b}-1\\right)=2^{d}-1=2^{\\operatorname{gcd}(a, b)}-1$. Using $a=16$ and $b=36$, we get $$\\operatorname{gcd}\\left(2^{16}-1,2^{36}-1\\right)=2^{\\operatorname{gcd}(16,36)}-1=2^{4}-1=15$$", "answer": "15", "source": "HMMT_11"}, {"domain": ["Mathematics -> Applied Mathematics -> Math Word Problems"], "difficulty": 4.0, "problem": "Point P_{1} is located 600 miles West of point P_{2}. At 7:00 AM a car departs from P_{1} and drives East at a speed of 50 miles per hour. At 8:00 AM another car departs from P_{2} and drives West at a constant speed of x miles per hour. If the cars meet each other exactly halfway between P_{1} and P_{2}, what is the value of x?", "solution": "Each car meets having traveled 300 miles. Therefore the first car traveled for 300 / 50=6 hours, and so the second car traveled for 5 hours. The second car must have traveled 300 / 5=60 miles per hour.", "answer": "60", "source": "HMMT_11"}, {"domain": ["Mathematics -> Number Theory -> Other (since the context of \\( A \\) is necessary but unspecified here, the question relates to determining and summing all divisors of an integer) -> Other"], "difficulty": 4.5, "problem": "Let $A$ be as in problem 33. Let $W$ be the sum of all positive integers that divide $A$. Find $W$.", "solution": "Problems 31-33 go together. See below.", "answer": "8", "source": "HMMT_2"}, {"domain": ["Mathematics -> Algebra -> Intermediate Algebra -> Inequalities", "Mathematics -> Algebra -> Algebra -> Algebraic Expressions"], "difficulty": 4.0, "problem": "Let $x_{1}, x_{2}, \\ldots, x_{2022}$ be nonzero real numbers. Suppose that $x_{k}+\\frac{1}{x_{k+1}}<0$ for each $1 \\leq k \\leq 2022$, where $x_{2023}=x_{1}$. Compute the maximum possible number of integers $1 \\leq n \\leq 2022$ such that $x_{n}>0$.", "solution": "Let the answer be $M$. If $M>1011$, there would exist two consecutive positive terms $x_{k}, x_{k+1}$ which contradicts the assumption that $x_{k}+\\frac{1}{x_{k+1}}<0$. Thus, $M \\leq 1011$. If $M=1011$, then the $2022 x_{i}$ s must alternate between positive and negative. WLOG, assume $x_{2 k-1}>0$ and $x_{2 k}<0$ for each $k$. Then, we have $x_{2 k-1}+\\frac{1}{x_{2 k}}<0 \\Longrightarrow\\left|x_{2 k-1} x_{2 k}\\right|<1$ and $x_{2 k}+\\frac{1}{x_{2 k+1}}<0 \\Longrightarrow\\left|x_{2 k} x_{2 k+1}\\right|>1$. Multiplying the first equation over all $k$ gives us $\\prod_{i=1}^{2022}\\left|x_{i}\\right|<1$, while multiplying the second equation over all $k$ gives us $\\prod_{i=1}^{2022}\\left|x_{i}\\right|>1$. Thus, we must have $M<1011$. $M=1010$ is possible by the following construction: $1,-\\frac{1}{2}, 3,-\\frac{1}{4}, \\ldots, 2019,-\\frac{1}{2020},-10000,-10000$.", "answer": "1010", "source": "HMMT_2"}, {"domain": ["Mathematics -> Algebra -> Algebra -> Polynomial Operations"], "difficulty": 4.0, "problem": "Let $f(x)=x^{4}+a x^{3}+b x^{2}+c x+d$ be a polynomial whose roots are all negative integers. If $a+b+c+d=2009$, find $d$.", "solution": "Call the roots $-x_{1},-x_{2},-x_{3}$, and $-x_{4}$. Then $f(x)$ must factor as $(x+x_{1})(x+x_{2})(x+x_{3})(x+x_{4})$. If we evaluate $f$ at 1, we get $(1+x_{1})(1+x_{2})(1+x_{3})(1+x_{4})=a+b+c+d+1=2010.2010=2 \\cdot 3 \\cdot 5 \\cdot 67$. $d$ is the product of the four roots, so $d=(-1) \\cdot(-2) \\cdot(-4) \\cdot(-66)$.", "answer": "528", "source": "HMMT_11"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Polygons"], "difficulty": 4.0, "problem": "A regular $n$-gon $P_{1} P_{2} \\ldots P_{n}$ satisfies $\\angle P_{1} P_{7} P_{8}=178^{\\circ}$. Compute $n$.", "solution": "Let $O$ be the center of the $n$-gon. Then $$\\angle P_{1} O P_{8}=2\\left(180^{\\circ}-\\angle P_{1} P_{7} P_{8}\\right)=4^{\\circ}=\\frac{360^{\\circ}}{90}$$ which means the arc $\\widehat{P_{1} P_{8}}$ that spans 7 sides of the $n$-gon also spans $1 / 90$ of its circumcircle. Thus $n=7 \\cdot 90=630$.", "answer": "630", "source": "HMMT_11"}, {"domain": ["Mathematics -> Applied Mathematics -> Statistics -> Probability -> Counting Methods -> Combinations"], "difficulty": 4.375, "problem": "A jar contains 8 red balls and 2 blue balls. Every minute, a ball is randomly removed. The probability that there exists a time during this process where there are more blue balls than red balls in the jar can be expressed as $\\frac{a}{b}$ for relatively prime integers $a$ and $b$. Compute $100 a+b$.", "solution": "One can show that the condition in the problem is satisfied if and only the last ball drawn is blue (which happens with probability $\\frac{1}{5}$), or the blue balls are drawn second-to-last and third-to-last (which happens with probability $\\frac{1}{\\binom{10}{2}}=\\frac{1}{45}$). Thus the total probability is $\\frac{10}{45}=\\frac{2}{9}$.", "answer": "209", "source": "HMMT_2"}, {"domain": ["Mathematics -> Discrete Mathematics -> Combinatorics"], "difficulty": 4.5, "problem": "Jody has 6 distinguishable balls and 6 distinguishable sticks, all of the same length. How many ways are there to use the sticks to connect the balls so that two disjoint non-interlocking triangles are formed? Consider rotations and reflections of the same arrangement to be indistinguishable.", "solution": "For two disjoint triangles to be formed, three of the balls must be connected into a triangle by three of the sticks, and the three remaining balls must be connected by the three remaining sticks. There are $\\binom{6}{3}$ ways to pick the 3 balls for the first triangle. Note that once we choose the 3 balls for the first triangle, the remaining 3 balls must form the vertices of the second triangle. Now that we have determined the vertices of each triangle, we can assign the 6 sticks to the 6 total edges in the two triangles. Because any ordering of the 6 sticks works, there are $6!=720$ total ways to assign the sticks as edges. Finally, because the order of the two triangles doesn't matter (i.e. our initial choice of 3 balls could have been used for the second triangle), we must divide by 2 to correct for overcounting. Hence the final answer is $\\binom{6}{3} \\cdot 6!/ 2=7200$.", "answer": "7200", "source": "HMMT_11"}, {"domain": ["Mathematics -> Geometry -> Solid Geometry -> 3D Shapes"], "difficulty": 4.0, "problem": "Reimu has a wooden cube. In each step, she creates a new polyhedron from the previous one by cutting off a pyramid from each vertex of the polyhedron along a plane through the trisection point on each adjacent edge that is closer to the vertex. For example, the polyhedron after the first step has six octagonal faces and eight equilateral triangular faces. How many faces are on the polyhedron after the fifth step?", "solution": "Notice that the number of vertices and edges triple with each step. We always have 3 edges meeting at one vertex, and slicing off a pyramid doesn't change this (we make new vertices from which one edge from the previous step and two of the pyramid edges emanate). So at each step we replace the sliced-off vertex with three new vertices, and to each edge we create four new 'half-edges' (two from the pyramid at each endpoint), which is equivalent to tripling the number of vertices and edges. Then, by Euler's Theorem the number of faces is $E-V+2=12 \\cdot 3^{5}-8 \\cdot 3^{5}+2=974$.", "answer": "974", "source": "HMMT_11"}, {"domain": ["Mathematics -> Discrete Mathematics -> Combinatorics"], "difficulty": 4.5, "problem": "An $n$-string is a string of digits formed by writing the numbers $1,2, \\ldots, n$ in some order (in base ten). For example, one possible 10-string is $$35728910461$$ What is the smallest $n>1$ such that there exists a palindromic $n$-string?", "solution": "The following is such a string for $n=19$ : $$ 9|18| 7|16| 5|14| 3|12| 1|10| 11|2| 13|4| 15|6| 17|8| 19 $$ where the vertical bars indicate breaks between the numbers. On the other hand, to see that $n=19$ is the minimum, notice that only one digit can occur an odd number of times in a palindromic $n$-string (namely the center digit). If $n \\leq 9$, then (say) the digits 1,2 each appear once in any $n$-string, so we cannot have a palindrome. If $10 \\leq n \\leq 18$, then 0,9 each appear once, and we again cannot have a palindrome. So 19 is the smallest possible $n$.", "answer": "19", "source": "HMMT_2"}, {"domain": ["Mathematics -> Discrete Mathematics -> Combinatorics"], "difficulty": 4.5, "problem": "How many sequences of ten binary digits are there in which neither two zeroes nor three ones ever appear in a row?", "solution": "Let $a_{n}$ be the number of binary sequences of length $n$ satisfying the conditions and ending in 0 , let $b_{n}$ be the number ending in 01 , and let $c_{n}$ be the number ending in 11 . From the legal sequences of length $201,11,10$, we find that $a_{2}=b_{2}=c_{2}=1$. We now establish a recursion by building sequences of length $n+1$ from sequences of length $n$. We can add a 0 to a sequence of length $n$ if and only if it ended with a 1 , so $a_{n+1}=b_{n}+c_{n}$. We can have a sequence of length $n+1$ ending with 01 only by adding a 1 to a sequence of length $n$ ending in 0 , so $b_{n+1}=a_{n}$. We can have a sequence of length $n+1$ ending with 11 only by adding a 1 to a sequence of length $n$ ending in 01 , so $c_{n+1}=b_{n}$. We can now run the recursion: \\begin{tabular}{c|c|c|c} $n$ & $a_{n}$ & $b_{n}$ & $c_{n}$ \\\\ \\hline 2 & 1 & 1 & 1 \\\\ \\hline 3 & 2 & 1 & 1 \\\\ \\hline 4 & 2 & 2 & 1 \\\\ \\hline 5 & 3 & 2 & 2 \\\\ \\hline 6 & 4 & 3 & 2 \\\\ \\hline 7 & 5 & 4 & 3 \\\\ \\hline 8 & 7 & 5 & 4 \\\\ \\hline 9 & 9 & 7 & 5 \\\\ \\hline 10 & 12 & 9 & 7 \\end{tabular} Our answer is then $12+9+7=28$.", "answer": "28", "source": "HMMT_11"}, {"domain": ["Mathematics -> Applied Mathematics -> Statistics -> Probability -> Counting Methods -> Combinations"], "difficulty": 4.0, "problem": "Three points are chosen inside a unit cube uniformly and independently at random. What is the probability that there exists a cube with side length $\\frac{1}{2}$ and edges parallel to those of the unit cube that contains all three points?", "solution": "Let the unit cube be placed on a $x y z$-coordinate system, with edges parallel to the $x, y, z$ axes. Suppose the three points are labeled $A, B, C$. If there exists a cube with side length $\\frac{1}{2}$ and edges parallel to the edges of the unit cube that contain all three points, then there must exist a segment of length $\\frac{1}{2}$ that contains all three projections of $A, B, C$ onto the $x$-axis. The same is true for the $y$-and $z$-axes. Likewise, if there exists segments of length $\\frac{1}{2}$ that contains each of the projections of $A, B, C$ onto the $x, y$, and $z$ axes, then there must exist a unit cube of side length $\\frac{1}{2}$ that contains $A, B, C$. It is easy to see that the projection of a point onto the $x$-axis is uniform across a segment of length 1, and that each of the dimensions are independent. The problem is therefore equivalent to finding the cube of the probability that a segment of length $\\frac{1}{2}$ can cover three points chosen randomly on a segment of length 1. Note that selecting three numbers $p<q<r$ uniformly and independently at random from 0 to 1 splits the number line into four intervals. That is, we can equivalently sample four positive numbers $a, b, c, d$ uniformly satisfying $a+b+c+d=1$ (here, we set $a=p, b=q-p, c=r-q, d=1-r$ ). The probability that the points $p, q, r$ all lie on a segment of length $\\frac{1}{2}$ is the probability that $r-q \\leq \\frac{1}{2}$, or $b+c \\leq \\frac{1}{2}$. Since $a+d$ and $b+c$ are symmetric, we have that this probability is $\\frac{1}{2}$ and our final answer is $\\left(\\frac{1}{2}\\right)^{3}=\\frac{1}{8}$.", "answer": "\\frac{1}{8}", "source": "HMMT_2"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Triangulations"], "difficulty": 4.5, "problem": "$A B C$ is a triangle with points $E, F$ on sides $A C, A B$, respectively. Suppose that $B E, C F$ intersect at $X$. It is given that $A F / F B=(A E / E C)^{2}$ and that $X$ is the midpoint of $B E$. Find the ratio $C X / X F$.", "solution": "Let $x=A E / E C$. By Menelaus's theorem applied to triangle $A B E$ and line $C X F$, $$1=\\frac{A F}{F B} \\cdot \\frac{B X}{X E} \\cdot \\frac{E C}{C A}=\\frac{x^{2}}{x+1}$$ Thus, $x^{2}=x+1$, and $x$ must be positive, so $x=(1+\\sqrt{5}) / 2$. Now apply Menelaus to triangle $A C F$ and line $B X E$, obtaining $$1=\\frac{A E}{E C} \\cdot \\frac{C X}{X F} \\cdot \\frac{F B}{B A}=\\frac{C X}{X F} \\cdot \\frac{x}{x^{2}+1}$$ so $C X / X F=\\left(x^{2}+1\\right) / x=\\left(2 x^{2}-x\\right) / x=2 x-1=\\sqrt{5}$.", "answer": "\\sqrt{5}", "source": "HMMT_2"}, {"domain": ["Mathematics -> Algebra -> Intermediate Algebra -> Quadratic Functions", "Mathematics -> Algebra -> Prealgebra -> Simple Equations"], "difficulty": 4.5, "problem": "Vijay chooses three distinct integers \\(a, b, c\\) from the set \\(\\{1,2,3,4,5,6,7,8,9,10,11\\}\\). If \\(k\\) is the minimum value taken on by the polynomial \\(a(x-b)(x-c)\\) over all real numbers \\(x\\), and \\(l\\) is the minimum value taken on by the polynomial \\(a(x-b)(x+c)\\) over all real numbers \\(x\\), compute the maximum possible value of \\(k-l\\).", "solution": "Quadratics are minimized at the average of their roots, so \\(k=a\\left(\\frac{b+c}{2}-b\\right)\\left(\\frac{b+c}{2}-c\\right)=-\\frac{a(b-c)^{2}}{4}\\), and \\(l=a\\left(\\frac{b-c}{2}-b\\right)\\left(\\frac{b-c}{2}+c\\right)=-\\frac{a(b+c)^{2}}{4}\\). Therefore, \\(k-l=-\\frac{a}{4}\\left((b-c)^{2}-(b+c)^{2}\\right)=abc\\). Thus, \\(k-l=abc\\) is maximized when \\(a, b\\), and \\(c\\) are 9, 10, and 11 in some order, so the answer is \\(9 \\cdot 10 \\cdot 11=990\\).", "answer": "990", "source": "HMMT_11"}, {"domain": ["Mathematics -> Applied Mathematics -> Statistics -> Probability -> Other"], "difficulty": 4.0, "problem": "One fair die is rolled; let $a$ denote the number that comes up. We then roll $a$ dice; let the sum of the resulting $a$ numbers be $b$. Finally, we roll $b$ dice, and let $c$ be the sum of the resulting $b$ numbers. Find the expected (average) value of $c$.", "solution": "$343 / 8$. The expected result of an individual die roll is $(1+2+3+4+5+6) / 6=7 / 2$. For any particular value of $b$, if $b$ dice are rolled independently, then the expected sum is $(7 / 2) b$. Likewise, when we roll $a$ dice, the expected value of their sum $b$ is $(7 / 2) a$, so the expected value of $c$ is $(7 / 2)^{2} a$. Similar reasoning again shows us that the expected value of $a$ is $7 / 2$ and so the expected value of $c$ overall is $(7 / 2)^{3}=343 / 8$.", "answer": "343/8", "source": "HMMT_2"}, {"domain": ["Mathematics -> Applied Mathematics -> Statistics -> Probability -> Counting Methods -> Combinations"], "difficulty": 3.5, "problem": "Alice, Bob, and Charlie each pick a 2-digit number at random. What is the probability that all of their numbers' tens' digits are different from each others' tens' digits and all of their numbers' ones digits are different from each others' ones' digits?", "solution": "$\\frac{9}{10} \\frac{8}{10} \\frac{8}{9} \\frac{7}{9}=\\frac{112}{225}$.", "answer": "\\frac{112}{225}", "source": "HMMT_2"}, {"domain": ["Mathematics -> Algebra -> Algebra -> Algebraic Expressions", "Mathematics -> Calculus -> Integral Calculus -> Techniques of Integration -> Single-variable"], "difficulty": 4.5, "problem": "Find the value of $$\\sum_{a=1}^{\\infty} \\sum_{b=1}^{\\infty} \\sum_{c=1}^{\\infty} \\frac{a b(3 a+c)}{4^{a+b+c}(a+b)(b+c)(c+a)}$$", "solution": "Let $S$ denote the given sum. By summing over all six permutations of the variables $a, b, c$ we obtain $$\\begin{aligned} 6 S & =\\sum_{a=1}^{\\infty} \\sum_{b=1}^{\\infty} \\sum_{c=1}^{\\infty} \\frac{3\\left(a^{2} b+a^{2} c+b^{2} a+b^{2} c+c^{2} a+c^{2} b\\right)+6 a b c}{4^{a+b+c}(a+b)(b+c)(c+a)} \\\\ & =\\sum_{a=1}^{\\infty} \\sum_{b=1}^{\\infty} \\sum_{c=1}^{\\infty} \\frac{3}{4^{a+b+c}} \\\\ & =3\\left(\\sum_{a=1}^{\\infty} \\frac{1}{4^{a}}\\right)\\left(\\sum_{b=1}^{\\infty} \\frac{1}{4^{b}}\\right)\\left(\\sum_{c=1}^{\\infty} \\frac{1}{4^{c}}\\right) \\\\ & =3\\left(\\frac{1}{3}\\right)^{3} \\\\ & =\\frac{1}{9} \\end{aligned}$$ Hence $S=\\frac{1}{54}$.", "answer": "\\frac{1}{54}", "source": "HMMT_2"}, {"domain": ["Mathematics -> Algebra -> Algebra -> Algebraic Expressions", "Mathematics -> Number Theory -> Factorization"], "difficulty": 4.5, "problem": "A triple of integers \\((a, b, c)\\) satisfies \\(a+b c=2017\\) and \\(b+c a=8\\). Find all possible values of \\(c\\).", "solution": "Add and subtract the two equations to find \\((b+a)(c+1)=8+2017\\) and \\((b-a)(c-1)=2017-8\\). We see that \\(c\\) is even and then that every integer \\(c\\) with \\(c+1|2025, c-1| 2009\\) works. We factor and solve. The full solutions are \\((2017,8,0),(-667,1342,2),(-59,-346,-6),(-31,256,8)\\).", "answer": "-6,0,2,8", "source": "HMMT_2"}, {"domain": ["Mathematics -> Applied Mathematics -> Statistics -> Probability -> Counting Methods -> Combinations"], "difficulty": 4.5, "problem": "In a game, there are three indistinguishable boxes; one box contains two red balls, one contains two blue balls, and the last contains one ball of each color. To play, Raj first predicts whether he will draw two balls of the same color or two of different colors. Then, he picks a box, draws a ball at random, looks at the color, and replaces the ball in the same box. Finally, he repeats this; however, the boxes are not shuffled between draws, so he can determine whether he wants to draw again from the same box. Raj wins if he predicts correctly; if he plays optimally, what is the probability that he will win?", "solution": "If Bob predicts that he will draw two balls of the same color, then there are two possible plays: he draws from the same box, or he draws from a different box. If he draws from the same box, then in the $\\frac{2}{3}$ chance that he originally picked box 1, he will always win, and in the $\\frac{1}{3}$ chance that he picked box 2, he will win with probability $\\frac{1}{2}$, for a total probability of $\\frac{2}{3}+\\frac{1}{3} \\cdot \\frac{1}{2}=\\frac{5}{6}$. If he draws from a different box, then if he originally picked box 1, he will win with probability $\\frac{1}{4}$ and if he originally picked box 2, he will win with probability $\\frac{1}{2}$, for a total probability of $\\frac{2}{3} \\cdot \\frac{1}{4}+\\frac{1}{3} \\cdot \\frac{1}{2}=\\frac{1}{3}$. If Bob predicts that he will draw two balls of different colors, then we can consider the same two possible plays. Using similar calculations, if he draws from the same box, then he will win with probability $\\frac{1}{6}$, and if he draws from a different box, then he will win with probability $\\frac{2}{3}$. Looking at all cases, Bob's best play is to predict that he will draw two balls of the same color and then draw the second ball from the same box, with a winning probability of $\\frac{5}{6}$.", "answer": "\\frac{5}{6}", "source": "HMMT_2"}], "difficulty_5_7": [{"domain": ["Mathematics -> Geometry -> Plane Geometry -> Area", "Mathematics -> Discrete Mathematics -> Combinatorics"], "difficulty": 5.0, "problem": "Consider a $2n \\times 2n$ board. From the $i$ th line we remove the central $2(i-1)$ unit squares. What is the maximal number of rectangles $2 \\times 1$ and $1 \\times 2$ that can be placed on the obtained figure without overlapping or getting outside the board?", "solution": "Problem assumes that we remove $2(i-1)$ squares if $i\\leq n$ , and $2(2n-i)$ squares if $i>n$ .\nDivide the entire board into 4 quadrants each containing $n^2$ unit squares.\nFirst we note that the $2$ squares on the center on each of the $4$ bordering lines of the board can always be completely covered by a single tile, so we can count in the first and last unit squares (which are diagonally opposite) of each quadrant as being filled in completely by a tile.\nSo in each quadrant we have:\nif $n$ is even, there are exactly $(n-4)/2$ unit squares which cannot be filled by the tiles and if $n$ is odd, there are exactly $(n-3)/2$ unit squares which cannot be filled by the tiles.\nAbove can be seen by drawing a diagram and noticing that alternate columns have even and odd number of unit squares (leaving a unit square uncovered by tiles in odd numbered blocks of columns).\nAlso, note that the total number of unit squares which were removed from each quadrant = $(1 + 2+ 3 +... n-1) = n(n-1)/2$ \nLet us consider the 2 cases for parity of $n$ :\n  $Case 1: n$ is even\nfor $n = 2$ , it can be seen easily that we can use a maximum of $6$ tiles.\nfor $n \\ge 4:$ \nTotal number of squares that cannot be filled in each quadrant is: $n(n-1)/2 + (n-4)/2 = (n^2 - 4)/2$ \nSo total number of squares that cannot be filled on the entire board = $2(n^2 - 4)$ \nSo total number of squares that CAN be filled completely by the tiles = $4n^2 - 2(n^2 - 4) = 2n^2 + 8$ \nSo the maximum number of tiles that can be used = $(2n^2 + 8)/2 = n^2 + 4$ \n  $Case 2: n$ is odd\nfor $n = 1$ , it can be seen easily that we can use a maximum of $2$ tiles.\nfor $n \\ge 3:$ \nTotal number of squares that cannot be filled in each quadrant is: $n(n-1)/2 + (n-3)/2 = (n^2 - 3)/2$ \nSo total number of squares that cannot be filled on the entire board = $2(n^2 - 3)$ \nSo total number of squares that CAN be filled completely by the tiles = $4n^2 - 2(n^2 - 3) = 2n^2 + 6$ \nSo the maximum number of tiles that can be used = $(2n^2 + 6)/2 = n^2 + 3$ \n  $Kris17$ ", "answer": "\\[\n\\begin{cases} \nn^2 + 4 & \\text{if } n \\text{ is even} \\\\\nn^2 + 3 & \\text{if } n \\text{ is odd}\n\\end{cases}\n\\]", "source": "jbmo"}, {"domain": ["Mathematics -> Discrete Mathematics -> Combinatorics"], "difficulty": 5.0, "problem": "A $4 \\times 4$ window is made out of 16 square windowpanes. How many ways are there to stain each of the windowpanes, red, pink, or magenta, such that each windowpane is the same color as exactly two of its neighbors?", "solution": "For the purpose of explaining this solution, let's label the squares as 11121314 21222324 31323334 41424344. Note that since the corner squares $11,14,41,44$ each only have two neighbors, each corner square is the same color as both of its neighbors. This corner square constraint heavily limits the possible colorings. We will now use casework. Case 1: Suppose two corner squares on the same side have the same color. Then $21,11,12,13,14,24$ are all the same color, and 12 has two neighbors of this color so its third neighbor (22) is a color different from this color. But 22 has two neighbors of this color, so its other two neighbors (23 and 32) must be of the different color. Applying the same logic symmetrically, we find that all four interior squares $(22,23,32,33)$ have the same color. Furthermore, 21 has one neighbor of the different color 22, so 31 must be of the same color as 21. Symmetrically, 34 is of the same color as 21, and by the corner square constraint we have that all the exterior squares are the same color. Thus in general, this case is equivalent to a window taking the following form (with distinct colors $A$ and $B$): $$\\begin{array}{llll} A & A & A & A \\\\ A & B & B & A \\\\ A & B & B & A \\\\ A & A & A & A \\end{array}$$ The number of choices of $A$ and $B$ is $3 \\cdot 2=6$. Case 2: No two corner squares on the same side have the same color. Then from the corner square constraint 12 has neighbor 11 of the same color and neighbor 13 of a different color, so its neighbor 22 must be the same color as 12. Therefore, this case is equivalent to coloring each quadrant entirely in one color such that two quadrants sharing a side have different colors. If only two colors are used, the window will take the form (with distinct colors $A$ and $B$): $$\\begin{array}{llll} A & A & B & B \\\\ A & A & B & B \\\\ B & B & A & A \\\\ B & B & A & A \\end{array}$$ Again there are $3 \\cdot 2=6$ ways to choose $A$ and $B$. If all three colors are used, the window will take the form (with distinct colors $A, B$ and $C$): $$\\begin{array}{llll} A & A & B & B \\\\ A & A & B & B \\\\ C & C & A & A \\\\ C & C & A & A \\end{array}$$ or $$\\begin{array}{llll} A & A & B & B \\\\ A & A & B & B \\\\ B & B & C & C \\\\ B & B & C & C \\end{array}$$ There are $3 \\cdot 2 \\cdot 1=6$ ways to select colors for each of these forms. Therefore, there are 6 colorings in Case 1 and $6+6+6$ in Case 2, for a total of 24 colorings.", "answer": "24", "source": "HMMT_2"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Polygons"], "difficulty": 5.0, "problem": "Let $A B C D$ and $W X Y Z$ be two squares that share the same center such that $W X \\| A B$ and $W X<A B$. Lines $C X$ and $A B$ intersect at $P$, and lines $C Z$ and $A D$ intersect at $Q$. If points $P, W$, and $Q$ are collinear, compute the ratio $A B / W X$.", "solution": "Without loss of generality, let $A B=1$. Let $x=W X$. Then, since $B P W X$ is a parallelogram, we have $B P=x$. Moreover, if $T=X Y \\cap A B$, then we have $B T=\\frac{1-x}{2}$, so $P T=x-\\frac{1-x}{2}=\\frac{3 x-1}{2}$. Then, from $\\triangle P X T \\sim \\triangle P B C$, we have $$\\begin{aligned} \\frac{P T}{X T}=\\frac{P B}{B C} & \\Longrightarrow \\frac{\\frac{3 x-1}{2}}{\\frac{1-x}{2}}=\\frac{x}{1} \\\\ & \\Longrightarrow 3 x-1=x(1-x) \\\\ & \\Longrightarrow x= \\pm \\sqrt{2}-1 \\end{aligned}$$ Selecting only positive solution gives $x=\\sqrt{2}-1$. Thus, the answer is $\\frac{1}{\\sqrt{2}-1}=\\sqrt{2}+1$.", "answer": "\\sqrt{2}+1", "source": "HMMT_11"}, {"domain": ["Mathematics -> Applied Mathematics -> Statistics -> Probability -> Counting Methods -> Combinations"], "difficulty": 5.25, "problem": "A tournament among 2021 ranked teams is played over 2020 rounds. In each round, two teams are selected uniformly at random among all remaining teams to play against each other. The better ranked team always wins, and the worse ranked team is eliminated. Let $p$ be the probability that the second best ranked team is eliminated in the last round. Compute $\\lfloor 2021 p \\rfloor$.", "solution": "In any given round, the second-best team is only eliminated if it plays against the best team. If there are $k$ teams left and the second-best team has not been eliminated, the second-best team plays the best team with probability $\\frac{1}{\\binom{k}{2}}$, so the second-best team survives the round with probability $$1-\\frac{1}{\\binom{k}{2}}=1-\\frac{2}{k(k-1)}=\\frac{k^{2}-k-2}{k(k-1)}=\\frac{(k+1)(k-2)}{k(k-1)}$$ So, the probability that the second-best team survives every round before the last round is $$\\prod_{k=3}^{2021} \\frac{(k+1)(k-2)}{k(k-1)}$$ which telescopes to $$\\frac{\\frac{2022!}{3!} \\cdot \\frac{2019!}{0!}}{\\frac{2021!}{2!} \\cdot \\frac{2020!}{1!}}=\\frac{2022!\\cdot 2019!}{2021!\\cdot 2020!} \\cdot \\frac{2!\\cdot 1!}{3!\\cdot 0!}=\\frac{2022}{2020} \\cdot \\frac{1}{3}=\\frac{337}{1010}=p$$ So, $$\\lfloor 2021 p \\rfloor=\\left\\lfloor\\frac{2021 \\cdot 337}{1010}\\right\\rfloor=\\left\\lfloor 337 \\cdot 2+337 \\cdot \\frac{1}{1010}\\right\\rfloor=337 \\cdot 2=674$$", "answer": "674", "source": "HMMT_2"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Circles", "Mathematics -> Algebra -> Algebra -> Equations and Inequalities"], "difficulty": 5.0, "problem": "For each positive integer $n$, there is a circle around the origin with radius $n$. Rainbow Dash starts off somewhere on the plane, but not on a circle. She takes off in some direction in a straight path. She moves \\frac{\\sqrt{5}}{5}$ units before crossing a circle, then \\sqrt{5}$ units, then \\frac{3 \\sqrt{5}}{5}$ units. What distance will she travel before she crosses another circle?", "solution": "Note that the distance from Rainbow Dash's starting point to the first place in which she hits a circle is irrelevant, except in checking that this distance is small enough that she does not hit another circle beforehand. It will be clear at the end that our configuration does not allow this (by the Triangle Inequality). Let $O$ be the origin, and let Rainbow Dash's first three meeting points be $A, B, C$ so that $A B=\\sqrt{5}$ and $B C=\\frac{3 \\sqrt{5}}{5}$. Consider the lengths of $O A, O B, O C$. First, note that if $O A=O C=n$ (i.e. $A$ and $C$ lie on the same circle), then we need $O B=n-1$, but since she only crosses the circle containing $B$ once, it follows that the circle passing through $B$ is tangent to $A C$, which is impossible since $A B \\neq A C$. If $O A=O B=n$, note that $O C=n+1$. Dropping a perpendicular from $O$ to $A B$, we see that by the Pythagorean Theorem, $$ n^{2}-\\frac{5}{4}=(n+1)^{2}-\\frac{121}{20} $$ from which we get that $n$ is not an integer. Similarly, when $O B=O C=n$, we have $O A=n+1$, and $n$ is not an integer. Therefore, either $O A=n+2, O B=n+1, O C=n$ or $O A=n, O B=n+1, O C=n+2$. In the first case, by Stewart's Theorem, $$ \\frac{24 \\sqrt{5}}{5}+(n+1)^{2} \\cdot \\frac{8 \\sqrt{5}}{5}=n^{2} \\cdot \\sqrt{5}+(n+2)^{2} \\cdot \\frac{3 \\sqrt{5}}{5} $$ This gives a negative value of $n$, so the configuration is impossible. In the final case, we have, again by Stewart's Theorem, $$ \\frac{24 \\sqrt{5}}{5}+(n+1)^{2} \\cdot \\frac{8 \\sqrt{5}}{5}=(n+2)^{2} \\cdot \\sqrt{5}+n^{2} \\cdot \\frac{3 \\sqrt{5}}{5} $$ Solving gives $n=3$, so $O A=3, O B=4, O C=5$. Next, we compute, by the Law of Cosines, \\cos \\angle O A B=-\\frac{1}{3 \\sqrt{5}}$, so that \\sin \\angle O A B=\\frac{2 \\sqrt{11}}{3 \\sqrt{5}}$. Let the projection from $O$ to line $A C$ be $P$; we get that $O P=\\frac{2 \\sqrt{11}}{\\sqrt{5}}$. Rainbow Dash will next hit the circle of radius 6 at $D$. Our answer is now $C D=P D-P C=\\frac{2 \\sqrt{170}}{5}-\\frac{9 \\sqrt{5}}{5}$ by the Pythagorean Theorem.", "answer": "\\frac{2 \\sqrt{170}-9 \\sqrt{5}}{5}", "source": "HMMT_2"}, {"domain": ["Mathematics -> Number Theory -> Factorization", "Mathematics -> Number Theory -> Prime Numbers"], "difficulty": 5.0, "problem": "If $n>4$ is a composite number, then $2n$ divides $(n-1)!$ .", "solution": "We shall prove a more stronger result that $4n$ divides $(n-1)!$ for any composite number $n>4$ which will cover the case of problem statement.\nLet $n = p.q$ where $q \\ge p \\ge 2$ .\nLet us define set $S = \\{1, 2, 3 ... n-1\\}$ \n  $Case 1: q > p$ \nFirst let's note that $p, q \\in S$ \nNow, all multiples of $p$ from $p.1$ to $p.(q-1) \\in S$ \nSince $q > p => q > 2 => q-1 \\ge 2$ we have that $p.2 \\in S$ Also, since $p \\ge 2$ we have that $2 \\in S$ \nSo, we have that $2, p.2, q \\in S$ , \nin other words, $4.p.q$ divides $(n-1)!$ \n  $Case 2: q = p$ \nNow, all multiples of $p$ from $p.1$ to $p.(p-1) \\in S$ \nSince $p > 2 => p-1 \\ge 2$ we have that $p.2 \\in S$ \nAlso, since $n = p^2 > 4 => p > 2$ so we have that $2 \\in S$ \nSo, we have that $2, p.1, p.2 \\in S$ , \nin other words, $4.p^2$ divides $(n-1)!$ \n Thus $4n$ divides $(n-1)!$ .\n  $Kris17$ \nSolution 2", "answer": "\\[ 4n \\text{ divides } (n-1)! \\]", "source": "jbmo"}, {"domain": ["Mathematics -> Algebra -> Algebra -> Equations and Inequalities", "Mathematics -> Discrete Mathematics -> Algorithms"], "difficulty": 5.0, "problem": "Let $N$ be the number of sequences of positive integers $\\left(a_{1}, a_{2}, a_{3}, \\ldots, a_{15}\\right)$ for which the polynomials $$x^{2}-a_{i} x+a_{i+1}$$ each have an integer root for every $1 \\leq i \\leq 15$, setting $a_{16}=a_{1}$. Estimate $N$. An estimate of $E$ will earn $\\left\\lfloor 20 \\min \\left(\\frac{N}{E}, \\frac{E}{N}\\right)^{2}\\right\\rfloor$ points.", "solution": "We note that $a_{i+1}=x\\left(a_{i}-x\\right)$ for some positive integer $x$, so $a_{i+1} \\geq a_{i}-1$. So, the only way $a_{i}$ can decrease is decreasing by 1. As it cannot decrease that quickly, we will make the assumption that if $a_{i} \\geq 10, a_{i+1}=a_{i}-1$, as otherwise it will increase at least above 16 at which point it will take many moves to go back down below 10. Write that $a \\rightarrow b$ if $b$ is a possible value of $a_{i+1}$ given $a=a_{i}$. We have $$5 \\rightarrow 6,6 \\rightarrow 5,8,9,7 \\rightarrow 6,8 \\rightarrow 7,9 \\rightarrow 8$$ and in addition by going to 10 and above, 7 can go to 9 in 2 or 4 steps, 8 can in $4,7,8$ steps, and 9 can in $6,10,12$ steps. We see from this that the vast majority of sequences should pass through 8. By looking at cycles from 8, we can determine exactly when a sequence can start at 8 and return to 8 (there is one way in 3 steps, two in 4 steps, etc.), and from there we can generate a list of types of sequences by when 8 s occur. By dividing by the number of 8 s and multiplying by 15, we can get the number of sequences that include 8, which gives us an estimate of 1235, giving us 15 points. As we note that this is a lower estimate, we may round up slightly to get better results. To find the exact answer, we will first show that no element larger than 32 can occur in the sequence. Reorder the sequence to make $a_{1}$ maximal; we have $$a_{i+1} \\geq a_{i}-1 \\Longrightarrow a_{15} \\geq a_{1}-14$$ Also, since $a_{1}>a_{15}, a_{1} \\geq 2 a_{15}-4$, giving $$a_{1}-14 \\leq \\frac{a_{1}+4}{2} \\Longrightarrow a_{1} \\leq 32$$ We then construct the following Python code: This gives the exact answer of 1409.", "answer": "1409", "source": "HMMT_11"}, {"domain": ["Mathematics -> Discrete Mathematics -> Combinatorics", "Mathematics -> Algebra -> Prealgebra -> Simple Equations"], "difficulty": 5.0, "problem": "In how many ways can one fill a \\(4 \\times 4\\) grid with a 0 or 1 in each square such that the sum of the entries in each row, column, and long diagonal is even?", "solution": "First we name the elements of the square as follows: \\(a_{11}, a_{12}, a_{13}, a_{14}, a_{21}, a_{22}, a_{23}, a_{24}, a_{31}, a_{32}, a_{33}, a_{34}, a_{41}, a_{42}, a_{43}, a_{44}\\). We claim that for any given values of \\(a_{11}, a_{12}, a_{13}, a_{21}, a_{22}, a_{23}, a_{32}\\), and \\(a_{33}\\) (the + signs in the diagram below), there is a unique way to assign values to the rest of the entries such that all necessary sums are even. Taking additions mod 2, we have \\(a_{14}=a_{11}+a_{12}+a_{13}\\), \\(a_{24}=a_{21}+a_{22}+a_{23}\\), \\(a_{44}=a_{11}+a_{22}+a_{33}\\), \\(a_{42}=a_{12}+a_{22}+a_{32}\\), \\(a_{43}=a_{13}+a_{23}+a_{33}\\). Since the 4th column, the 4th row, and the 1st column must have entries that sum to 0, we have \\(a_{34}=a_{14}+a_{24}+a_{44}=a_{12}+a_{13}+a_{21}+a_{23}+a_{33}\\), \\(a_{41}=a_{42}+a_{43}+a_{44}=a_{11}+a_{12}+a_{13}+a_{23}+a_{32}\\), \\(a_{31}=a_{11}+a_{21}+a_{41}=a_{12}+a_{13}+a_{21}+a_{23}+a_{32}\\). It is easy to check that the sum of entries in every row, column, and the main diagonal is even. Since there are \\(2^{8}=256\\) ways to assign the values to the initial 8 entries, there are exactly 256 ways to fill the board.", "answer": "256", "source": "HMMT_2"}, {"domain": ["Mathematics -> Geometry -> Solid Geometry -> 3D Shapes"], "difficulty": 5.25, "problem": "Tetrahedron $A B C D$ with volume 1 is inscribed in circumsphere $\\omega$ such that $A B=A C=A D=2$ and $B C \\cdot C D \\cdot D B=16$. Find the radius of $\\omega$.", "solution": "Let $X$ be the foot of the perpendicular from $A$ to $\\triangle B C D$. Since $A B=A C=A D$, it follows that $X$ is the circumcenter of $\\triangle B C D$. Denote $X B=X C=X D=r$. By the Pythagorean Theorem on $\\triangle A B X$, we have $A X=\\sqrt{4-r^{2}}$. Now, from the extended law of sines on $\\triangle B C D$, we have the well-known identity $$\\frac{B C \\cdot C D \\cdot D B}{4 r}=[B C D]$$ where $[B C D]$ denotes the area of $\\triangle B C D$. However, we have $$V=\\frac{1}{3} A X \\cdot[B C D]$$ where $V$ is the volume of $A B C D$, which yields the expression $$[B C D]=\\frac{3}{\\sqrt{4-r^{2}}}$$ Now, given that $B C \\cdot C D \\cdot D B=16$, we have $$\\frac{4}{r}=\\frac{3}{\\sqrt{4-r^{2}}}$$ Solving, we get $r=\\frac{8}{5}$. Now, let $O$ be the center of $\\omega$. Since $O B=O C=O D$, it follows that the foot of the perpendicular from $O$ to $\\triangle B C D$ must also be the circumcenter of $\\triangle B C D$, which is $X$. Thus, $A, X, O$ are collinear. Let $R$ be the radius of $\\omega$. Then we have $$\\begin{aligned} R & =O A \\\\ & =O X+X A \\\\ & =\\sqrt{R^{2}-r^{2}}+\\sqrt{4-r^{2}} \\\\ & =\\sqrt{R^{2}-\\frac{64}{25}}+\\frac{6}{5} \\end{aligned}$$ Solving, we get $R=\\frac{5}{3}$. (Note: solving for $R$ from $O A=O X-X A$ gives a negative value for $R$.)", "answer": "\\frac{5}{3}", "source": "HMMT_11"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Polygons", "Mathematics -> Discrete Mathematics -> Combinatorics"], "difficulty": 5.25, "problem": "Let $D$ be a regular ten-sided polygon with edges of length 1. A triangle $T$ is defined by choosing three vertices of $D$ and connecting them with edges. How many different (non-congruent) triangles $T$ can be formed?", "solution": "The problem is equivalent to finding the number of ways to partition 10 into a sum of three (unordered) positive integers. These can be computed by hand to be $(1,1,8),(1,2,7),(1,3,6),(1,4,5),(2,2,6),(2,3,5),(2,4,4),(3,3,4)$", "answer": "8", "source": "HMMT_2"}, {"domain": ["Mathematics -> Algebra -> Algebra -> Equations and Inequalities", "Mathematics -> Number Theory -> Congruences"], "difficulty": 5.0, "problem": "Integers $0 \\leq a, b, c, d \\leq 9$ satisfy $$\\begin{gathered} 6 a+9 b+3 c+d=88 \\\\ a-b+c-d=-6 \\\\ a-9 b+3 c-d=-46 \\end{gathered}$$ Find $1000 a+100 b+10 c+d$", "solution": "Let $N=\\overline{a b c d}$ be an at most-four digit number. Note that the first equation gives us $N \\equiv 4(\\bmod 7)$. The second equation gives us $N \\equiv 6(\\bmod 11)$. The third equation gives us $N \\equiv 7$ $(\\bmod 13)$. Using CRT, we get $N \\equiv \\frac{1}{2} \\equiv 501(\\bmod 1001)$. Thus, we have $N=501+1001 k$ for some integer $0 \\leq k \\leq 9$. The only value of $k$ that satisfies the first equation is $k=6$, which yields $N=6507$.", "answer": "6507", "source": "HMMT_11"}, {"domain": ["Mathematics -> Number Theory -> Congruences", "Mathematics -> Algebra -> Prealgebra -> Integers"], "difficulty": 5.0, "problem": "For a positive integer $n$, let $\\theta(n)$ denote the number of integers $0 \\leq x<2010$ such that $x^{2}-n$ is divisible by 2010. Determine the remainder when $\\sum_{n=0}^{2009} n \\cdot \\theta(n)$ is divided by 2010.", "solution": "Let us consider the $\\operatorname{sum} \\sum_{n=0}^{2009} n \\cdot \\theta(n)(\\bmod 2010)$ in a another way. Consider the sum $0^{2}+1^{2}+2^{2}+\\cdots+2007^{2}(\\bmod 2010)$. For each $0 \\leq n<2010$, in the latter sum, the term $n$ appears $\\theta(n)$ times, so the sum is congruent to $\\sum_{n=0}^{2009} n \\cdot \\theta(n)$. In other words, $$\\sum_{n=0}^{2009} n \\cdot \\theta(n)=\\sum_{n=0}^{2009} n^{2}=\\frac{(2009)(2009+1)(2 \\cdot 2009+1)}{6} \\equiv(-1) \\cdot \\frac{2010}{6} \\cdot(-1)=335 \\quad(\\bmod 2010)$$", "answer": "335", "source": "HMMT_2"}, {"domain": ["Mathematics -> Discrete Mathematics -> Combinatorics", "Mathematics -> Precalculus -> Functions"], "difficulty": 5.0, "problem": "How many functions $f:\\{1,2,3,4,5\\} \\rightarrow\\{1,2,3,4,5\\}$ satisfy $f(f(x))=f(x)$ for all $x \\in\\{1,2,3,4,5\\}$?", "solution": "A fixed point of a function $f$ is an element $a$ such that $f(a)=a$. The condition is equivalent to the property that $f$ maps every number to a fixed point. Counting by the number of fixed points of $f$, the total number of such functions is $$\\begin{aligned} \\sum_{k=1}^{5}\\binom{5}{k} k^{5-k} & =1 \\cdot\\left(5^{0}\\right)+5 \\cdot\\left(1^{4}+4^{1}\\right)+10 \\cdot\\left(2^{3}+3^{2}\\right) \\\\ & =1+25+10 \\cdot 17 \\\\ & =196 \\end{aligned}$$", "answer": "196", "source": "HMMT_2"}, {"domain": ["Mathematics -> Number Theory -> Factorization", "Mathematics -> Discrete Mathematics -> Graph Theory"], "difficulty": 6.5, "problem": "( Zuming Feng ) Determine all composite positive integers $n$ for which it is possible to arrange all divisors of $n$ that are greater than 1 in a circle so that no two adjacent divisors are relatively prime.", "solution": " Solution 1 (official solution)\nNo such circular arrangement exists for $n=pq$ , where $p$ and $q$ are distinct primes. In that case, the numbers to be arranged are $p$ ; $q$ and $pq$ , and in any circular arrangement, $p$ and $q$ will be adjacent. We claim that the desired circular arrangement exists in all other cases. If $n=p^e$ where $e\\ge2$ , an arbitrary circular arrangement works. Henceforth we assume that $n$ has prime factorization $p^{e_1}_{1}p^{e_2}_{2}\\cdots p^{e_k}_k$ , where $p_1<p_2<\\cdots<p_k$ and either $k>2$ or else $\\max(e1,e2)>1$ . To construct the desired circular arrangement of $D_n:=\\lbrace d:d|n\\ \\text{and}\\ d>1\\rbrace$ , start with the circular arrangement of $n,p_{1}p_{2},p_{2}p_{3}\\ldots,p_{k-1}p_{k}$ as shown.\n \nThen between $n$ and $p_{1}p_{2}$ , place (in arbitrary order) all other members of $D_n$ that have $p_1$ as their smallest prime factor. Between $p_{1}p_{2}$ and $p_{2}p_{3}$ , place all members of $D_n$ other than $p_{2}p_{3}$ that have $p_2$ as their smallest prime factor. Continue in this way, ending by placing $p_k,p^{2}_{k},\\ldots,p^{e_k}_{k}$ between $p_{k-1}p_k$ and $n$ . It is easy to see that each element of $D_n$ is placed exactly one time, and any two adjacent elements have a common prime factor. Hence this arrangement has the desired property.\nNote. In graph theory terms, this construction yields a Hamiltonian cycle in the graph with vertex set $D_n$ in which two vertices form an edge if the two corresponding numbers have a common prime factor. The graphs below illustrate the construction for the special cases $n=p^{2}q$ and $n=pqr$ .\n \nSolution 2\nThe proof that no arrangement exists for $n=pq$ , where $p,q$ are distinct primes follows from above. Apply induction to prove all other cases are possible\nBase case:\n, where is a prime and is a positive integer. Any arrangement suffices  , where are distinct primes. The following configuration works\n\\[p,pq,pr,r,qr,q,pqr\\] Inductive step: Suppose the desired arrangement exists for a composite $n$ , show the arrangement exists for $np^r$ , where $p$ is a prime relatively prime to $n$ and $r$ is a positive integer\nLet $a_1,a_2,\\cdots,a_m$ be the arrangement of divisors of $n$ , then $(a_i,a_{i+1})>1$ for $i=1,2,\\cdots,m$ , where $a_{m+1}=a_1$ . The divisors of $np^r$ greater than 1 are of the form \\[a_ip^j,p^j\\qquad 1\\leq i\\leq m,1\\leq j\\leq r\\] The following sequence works \\[a_1,\\cdots,a_{m-1}, a_{m-1}p,\\text{other divisors in arbitrary order},a_mp,a_m\\] since all other divisors are divisible by $p$ .\nAlternate solutions are always welcome. If you have a different, elegant solution to this problem, please add it to this page. ", "answer": "The composite positive integers \\( n \\) for which it is possible to arrange all divisors of \\( n \\) that are greater than 1 in a circle so that no two adjacent divisors are relatively prime are those \\( n \\) that are not of the form \\( pq \\) where \\( p \\) and \\( q \\) are distinct primes.", "source": "usamo"}, {"domain": ["Mathematics -> Algebra -> Algebra -> Equations and Inequalities", "Mathematics -> Applied Mathematics -> Math Word Problems"], "difficulty": 5.0, "problem": "An HMMT party has $m$ MIT students and $h$ Harvard students for some positive integers $m$ and $h$, For every pair of people at the party, they are either friends or enemies. If every MIT student has 16 MIT friends and 8 Harvard friends, and every Harvard student has 7 MIT enemies and 10 Harvard enemies, compute how many pairs of friends there are at the party.", "solution": "We count the number of MIT-Harvard friendships. Each of the $m$ MIT students has 8 Harvard friends, for a total of $8 m$ friendships. Each of the $h$ Harvard students has $m-7$ MIT friends, for a total of $h(m-7)$ friendships. So, $8 m=h(m-7) \\Longrightarrow m h-8 m-7 h=0 \\Longrightarrow(m-7)(h-8)=56$. Each MIT student has 16 MIT friends, so $m \\geq 17$. Each Harvard student has 10 Harvard enemies, so $h \\geq 11$. This means $m-7 \\geq 10$ and $h-8 \\geq 3$. The only such pair $(m-7, h-8)$ that multiplies to 56 is $(14,4)$, so there are 21 MIT students and 12 Harvard students. We can calculate the number of friendships as $\\frac{16 m}{2}+8 m+\\frac{(h-1-10) h}{2}=168+168+6=342$.", "answer": "342", "source": "HMMT_11"}, {"domain": ["Mathematics -> Applied Mathematics -> Statistics -> Probability -> Counting Methods -> Combinations", "Mathematics -> Algebra -> Abstract Algebra -> Field Theory"], "difficulty": 5.25, "problem": "Michael picks a random subset of the complex numbers \\(\\left\\{1, \\omega, \\omega^{2}, \\ldots, \\omega^{2017}\\right\\}\\) where \\(\\omega\\) is a primitive \\(2018^{\\text {th }}\\) root of unity and all subsets are equally likely to be chosen. If the sum of the elements in his subset is \\(S\\), what is the expected value of \\(|S|^{2}\\)? (The sum of the elements of the empty set is 0.)", "solution": "Consider \\(a\\) and \\(-a\\) of the set of complex numbers. If \\(x\\) is the sum of some subset of the other complex numbers, then expected magnitude squared of the sum including \\(a\\) and \\(-a\\) is \\(\\frac{(x+a)(\\overline{x+a})+x \\bar{x}+x \\bar{x}+(x-a)(\\overline{x-a})}{4} = x \\bar{x}+\\frac{a \\bar{a}}{2} = x \\bar{x}+\\frac{1}{2}\\). By repeating this process on the remaining 2016 elements of the set, we can obtain a factor of \\(\\frac{1}{2}\\) every time. In total, the answer is \\(\\frac{1009}{2}\\).", "answer": "\\frac{1009}{2}", "source": "HMMT_2"}, {"domain": ["Mathematics -> Algebra -> Intermediate Algebra -> Exponential Functions", "Mathematics -> Number Theory -> Congruences"], "difficulty": 5.0, "problem": "For each positive integer $n$ and non-negative integer $k$, define $W(n, k)$ recursively by $$ W(n, k)= \\begin{cases}n^{n} & k=0 \\\\ W(W(n, k-1), k-1) & k>0\\end{cases} $$ Find the last three digits in the decimal representation of $W(555,2)$.", "solution": "For any $n$, we have $$ W(n, 1)=W(W(n, 0), 0)=\\left(n^{n}\\right)^{n^{n}}=n^{n^{n+1}} $$ Thus, $$ W(555,1)=555^{555^{556}} $$ Let $N=W(555,1)$ for brevity, and note that $N \\equiv 0(\\bmod 125)$, and $N \\equiv 3(\\bmod 8)$. Then, $$ W(555,2)=W(N, 1)=N^{N^{N+1}} $$ is $0(\\bmod 125)$ and $3(\\bmod 8)$. From this we can conclude (by the Chinese Remainder Theorem) that the answer is 875.", "answer": "875", "source": "HMMT_2"}, {"domain": ["Mathematics -> Applied Mathematics -> Statistics -> Probability -> Other"], "difficulty": 5.25, "problem": "At lunch, Abby, Bart, Carl, Dana, and Evan share a pizza divided radially into 16 slices. Each one takes takes one slice of pizza uniformly at random, leaving 11 slices. The remaining slices of pizza form \"sectors\" broken up by the taken slices, e.g. if they take five consecutive slices then there is one sector, but if none of them take adjacent slices then there will be five sectors. What is the expected number of sectors formed?", "solution": "Consider the more general case where there are $N$ slices and $M>0$ slices are taken. Let $S$ denote the number of adjacent pairs of slices of pizza which still remain. There are $N-M$ slices and a sector of $k$ slices contributes $k-1$ pairs to $S$. Hence the number of sectors is $N-M-S$. We compute the expected value of $S$ by looking at each adjacent pair in the original pizza: $$\\mathbb{E}(S)=N \\frac{\\binom{N-2}{M}}{\\binom{N}{M}}=N \\frac{(N-M)(N-M-1)}{N(N-1)}=\\frac{(N-M)(N-M-1)}{N-1}$$ The expected number of sectors is then $$N-M-\\frac{(N-M)(N-M-1)}{N-1}=\\frac{(N-M) M}{N-1}$$ For $N=16, M=5$ this yields \\frac{11}{3}$.", "answer": "\\frac{11}{3}", "source": "HMMT_11"}, {"domain": ["Mathematics -> Discrete Mathematics -> Combinatorics"], "difficulty": 5.0, "problem": "Call a string of letters $S$ an almost palindrome if $S$ and the reverse of $S$ differ in exactly two places. Find the number of ways to order the letters in $H M M T T H E M E T E A M$ to get an almost palindrome.", "solution": "Note that $T, E, A$ are used an odd number of times. Therefore, one must go in the middle spot and the other pair must match up. There are are $3 \\cdot 2\\left(\\frac{6!}{2!}\\right)=2160$ ways to fill in the first six spots with the letters $T, H, E, M, M$ and a pair of different letters. The factor of 3 accounts for which letter goes in the middle.", "answer": "2160", "source": "HMMT_11"}, {"domain": ["Mathematics -> Applied Mathematics -> Statistics -> Probability -> Counting Methods -> Combinations"], "difficulty": 5.0, "problem": "In a single-elimination tournament consisting of $2^{9}=512$ teams, there is a strict ordering on the skill levels of the teams, but Joy does not know that ordering. The teams are randomly put into a bracket and they play out the tournament, with the better team always beating the worse team. Joy is then given the results of all 511 matches and must create a list of teams such that she can guarantee that the third-best team is on the list. What is the minimum possible length of Joy's list?", "solution": "The best team must win the tournament. The second-best team has to be one of the 9 teams that the first best team beat; call these teams marginal. The third best team must have lost to either the best or the second-best team, so it must either be marginal or have lost to a marginal team. Since there is exactly one marginal team that won $k$ games for each integer $0 \\leq k \\leq 8$, we can then conclude that there are $1+2+\\cdots+9=45$ teams that are either marginal or lost to a marginal team. Moreover, it is not hard to construct a scenario in which the third-best team is any of these 45 teams, so we cannot do better.", "answer": "45", "source": "HMMT_11"}, {"domain": ["Mathematics -> Algebra -> Algebra -> Equations and Inequalities", "Mathematics -> Number Theory -> Prime Numbers"], "difficulty": 5.0, "problem": "Find the number of ordered triples of nonnegative integers $(a, b, c)$ that satisfy $(ab+1)(bc+1)(ca+1)=84$.", "solution": "The solutions are $(0,1,83)$ and $(1,2,3)$ up to permutation. First, we do the case where at least one of $a, b, c$ is 0. WLOG, say $a=0$. Then we have $1+bc=84 \\Longrightarrow bc=83$. As 83 is prime, the only solution is $(0,1,83)$ up to permutation. Otherwise, we claim that at least one of $a, b, c$ is equal to 1. Otherwise, all are at least 2, so $(1+ab)(1+bc)(1+ac) \\geq 5^{3}>84$. So WLOG, set $a=1$. We now need $(b+1)(c+1)(bc+1)=84$. Now, WLOG, say $b \\leq c$. If $b=1$, then $(c+1)^{2}=42$, which has no solution. If $b \\geq 3$, then $(b+1)(c+1)(bc+1) \\geq 4^{2} \\cdot 10=160>84$. So we need $b=2$. Then we need $(c+1)(2c+1)=21$. Solving this gives $c=3$, for the solution $(1,2,3)$. Therefore, the answer is $6+6=12$.", "answer": "12", "source": "HMMT_2"}, {"domain": ["Mathematics -> Number Theory -> Prime Numbers"], "difficulty": 5.0, "problem": "Compute the prime factorization of 1007021035035021007001.", "solution": "The number in question is $$\\sum_{i=0}^{7}\\binom{7}{i} 1000^{i}=(1000+1)^{7}=1001^{7}=7^{7} \\cdot 11^{7} \\cdot 13^{7}$$", "answer": "7^{7} \\cdot 11^{7} \\cdot 13^{7}", "source": "HMMT_2"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Polygons", "Mathematics -> Geometry -> Plane Geometry -> Angles"], "difficulty": 5.0, "problem": "Points $E, F, G, H$ are chosen on segments $A B, B C, C D, D A$, respectively, of square $A B C D$. Given that segment $E G$ has length 7 , segment $F H$ has length 8 , and that $E G$ and $F H$ intersect inside $A B C D$ at an acute angle of $30^{\\circ}$, then compute the area of square $A B C D$.", "solution": "Rotate $E G$ by $90^{\\circ}$ about the center of the square to $E^{\\prime} G^{\\prime}$ with $E^{\\prime} \\in A D$ and $G^{\\prime} \\in B C$. Now $E^{\\prime} G^{\\prime}$ and $F H$ intersect at an angle of $60^{\\circ}$. Then consider the translation which takes $E^{\\prime}$ to $H$ and $G^{\\prime}$ to $I$. Triangle $F H I$ has $F H=8, H I=7$ and $\\angle F H I=60^{\\circ}$. Furthermore, the height of this triangle is the side length of the square. Using the Law of Cosines, $$F I=\\sqrt{7^{2}-7 \\cdot 8+8^{2}}=\\sqrt{57}$$ By computing the area of $F H I$ in two ways, if $h$ is the height then $$\\frac{1}{2} \\times \\sqrt{57} \\times h=\\frac{1}{2} \\times \\frac{\\sqrt{3}}{2} \\times 7 \\times 8$$ Then $h=\\frac{28}{\\sqrt{19}}$ and the area of the square is $h^{2}=\\frac{784}{19}$.", "answer": "\\frac{784}{19}", "source": "HMMT_11"}, {"domain": ["Mathematics -> Algebra -> Algebra -> Polynomial Operations", "Mathematics -> Discrete Mathematics -> Combinatorics"], "difficulty": 5.0, "problem": "For an integer $n$, let $f_{9}(n)$ denote the number of positive integers $d \\leq 9$ dividing $n$. Suppose that $m$ is a positive integer and $b_{1}, b_{2}, \\ldots, b_{m}$ are real numbers such that $f_{9}(n)=\\sum_{j=1}^{m} b_{j} f_{9}(n-j)$ for all $n>m$. Find the smallest possible value of $m$.", "solution": "Let $M=9$. Consider the generating function $$F(x)=\\sum_{n \\geq 1} f_{M}(n) x^{n}=\\sum_{d=1}^{M} \\sum_{k \\geq 1} x^{d k}=\\sum_{d=1}^{M} \\frac{x^{d}}{1-x^{d}}$$ Observe that $f_{M}(n)=f_{M}\\left(n+M\\right.$ !) for all $n \\geq 1$ (in fact, all $n \\leq 0$ as well). Thus $f_{M}(n)$ satisfies a degree $m$ linear recurrence if and only if it eventually satisfies a degree $m$ linear recurrence. But the latter occurs if and only if $P(x) F(x)$ is a polynomial for some degree $m$ polynomial $P(x)$. Suppose $P(x) F(x)=Q(x)$ is a polynomial for some polynomial $P$ of degree $m$. We show that $x^{s}-1 \\mid$ $P(x)$ for $s=1,2, \\ldots, M$, or equivalently that $P(\\omega)=0$ for all primitive $s$ th roots of unity $1 \\leq s \\leq M)$. Fix a primitive $s$ th root of unity $\\omega$, and define a function $$F_{\\omega}(z)=\\left(1-\\omega^{-1} z\\right) \\sum_{s \\nmid d \\leq M} \\frac{z^{d}}{1-z^{d}}+\\sum_{s \\mid d \\leq M} \\frac{z^{d}}{1+\\left(\\omega^{-1} z\\right)+\\cdots+\\left(\\omega^{-1} z\\right)^{d-1}}$$ for all $z$ where all denominators are nonzero (in particular, this includes $z=\\omega$ ). Yet $F_{\\omega}(z)-F(z)\\left(1-\\omega^{-1} z\\right)=0$ for all complex $z$ such that $z^{1}, z^{2}, \\ldots, z^{M} \\neq 1$, so $P(z) F_{\\omega}(z)-Q(z)(1-$ $\\left.\\omega^{-1} z\\right)=0$ holds for all such $z$ as well. In particular, the rational function $P(x) F_{\\omega}(x)-Q(x)\\left(1-\\omega^{-1} x\\right)$ has infinitely many roots, so must be identically zero once we clear denominators. But no denominator vanishes at $x=\\omega$, so we may plug in $x=\\omega$ to the polynomial identity and then divide out by the original (nonzero) denominators to get $0=P(\\omega) F_{\\omega}(\\omega)-Q(\\omega)\\left(1-\\omega^{-1} \\omega\\right)=P(\\omega) F_{\\omega}(\\omega)$. However, $$F_{\\omega}(\\omega)=\\sum_{s \\mid d \\leq M} \\frac{\\omega^{d}}{1+\\left(\\omega^{-1} \\omega\\right)+\\cdots+\\left(\\omega^{-1} \\omega\\right)^{d-1}}=\\sum_{s \\mid d \\leq M} \\frac{1}{d}$$ is a positive integer multiple of $1 / d$, and therefore nonzero. Thus $P(\\omega)=0$, as desired. Conversely, if $x^{s}-1 \\mid P(x)$ for $s=1,2, \\ldots, M$, then $P(x)$ will clearly suffice. So we just want the degree of the least common multiple of the $x^{s}-1$ for $s=1,2, \\ldots, M$, or just the number of roots of unity of order at most $M$, which is $\\sum_{s=1}^{M} \\phi(s)=1+1+2+2+4+2+6+4+6=28$.", "answer": "28", "source": "HMMT_2"}, {"domain": ["Mathematics -> Discrete Mathematics -> Combinatorics"], "difficulty": 5.0, "problem": "Consider sequences \\(a\\) of the form \\(a=\\left(a_{1}, a_{2}, \\ldots, a_{20}\\right)\\) such that each term \\(a_{i}\\) is either 0 or 1. For each such sequence \\(a\\), we can produce a sequence \\(b=\\left(b_{1}, b_{2}, \\ldots, b_{20}\\right)\\), where \\(b_{i}= \\begin{cases}a_{i}+a_{i+1} & i=1 \\\\ a_{i-1}+a_{i}+a_{i+1} & 1<i<20 \\\\ a_{i-1}+a_{i} & i=20\\end{cases}\\). How many sequences \\(b\\) are there that can be produced by more than one distinct sequence \\(a\\)?", "solution": "Let the two sequences be \\(b\\) and \\(\\hat{b}\\). Then, observe that given \\(a\\), if \\(b_{1}=\\hat{b}_{1}\\) and \\(b_{2}=\\hat{b}_{2}\\), then \\(b=\\hat{b}\\) (since \\(a\\) will uniquely determine the remaining elements in \\(b\\) and \\(\\hat{b}\\)). Thus, \\(b\\) and \\(\\hat{b}\\) must start with \\((1,0, \\ldots)\\) and \\((0,1, \\ldots)\\), respectively (without loss of generality). Note that \\(a_{3}\\) is either 1 (in which case \\(b_{3}=\\hat{b}_{3}=0\\)) or 2 (in which case \\(b_{3}=\\hat{b}_{3}=1\\)). Moreover, \\(b_{4}, b_{5}\\) must be the same as \\(b_{1}, b_{2}\\) (and the same for \\(\\hat{b}\\)) for the sequences to generate the same \\(a_{3}, a_{4}\\). We can then pick \\(a_{6}, a_{9}, \\ldots\\). Observe, that the last elements also have to be \\((\\ldots, 1,0)\\) for \\(b\\) and \\((\\ldots, 0,1)\\) for \\(\\hat{b}\\). Thus, the answer is nonzero only for sequence lengths of \\(2(\\bmod 3)\\), in which case, our answer is \\(2^{k}\\), where the length is \\(3k+2\\) (since we have two choices for every third element). Here, since \\(N=20=3(6)+2\\), the answer is \\(2^{6}=64\\).", "answer": "64", "source": "HMMT_11"}, {"domain": ["Mathematics -> Number Theory -> Congruences"], "difficulty": 6.0, "problem": "Find all nonnegative integer solutions $(x,y,z,w)$ of the equation\\[2^x\\cdot3^y-5^z\\cdot7^w=1.\\]", "solution": "\nWe are tasked with finding all nonnegative integer solutions \\((x, y, z, w)\\) to the equation:\n\\[\n2^x \\cdot 3^y - 5^z \\cdot 7^w = 1.\n\\]\n\nFirst, we note that \\(x \\geq 1\\) because if \\(x = 0\\), the left-hand side would be a fraction, which cannot equal 1.\n\n### Case 1: \\(w = 0\\)\nThe equation simplifies to:\n\\[\n2^x \\cdot 3^y = 1 + 5^z.\n\\]\n\n- **Subcase 1.1: \\(z = 0\\)**\n  \\[\n  2^x \\cdot 3^y = 1.\n  \\]\n  This implies \\(x = 0\\) and \\(y = 0\\), but \\(x \\geq 1\\), so this is not possible.\n\n- **Subcase 1.2: \\(z = 1\\)**\n  \\[\n  2^x \\cdot 3^y = 6.\n  \\]\n  The possible solutions are \\(x = 1\\) and \\(y = 1\\).\n\n- **Subcase 1.3: \\(z \\geq 2\\)**\n  Taking modulo 4, we get:\n  \\[\n  2^x \\cdot 3^y \\equiv 1 \\pmod{4}.\n  \\]\n  Since \\(2^x \\equiv 0 \\pmod{4}\\) for \\(x \\geq 2\\), this leads to a contradiction.\n\n### Case 2: \\(w = 1\\)\nThe equation simplifies to:\n\\[\n2^x \\cdot 3^y = 1 + 7 \\cdot 5^z.\n\\]\n\n- **Subcase 2.1: \\(z = 0\\)**\n  \\[\n  2^x \\cdot 3^y = 8.\n  \\]\n  The possible solutions are \\(x = 3\\) and \\(y = 0\\).\n\n- **Subcase 2.2: \\(z = 1\\)**\n  \\[\n  2^x \\cdot 3^y = 36.\n  \\]\n  The possible solutions are \\(x = 2\\) and \\(y = 2\\).\n\n- **Subcase 2.3: \\(z \\geq 2\\)**\n  Taking modulo 8, we get:\n  \\[\n  2^x \\equiv 1 \\pmod{8}.\n  \\]\n  This implies \\(x = 0\\), which is not possible.\n\n### Case 3: \\(w \\geq 2\\)\nThe equation becomes:\n\\[\n2^x \\cdot 3^y = 1 + 5^z \\cdot 7^w.\n\\]\n\n- **Subcase 3.1: \\(y = 0\\)**\n  \\[\n  2^x = 1 + 5^z \\cdot 7^w.\n  \\]\n  Taking modulo 4, we get a contradiction for \\(x \\geq 2\\).\n\n- **Subcase 3.2: \\(y \\geq 1\\)**\n  Taking modulo 9, we get a contradiction for \\(z \\geq 2\\).\n\nThus, we have exhausted all possible cases and find the solutions to be:\n\\[\n\\boxed{(1, 1, 1, 0), (2, 2, 1, 1), (1, 0, 0, 0), (3, 0, 0, 1)}.\n\\]", "answer": "(1, 1, 1, 0), (2, 2, 1, 1), (1, 0, 0, 0), (3, 0, 0, 1)", "source": "china_national_olympiad"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Distance -> Other"], "difficulty": 5.0, "problem": "$A$ 's position is $\\left(a-V_{a} t, 0\\right)$ and $P$ 's position is $\\left(0, b-V_{b} t\\right)$. So, at time $t$, the distance between them is $\\sqrt{\\left(a-V_{a} t\\right)^{2}+\\left(b-V_{b} t\\right)^{2}}$. Notice that this distance is the same as the distance between the point $(a, b)$ and the line $\\left(V_{a} t, V_{b} t\\right)$, which is the same as the line $V_{b} x-V_{a} y=0$. The distance from a line $A x+B y+C=0$ and $\\left(x_{0}, y_{0}\\right)$ is $\\frac{\\left|A x_{0}+B y_{0}+C\\right|}{\\sqrt{A^{2}+B^{2}}}$, so the answer is $\\frac{\\left|b V_{a}-a V_{b}\\right|}{\\sqrt{V_{a}^{2}+V_{b}^{2}}}$", "solution": "The distance is $\\frac{\\left|b V_{a}-a V_{b}\\right|}{\\sqrt{V_{a}^{2}+V_{b}^{2}}}$.", "answer": "\\frac{\\left|b V_{a}-a V_{b}\\right|}{\\sqrt{V_{a}^{2}+V_{b}^{2}}}", "source": "HMMT_2"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Polygons", "Mathematics -> Geometry -> Plane Geometry -> Circles"], "difficulty": 5.0, "problem": "All subscripts in this problem are to be considered modulo 6 , that means for example that $\\omega_{7}$ is the same as $\\omega_{1}$. Let $\\omega_{1}, \\ldots \\omega_{6}$ be circles of radius $r$, whose centers lie on a regular hexagon of side length 1 . Let $P_{i}$ be the intersection of $\\omega_{i}$ and $\\omega_{i+1}$ that lies further from the center of the hexagon, for $i=1, \\ldots 6$. Let $Q_{i}, i=1 \\ldots 6$, lie on $\\omega_{i}$ such that $Q_{i}, P_{i}, Q_{i+1}$ are colinear. Find the number of possible values of $r$.", "solution": "Consider two consecutive circles $\\omega_{i}$ and $\\omega_{i+1}$. Let $Q_{i}, Q_{i}^{\\prime}$ be two points on $\\omega_{i}$ and $Q_{i+1}, Q_{i+1}^{\\prime}$ on $\\omega_{i+1}$ such that $Q_{i}, P_{i}$ and $Q_{i+1}$ are colinear and also $Q_{i}^{\\prime}, P_{i}$ and $Q_{i+1}^{\\prime}$. Then $Q_{i} Q_{i}^{\\prime}=2 \\angle Q_{i} P_{i} Q_{i}^{\\prime}=2 \\angle Q_{i+1} P_{i} Q_{i+1}^{\\prime}=\\angle Q_{i+1} Q_{i+1}^{\\prime}$. Refer to the center of $\\omega_{i}$ as $O_{i}$. The previous result shows that the lines $O_{i} Q_{i}$ and $O_{i+1} Q_{i+1}$ meet at the same angle as the lines $O_{i} Q_{i}^{\\prime}$ and $O_{i+1} Q_{i+1}^{\\prime}$, call this angle $\\psi_{i} . \\psi_{i}$ is a function solely of the circles $\\omega_{i}$ and $\\omega_{i+1}$ and the distance between them (we have just showed that any two points $Q_{i}$ and $Q_{i}^{\\prime}$ on $\\omega_{i}$ give the same value of $\\psi_{i}$, so $\\psi_{i}$ can't depend on this.) Now, the geometry of $\\omega_{i}$ and $\\omega_{i+1}$ is the same for every $i$, so $\\psi_{i}$ is simply a constant $\\psi$ which depends only on $r$. We know $6 \\psi=0 \\bmod 2 \\pi$ because $Q_{7}=Q_{1}$. We now compute $\\psi$. It suffices to do the computaiton for some specific choice of $Q_{i}$. Take $Q_{i}$ to be the intersection of $O_{i} O_{i+1}$ and $\\omega_{i}$ which is further from $O_{i+1}$. We are to compute the angle between $O_{i} Q_{i}$ and $O_{i+1} Q_{i+1}$ which is the same as $\\angle O_{i} O_{i+1} Q_{i+1}$. Note the triangle $\\triangle O_{i} P_{i} O_{i+1}$ is isosceles, call the base angle $\\xi$. We have $\\angle O_{i} O_{i+1} Q_{i+1}=\\angle O_{i} O_{i+1} P_{i}+$ $\\angle P_{i} O_{i+1} Q_{i+1}=\\xi+\\left(\\pi-2 \\angle O_{i+1} P_{i} Q_{i+1}\\right)=\\xi+\\left(\\pi-2\\left(\\pi-\\angle Q_{i} O_{i+1} P_{i}-\\angle P_{i} Q_{i} O_{i+1}\\right)\\right)=$ $\\xi-\\pi+2\\left(\\xi+(1 / 2) \\angle P_{i} O_{i} O_{i+1}\\right)=\\xi-\\pi+2(\\xi+(1 / 2) \\xi)=4 \\xi-\\pi$. So we get $6(4 \\xi-\\pi)=0 \\bmod 2 \\pi$. Noting that $\\xi$ must be acute, $\\xi=\\pi / 12, \\pi / 6, \\pi / 4, \\pi / 3$ or $5 \\pi / 12$. $r$ is uniquely determined as $(1 / 2) \\sec \\xi$ so there are 5 possible values of $r$.", "answer": "5", "source": "HMMT_2"}, {"domain": ["Mathematics -> Precalculus -> Trigonometric Functions", "Mathematics -> Algebra -> Algebra -> Algebraic Expressions"], "difficulty": 5.0, "problem": "There exists a positive real number $x$ such that $\\cos (\\tan^{-1}(x))=x$. Find the value of $x^{2}$.", "solution": "Draw a right triangle with legs $1, x$; then the angle $\\theta$ opposite $x$ is $\\tan^{-1} x$, and we can compute $\\cos (\\theta)=1 / \\sqrt{x^{2}+1}$. Thus, we only need to solve $x=1 / \\sqrt{x^{2}+1}$. This is equivalent to $x \\sqrt{x^{2}+1}=1$. Square both sides to get $x^{4}+x^{2}=1 \\Rightarrow x^{4}+x^{2}-1=0$. Use the quadratic formula to get the solution $x^{2}=(-1+\\sqrt{5}) / 2$ (unique since $x^{2}$ must be positive).", "answer": "(-1+\\sqrt{5})/2", "source": "HMMT_2"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Triangulations"], "difficulty": 5.0, "problem": "In convex quadrilateral \\(ABCD\\) with \\(AB=11\\) and \\(CD=13\\), there is a point \\(P\\) for which \\(\\triangle ADP\\) and \\(\\triangle BCP\\) are congruent equilateral triangles. Compute the side length of these triangles.", "solution": "Evidently \\(ABCD\\) is an isosceles trapezoid with \\(P\\) as its circumcenter. Now, construct isosceles trapezoid \\(ABB'C\\) (that is, \\(BB'\\) is parallel to \\(AC\\).) Then \\(AB'PD\\) is a rhombus, so \\(\\angle B'CD=\\frac{1}{2} \\angle B'PD=60^{\\circ}\\) by the inscribed angle theorem. Also, \\(B'C=11\\) because the quadrilateral \\(B'APC\\) is a \\(60^{\\circ}\\) rotation of \\(ADPB\\) about \\(P\\). Since \\(CD=13\\), we use the law of cosines to get that \\(B'D=7\\sqrt{3}\\). Hence \\(AP=7\\).", "answer": "7", "source": "HMMT_11"}], "difficulty_7_10": [{"domain": ["Mathematics -> Algebra -> Algebra -> Equations and Inequalities"], "difficulty": 7.0, "problem": "Find all functions $f$ such that $f(x^{3}+y^{3}+x y)=x^{2} f(x)+y^{2} f(y)+f(x y)$ for all real numbers $x$ and $y$.", "solution": "Setting $x=1, y=0$ in the initial equation gives $f(0)=0$. Taking $y=0$ in the equation we obtain $f(x^{3})=x^{2} f(x)$. Substituting $y=-x$ into the equation leads to $f(-x)=-f(x)$. From these, it follows that $f(x^{3}+y^{3}+x y)+f(x^{3}-y^{3}-x y)=2 f(x^{3})$. For any $a, b \\in \\mathbb{R}$, there exist $x, y \\in \\mathbb{R}$ such that $a=x^{3}+y^{3}+x y, b=x^{3}-y^{3}-x y$. Therefore, $f(a)+f(b)=2 f\\left(\\frac{a+b}{2}\\right)$, which implies $f(a+b)=f(a)+f(b)$. Further, changing $x \\rightarrow x+1$ in the equation and denoting $c=f(1)$, from the additivity of $f$, we obtain $f(x)=c x$. It is easy to verify that this function satisfies the given equation for all $c \\in \\mathbb{R}$.", "answer": "f(x)=c x, c \\in \\mathbb{R}", "source": "izho"}, {"domain": ["Mathematics -> Discrete Mathematics -> Combinatorics", "Mathematics -> Algebra -> Other"], "difficulty": 7.5, "problem": "Let $k$ be a positive real. $A$ and $B$ play the following game: at the start, there are $80$ zeroes arrange around a circle. Each turn, $A$ increases some of these $80$ numbers, such that the total sum added is $1$. Next, $B$ selects ten consecutive numbers with the largest sum, and reduces them all to $0$. $A$ then wins the game if he/she can ensure that at least one of the number is $\\geq k$ at some finite point of time. \n\nDetermine all $k$ such that $A$ can always win the game.", "solution": "\nLet \\( k \\) be a positive real number. \\( A \\) and \\( B \\) play the following game: at the start, there are 80 zeroes arranged around a circle. Each turn, \\( A \\) increases some of these 80 numbers such that the total sum added is 1. Next, \\( B \\) selects ten consecutive numbers with the largest sum and reduces them all to 0. \\( A \\) wins the game if he/she can ensure that at least one of the numbers is \\(\\geq k\\) at some finite point in time.\n\nTo determine all \\( k \\) such that \\( A \\) can always win the game, we analyze the strategy and the bounds involved.\n\nFirst, we reduce the problem from \\( F(80, 10) \\) to \\( F(8, 1) \\). This reduction is valid because \\( B \\) can only select 10 consecutive buckets, and we can group these buckets into 8 larger buckets, each containing 10 of the original buckets. Thus, the problem simplifies to a scenario where \\( B \\) can only empty one of these larger buckets at a time.\n\nWe now play the game on \\( F(8, 1) \\). For \\( B \\), the optimal strategy is to empty the largest bucket all the time. Let the buckets be labeled \\( 1 \\) to \\( 8 \\) with amounts of water \\( a_1, a_2, \\ldots, a_8 \\), arranged in decreasing order so that \\( a_1 \\geq a_2 \\geq \\ldots \\geq a_8 \\).\n\nThe key lemma is that after \\( A \\) makes a move, the sum of the largest \\( k \\) buckets is less than \\( k \\cdot \\left(1 + \\sum_{i=k}^{7} \\frac{1}{i} \\right) \\). We prove this by downward induction.\n\nFor \\( k = 8 \\):\n\\[\n\\sum_{i=1}^{8} a_i \\leq 1 + \\sum_{i=2}^{8} a'_i \\leq 1 + \\frac{7}{8} \\sum_{i=1}^{8} a'_i,\n\\]\nwhere \\( a'_i \\) is the amount of water in the buckets in the previous round. Since initially \\( \\sum_{i=1}^{8} a_i = 1 \\), it follows that \\( \\sum_{i=1}^{8} a_i < 8 \\).\n\nAssuming the statement is true for \\( k = m \\), for \\( k = m-1 \\):\n\\[\n\\sum_{i=1}^{m-1} a_i \\leq 1 + \\sum_{i=2}^{m} a'_i \\leq 1 + \\frac{m-1}{m} \\sum_{i=1}^{m} a'_i < 1 + (m-1) \\left(1 + \\sum_{i=m}^{7} \\frac{1}{i} \\right).\n\\]\nThus, the statement holds for \\( k = m-1 \\) as well.\n\nBy induction, the statement is true for \\( k = 1 \\) as well, hence the largest bucket is less than \\( 1 + 1 + \\frac{1}{2} + \\ldots + \\frac{1}{7} \\).\n\nTo show that this is the best attainable bound, \\( A \\)'s strategy is to ensure that \\( a_1 = a_2 = \\ldots = a_8 \\) in each round. The amount of water in each bucket follows the sequence:\n\\[\n\\frac{1}{8}, \\quad \\frac{1}{8} \\left(1 + \\frac{7}{8} \\right), \\quad \\frac{1}{8} \\left(1 + \\frac{7}{8} + \\left(\\frac{7}{8} \\right)^2 \\right), \\ldots\n\\]\nThe limit of this sequence is 1. When the buckets are sufficiently close to 1, \\( A \\) will add \\(\\frac{1}{7}\\) to the 7 largest buckets, \\(\\frac{1}{6}\\) to the 6 largest buckets, and so on, finally adding 1 to the largest bucket left. The total amount of water in that bucket can be arbitrarily close to \\( k = 1 + 1 + \\frac{1}{2} + \\ldots + \\frac{1}{7} \\).\n\nTherefore, \\( A \\) can always win the game if \\( k \\leq 1 + 1 + \\frac{1}{2} + \\ldots + \\frac{1}{7} \\).\n\nThe answer is: \\(\\boxed{1 + 1 + \\frac{1}{2} + \\ldots + \\frac{1}{7}}\\).", "answer": "1 + 1 + \\frac{1}{2} + \\ldots + \\frac{1}{7}", "source": "china_team_selection_test"}, {"domain": ["Mathematics -> Number Theory -> Prime Numbers", "Mathematics -> Number Theory -> Congruences"], "difficulty": 7.0, "problem": "Let $ a > b > 1, b$ is an odd number, let $ n$ be a positive integer. If $ b^n|a^n\\minus{}1,$ then $ a^b > \\frac {3^n}{n}.$", "solution": "\nLet \\( a > b > 1 \\) where \\( b \\) is an odd number, and let \\( n \\) be a positive integer. We are given that \\( b^n \\mid a^n - 1 \\). We aim to prove that \\( a^b > \\frac{3^n}{n} \\).\n\nAssume without loss of generality that \\( b \\) is a prime. By the properties of prime numbers and the given divisibility condition, we have \\( v_b(a^n - 1) \\ge n \\), where \\( v_b \\) denotes the \\( b \\)-adic valuation. Let \\( d \\) be the order of \\( a \\) modulo \\( b \\). Using the Lifting The Exponent (LTE) lemma, we get:\n\\[\nv_b(a^n - 1) = v_b(a^d - 1) + v_b\\left(\\frac{n}{d}\\right).\n\\]\n\nSince \\( d \\mid b - 1 \\), it follows that:\n\\[\nn \\leq v_b(a^n - 1) = v_b(a^d - 1) + v_b(n).\n\\]\n\nThis implies:\n\\[\nb^{n - v_b(n)} \\leq a^d - 1 < a^b.\n\\]\n\nThus, we have:\n\\[\na^b > \\frac{b^n}{b^{v_b(n)}} \\ge \\frac{b^n}{n}.\n\\]\n\nGiven that \\( b \\ge 3 \\) (since \\( b \\) is an odd number greater than 1), we further have:\n\\[\na^b > \\frac{3^n}{n}.\n\\]\n\nTherefore, we have shown that:\n\\[\na^b > \\frac{3^n}{n}.\n\\]\n\nThe answer is: \\boxed{a^b > \\frac{3^n}{n}}.", "answer": "a^b > \\frac{3^n}{n}", "source": "china_team_selection_test"}, {"domain": ["Mathematics -> Algebra -> Algebra -> Polynomial Operations"], "difficulty": 8.5, "problem": "Does there exist positive reals $a_0, a_1,\\ldots ,a_{19}$, such that the polynomial $P(x)=x^{20}+a_{19}x^{19}+\\ldots +a_1x+a_0$ does not have any real roots, yet all polynomials formed from swapping any two coefficients $a_i,a_j$ has at least one real root?", "solution": "\n\nTo determine whether there exist positive reals \\(a_0, a_1, \\ldots, a_{19}\\) such that the polynomial \\(P(x) = x^{20} + a_{19}x^{19} + \\ldots + a_1x + a_0\\) does not have any real roots, yet all polynomials formed from swapping any two coefficients \\(a_i, a_j\\) have at least one real root, we proceed as follows:\n\nConsider the polynomial \\(P_\\sigma(x) = x^{20} + a_{\\sigma(19)}x^{19} + a_{\\sigma(18)}x^{18} + \\cdots + a_{\\sigma(0)}\\), for all permutations \\(\\sigma\\) of the numbers 0 to 19.\n\nWe construct the coefficients \\(a_i\\) in a specific manner. Let \\(a_i = 10000 + i\\epsilon\\) for \\(i = 0, 1, \\ldots, 19\\) and some small \\(\\epsilon > 0\\). This ensures that \\(a_0 < a_1 < \\cdots < a_{19}\\).\n\nWhen \\(t = 0\\), we substitute \\(x = -100\\). Since \\(\\frac{|a_{19} \\cdot 100^{19}|}{20} > |100^{20}|, |a_{18} \\cdot 100^{18}|, |a_{17} \\cdot 100^{17}|, \\ldots, |a_0|\\), we have \\(P(-100) < 0\\).\n\nAs \\(t \\rightarrow \\infty\\), \\(a_{18} \\rightarrow \\infty\\). When \\(a_{18} > -\\min_{x < 0} \\left( x^2 + a_{19}x + \\frac{a_{17}}{x} + \\cdots + \\frac{a_0}{x^{18}} \\right)\\), \\(P(x) \\geq 0\\) for all \\(x < 0\\). This minimum exists because as \\(x \\rightarrow 0\\), \\(\\frac{a_0}{x^{18}}\\) dominates and the sum tends to positive infinity, so it is positive for some \\(x > x_0\\). Meanwhile, as \\(x \\rightarrow -\\infty\\), \\(x^2\\) dominates, and the sum is positive for some \\(x < x_1\\). The middle interval is closed and bounded, so it achieves its minimum which is finite.\n\nMeanwhile, \\(P(x) > 0\\) for all \\(x \\geq 0\\).\n\nFix \\(t\\) as the minimum value such that \\(P(x) \\geq 0\\) for all \\(x\\). By continuity, there is a root \\(y\\) of \\(P(x)\\), which is clearly negative. If \\(-1 \\leq y < 0\\), then \\(a_{19}y^{19} + a_{18}y^{18} > a_{18}(y^{18} + y^{19}) \\geq 0\\). Grouping the rest similarly in pairs, and using \\(y^{20} > 0\\), \\(P(y) > 0\\), a contradiction.\n\nHence \\(y < -1\\), and \\(y^{19} < y^{17} < \\cdots < y^1 < y^0 < y^2 < \\cdots < y^{18}\\). Since \\(a_{19} < a_{17} < \\cdots < a_1 < a_0 < a_2 < \\cdots < a_{18}\\), by the rearrangement inequality, \\(0 = P(y) > P_\\sigma(y)\\) for \\(\\sigma \\neq \\text{Id}\\).\n\nAdding a small \\(\\delta\\) to \\(t\\), \\(P(x) > 0\\) for all \\(x\\), while \\(P_\\sigma(x)\\) (\\(\\sigma \\neq \\text{Id}\\)) takes both positive and negative values. Therefore, such positive reals \\(a_0, a_1, \\ldots, a_{19}\\) do exist.\n\nThe answer is: \\boxed{\\text{Yes}}.", "answer": "\\text{Yes}", "source": "china_national_olympiad"}, {"domain": ["Mathematics -> Algebra -> Linear Algebra -> Linear Transformations", "Mathematics -> Algebra -> Abstract Algebra -> Other"], "difficulty": 9.0, "problem": "Let $\\alpha$ be given positive real number, find all the functions $f: N^{+} \\rightarrow R$ such that $f(k + m) = f(k) + f(m)$ holds for any positive integers $k$, $m$ satisfying $\\alpha m \\leq k \\leq (\\alpha + 1)m$.", "solution": "\nLet \\(\\alpha\\) be a given positive real number. We aim to find all functions \\( f: \\mathbb{N}^{+} \\rightarrow \\mathbb{R} \\) such that \\( f(k + m) = f(k) + f(m) \\) holds for any positive integers \\( k \\) and \\( m \\) satisfying \\( \\alpha m \\leq k \\leq (\\alpha + 1)m \\).\n\nTo solve this, we first note that the given functional equation \\( f(k + m) = f(k) + f(m) \\) resembles Cauchy's functional equation. However, the condition \\( \\alpha m \\leq k \\leq (\\alpha + 1)m \\) restricts the values of \\( k \\) and \\( m \\).\n\nWe will show that the only solution to this functional equation under the given condition is a linear function of the form \\( f(n) = cn \\) for some constant \\( c \\).\n\n1. **Step 1: Prove separability for large integers**\n\n   An integer \\( n \\) is called separable if there exist integers \\( a \\) and \\( b \\) such that \\( a + b = n \\) and \\( f(a + b) = f(a) + f(b) \\). We need to show that all sufficiently large integers are separable.\n\n   Given the condition \\( \\alpha m \\leq k \\leq (\\alpha + 1)m \\), we can rewrite it in terms of \\( n = k + m \\) as:\n   \\[\n   \\alpha + 1 \\leq \\frac{n}{m} \\leq \\alpha + 2.\n   \\]\n   This implies:\n   \\[\n   \\frac{1}{\\alpha + 2} \\leq \\frac{m}{n} \\leq \\frac{1}{\\alpha + 1}.\n   \\]\n   By starting with \\( \\frac{1}{n} \\) and adding \\( \\frac{1}{n} \\) at each step, we ensure that \\( m \\) remains within the interval \\( \\left( \\frac{1}{\\alpha + 2}, \\frac{1}{\\alpha + 1} \\right) \\). Hence, such an integer \\( n \\) is separable.\n\n2. **Step 2: Represent \\( f(n) \\) as a linear combination**\n\n   Since all sufficiently large integers are separable, \\( f(n) \\) can be expressed as a linear combination of \\( f(1), f(2), \\ldots, f(k) \\) for some fixed \\( k \\). Let us consider the smallest subset such that the linear representation is unique:\n   \\[\n   f(n) = g_1(n)f(a_1) + \\cdots + g_m(n)f(a_m),\n   \\]\n   where \\( \\{a_1, a_2, \\ldots, a_m\\} \\subset \\{1, 2, \\ldots, k\\} \\).\n\n   By the uniqueness of the linear representation, the problem condition carries over to the \\( g_i \\) functions. Since \\( g_i \\) are functions from integers to rationals, and every rational can be represented as a linear combination of other rationals, it follows that \\( g_i \\) must be linear functions of the form \\( g_i(n) = n c_i \\) for some constants \\( c_i \\).\n\n3. **Step 3: Conclude the form of \\( f(n) \\)**\n\n   Therefore, we can represent \\( f \\) as:\n   \\[\n   f(n) = n (c_1 f(a_1) + \\cdots + c_m f(a_m)) = nD,\n   \\]\n   where \\( D \\) is a constant. This representation holds for all \\( n > k \\).\n\n4. **Step 4: Verify for all \\( n \\)**\n\n   For \\( \\alpha \\leq 1 \\), we have \\( f(2n) = 2f(n) \\). By induction, choosing a sufficiently large \\( k \\), we get \\( f(n) = nD \\).\n\n   For \\( \\alpha > 1 \\), choose an integer \\( a \\) such that \\( \\alpha \\leq a \\leq \\alpha + 1 \\). We have \\( f((a+1)n) = f(n) + f(an) \\). By choosing \\( n \\) in the interval \\( (k/2, k] \\), we extend \\( f(n) = nD \\) to all \\( n \\).\n\nThus, the only function \\( f \\) satisfying the given conditions is:\n\\[\nf(n) = cn,\n\\]\nwhere \\( c \\) is a constant.\n\nThe answer is: \\boxed{f(n) = cn}.", "answer": "f(n) = cn", "source": "china_team_selection_test"}, {"domain": ["Mathematics -> Discrete Mathematics -> Combinatorics", "Mathematics -> Geometry -> Plane Geometry -> Other"], "difficulty": 7.0, "problem": "Consider a $100 \\times 100$ table, and identify the cell in row $a$ and column $b, 1 \\leq a, b \\leq 100$, with the ordered pair $(a, b)$. Let $k$ be an integer such that $51 \\leq k \\leq 99$. A $k$-knight is a piece that moves one cell vertically or horizontally and $k$ cells to the other direction; that is, it moves from $(a, b)$ to $(c, d)$ such that $(|a-c|,|b-d|)$ is either $(1, k)$ or $(k, 1)$. The $k$-knight starts at cell $(1,1)$, and performs several moves. A sequence of moves is a sequence of cells $(x_{0}, y_{0})=(1,1)$, $(x_{1}, y_{1}),(x_{2}, y_{2}), \\ldots,(x_{n}, y_{n})$ such that, for all $i=1,2, \\ldots, n, 1 \\leq x_{i}, y_{i} \\leq 100$ and the $k$-knight can move from $(x_{i-1}, y_{i-1})$ to $(x_{i}, y_{i})$. In this case, each cell $(x_{i}, y_{i})$ is said to be reachable. For each $k$, find $L(k)$, the number of reachable cells.", "solution": "Cell $(x, y)$ is directly reachable from another cell if and only if $x-k \\geq 1$ or $x+k \\leq 100$ or $y-k \\geq 1$ or $y+k \\leq 100$, that is, $x \\geq k+1$ or $x \\leq 100-k$ or $y \\geq k+1$ or $y \\leq 100-k(*)$. Therefore the cells $(x, y)$ for which $101-k \\leq x \\leq k$ and $101-k \\leq y \\leq k$ are unreachable. Let $S$ be this set of unreachable cells in this square, namely the square of cells $(x, y), 101-k \\leq x, y \\leq k$. If condition $(*)$ is valid for both $(x, y)$ and $(x \\pm 2, y \\pm 2)$ then one can move from $(x, y)$ to $(x \\pm 2, y \\pm 2)$, if they are both in the table, with two moves: either $x \\leq 50$ or $x \\geq 51$; the same is true for $y$. In the first case, move $(x, y) \\rightarrow(x+k, y \\pm 1) \\rightarrow(x, y \\pm 2)$ or $(x, y) \\rightarrow$ $(x \\pm 1, y+k) \\rightarrow(x \\pm 2, y)$. In the second case, move $(x, y) \\rightarrow(x-k, y \\pm 1) \\rightarrow(x, y \\pm 2)$ or $(x, y) \\rightarrow(x \\pm 1, y-k) \\rightarrow(x \\pm 2, y)$. Hence if the table is colored in two colors like a chessboard, if $k \\leq 50$, cells with the same color as $(1,1)$ are reachable. Moreover, if $k$ is even, every other move changes the color of the occupied cell, and all cells are potentially reachable; otherwise, only cells with the same color as $(1,1)$ can be visited. Therefore, if $k$ is even then the reachable cells consists of all cells except the center square defined by $101-k \\leq x \\leq k$ and $101-k \\leq y \\leq k$, that is, $L(k)=100^{2}-(2 k-100)^{2}$; if $k$ is odd, then only half of the cells are reachable: the ones with the same color as $(1,1)$, and $L(k)=\\frac{1}{2}(100^{2}-(2 k-100)^{2})$.", "answer": "L(k)=\\begin{cases}100^{2}-(2 k-100)^{2} & \\text{if } k \\text{ is even} \\\\ \\frac{100^{2}-(2 k-100)^{2}}{2} & \\text{if } k \\text{ is odd} \\end{cases}", "source": "apmoapmo_sol"}, {"domain": ["Mathematics -> Number Theory -> Congruences", "Mathematics -> Algebra -> Algebra -> Equations and Inequalities"], "difficulty": 7.0, "problem": "Find all pairs of positive integers $ (m,n)$ such that $ mn \\minus{} 1$ divides $ (n^2 \\minus{} n \\plus{} 1)^2$.\r\n\r\n[i]Aaron Pixton.[/i]", "solution": "\nTo find all pairs of positive integers \\((m, n)\\) such that \\(mn - 1\\) divides \\((n^2 - n + 1)^2\\), we need to analyze the given condition and derive the solutions.\n\nFirst, let's denote \\(d = mn - 1\\). We need \\(d\\) to divide \\((n^2 - n + 1)^2\\). This implies:\n\\[\nd \\mid (n^2 - n + 1)^2.\n\\]\n\nWe start by considering the trivial solution \\((m, n) = (2, 2)\\):\n\\[\n2 \\cdot 2 - 1 = 3 \\quad \\text{and} \\quad (2^2 - 2 + 1)^2 = 3^2 = 9,\n\\]\nwhich satisfies \\(3 \\mid 9\\).\n\nNext, we explore other potential solutions. Suppose \\((m, n)\\) is a solution with \\(2 < n < m\\). We need to find \\(k < n\\) such that \\((n, k)\\) is also a solution. This requires:\n\\[\n(n^2 - n + 1)^2 \\equiv -1 \\pmod{n}.\n\\]\n\nWe analyze the inequalities:\n\\[\nn^2 - 1 \\leq \\frac{(n^2 - n + 1)^2}{mn - 1} \\leq \\frac{(n^2 - n + 1)^2}{n^2 - 1}.\n\\]\n\nSimplifying, we get:\n\\[\n\\frac{(n^2 - n + 1)^2}{n^2 - 1} \\geq n^2 - 1 \\implies n^2 - n + 1 \\geq n^2 - 1 \\implies n \\leq 2.\n\\]\n\nThis implies that the solutions are limited to specific cases. By fixing initial values \\(a_0\\) and \\(b_0\\) with \\(b_0 \\leq 2\\), we can generate all solutions using the recurrence relation:\n\\[\n(a_i, b_i)_{i=0}^{\\infty} \\quad \\text{where} \\quad a_i = b_{i+1}, \\quad b_i = \\frac{1}{b_{i+1}} \\left[ \\frac{(b_{i+1}^2 - b_{i+1} + 1)^2}{a_{i+1} b_{i+1} - 1} + 1 \\right] \\quad \\forall \\ i \\in \\mathbb{N}^*.\n\\]\n\nBy working through this recurrence, we find that the solutions are:\n\\[\n(m, n) = (2, 2) \\quad \\text{and} \\quad (m, n) = (b_{\\ell-1}, b_{\\ell}), \\ (b_{\\ell}, b_{\\ell+1}) \\quad \\forall \\ \\ell \\in \\mathbb{N}^*.\n\\]\n\nCleaning up the recurrence relation:\n\\[\nb_{i+2} = \\frac{b_{i+1}^3 - 2b_{i+1}^2 + 3b_{i+1} + b_i - 2}{b_i b_{i+1} - 1} \\quad \\forall \\ i \\in \\mathbb{N}^*, \\quad b_0 = 2, \\quad b_1 = 5,\n\\]\nwe get the sequence:\n\\[\n(b_i)_{i=0}^{\\infty} = 2, 5, 10, 17, \\ldots,\n\\]\nwhich can be generalized as:\n\\[\nb_i = (i + 1)^2 + 1.\n\\]\n\nThus, the pairs \\((m, n)\\) that satisfy the condition are:\n\\[\n(m, n) = (2, 2) \\quad \\text{and} \\quad (m, n) = ((i+1)^2 + 1, (i+2)^2 + 1) \\quad \\forall \\ i \\in \\mathbb{N}.\n\\]\n\nThe answer is: \\boxed{(2, 2) \\text{ and } ((i+1)^2 + 1, (i+2)^2 + 1) \\text{ for all } i \\in \\mathbb{N}}.", "answer": "(2, 2) \\text{ and } ((i+1)^2 + 1, (i+2)^2 + 1) \\text{ for all } i \\in \\mathbb{N}", "source": "usa_team_selection_test"}, {"domain": ["Mathematics -> Discrete Mathematics -> Combinatorics"], "difficulty": 7.0, "problem": "A social club has $2k+1$ members, each of whom is fluent in the same $k$ languages.  Any pair of members always talk to each other in only one language.  Suppose that there were no three members such that they use only one language among them.  Let $A$ be the number of three-member subsets such that the three distinct pairs among them use different languages.  Find the maximum possible value of $A$.", "solution": "\nLet \\( A \\) be the number of three-member subsets such that the three distinct pairs among them use different languages. We aim to find the maximum possible value of \\( A \\).\n\nGiven that the social club has \\( 2k+1 \\) members, each fluent in \\( k \\) languages, and that no three members use only one language among them, we can classify the triplets into three categories: all same color, two colors, and all different colors. Since the \"all same color\" category is precluded, we let \\( B \\) be the number of two-color triples. Thus, we have:\n\\[\nA + B = \\binom{2k+1}{3}.\n\\]\n\nTo find the maximum \\( A \\), we need to show that \\( B \\geq k(2k+1) \\). For each of the \\( 2k+1 \\) vertices, let \\( c_i \\) be the number of edges of color \\( i \\). The number of \\( B \\) triplets centered at a vertex is:\n\\[\n\\sum_{i=1}^{k} \\binom{c_i}{2} \\geq k \\cdot \\binom{\\frac{\\sum c_i}{k}}{2} = k \\cdot \\binom{2}{2} = k.\n\\]\n\nSince there are \\( 2k+1 \\) vertices, we have:\n\\[\nB \\geq (2k+1) \\cdot k.\n\\]\n\nThus, the maximum possible value of \\( A \\) is:\n\\[\nA \\leq \\binom{2k+1}{3} - k(2k+1).\n\\]\n\nFor the construction, we can number all \\( 2k+1 \\) points and color the edges such that vertices \\( P_m \\) and \\( P_{m+i} \\) (mod \\( 2k+1 \\)) are colored with color \\( i \\). This satisfies the condition of no monochromatic triples and ensures \\( B = (2k+1) \\cdot k \\).\n\nTherefore, the maximum possible value of \\( A \\) is:\n\\[\nA = \\binom{2k+1}{3} - k(2k+1).\n\\]\n\nThe answer is: \\boxed{\\binom{2k+1}{3} - k(2k+1)}.", "answer": "\\binom{2k+1}{3} - k(2k+1)", "source": "usa_team_selection_test"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Triangulations", "Mathematics -> Algebra -> Algebra -> Equations and Inequalities"], "difficulty": 7.5, "problem": "In a triangle $A B C$, points $M$ and $N$ are on sides $A B$ and $A C$, respectively, such that $M B=B C=C N$. Let $R$ and $r$ denote the circumradius and the inradius of the triangle $A B C$, respectively. Express the ratio $M N / B C$ in terms of $R$ and $r$.", "solution": "Let $\\omega, O$ and $I$ be the circumcircle, the circumcenter and the incenter of $A B C$, respectively. Let $D$ be the point of intersection of the line $B I$ and the circle $\\omega$ such that $D \\neq B$. Then $D$ is the midpoint of the arc $A C$. Hence $O D \\perp C N$ and $O D=R$. We first show that triangles $M N C$ and $I O D$ are similar. Because $B C=B M$, the line $B I$ (the bisector of $\\angle M B C$ ) is perpendicular to the line $C M$. Because $O D \\perp C N$ and $I D \\perp M C$, it follows that $$\\angle O D I=\\angle N C M \\tag{8}$$ Let $\\angle A B C=2 \\beta$. In the triangle $B C M$, we have $$\\frac{C M}{N C}=\\frac{C M}{B C}=2 \\sin \\beta \\tag{9}$$ Since $\\angle D I C=\\angle D C I$, we have $I D=C D=A D$. Let $E$ be the point of intersection of the line $D O$ and the circle $\\omega$ such that $E \\neq D$. Then $D E$ is a diameter of $\\omega$ and $\\angle D E C=\\angle D B C=\\beta$. Thus we have $$\\frac{D I}{O D}=\\frac{C D}{O D}=\\frac{2 R \\sin \\beta}{R}=2 \\sin \\beta \\tag{10}$$ Combining equations (8), (9), and (10) shows that triangles $M N C$ and $I O D$ are similar. It follows that $$\\frac{M N}{B C}=\\frac{M N}{N C}=\\frac{I O}{O D}=\\frac{I O}{R} \\tag{11}$$ The well-known Euler's formula states that $$O I^{2}=R^{2}-2 R r \\tag{12}$$ Therefore, $$\\frac{M N}{B C}=\\sqrt{1-\\frac{2 r}{R}} \\tag{13}$$", "answer": "\\sqrt{1-\\frac{2r}{R}}", "source": "apmoapmo_sol"}, {"domain": ["Mathematics -> Geometry -> Solid Geometry -> 3D Shapes", "Mathematics -> Number Theory -> Perfect Numbers (as the problem contextually involves understanding integer conditions and perfect squares indirectly) -> Other"], "difficulty": 8.0, "problem": "Determine all positive integers $N$ for which the sphere\n\\[x^2 + y^2 + z^2 = N\\]\nhas an inscribed regular tetrahedron whose vertices have integer coordinates.", "solution": "The integers $N$ with this property are those of the form $3m^2$ for some positive integer $m$.\n\nIn one direction, for $N = 3m^2$, the points\n\\[\n(m,m,m), (m,-m,-m), (-m,m,-m), (-m,-m,m)\n\\]\nform the vertices of a regular tetrahedron inscribed in the sphere $x^2 + y^2 + z^2 = N$.\n\nConversely, suppose that $P_i = (x_i, y_i, z_i)$ for $i=1,\\dots,4$ are the vertices of an inscribed regular \ntetrahedron. Then the center of this tetrahedron must equal the center of the sphere, namely $(0,0,0)$. Consequently, these four vertices together with $Q_i = (-x_i, -y_i, -z_i)$ for $i=1,\\dots,4$ form the vertices of an inscribed cube in the sphere.\nThe side length of this cube is $(N/3)^{1/2}$, so its volume is $(N/3)^{3/2}$;\non the other hand, this volume also equals the determinant of the matrix\nwith row vectors $Q_2-Q_1, Q_3-Q_1, Q_4-Q_1$, which is an integer. Hence $(N/3)^3$ is a perfect square, as then is $N/3$.", "answer": "3m^2 \\text{ for some positive integer } m", "source": "putnam"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Polygons", "Mathematics -> Applied Mathematics -> Probability -> Other"], "difficulty": 7.0, "problem": "Let $n$ be given, $n \\geq 4$, and suppose that $P_1, P_2, \\dots, P_n$ are $n$ randomly, independently and uniformly, chosen points on a circle. Consider the convex $n$-gon whose vertices are the $P_i$. What is the probability that at least one of the vertex angles of this polygon is acute?", "solution": "The angle at a vertex $P$ is acute if and only if all of the other points lie on an open semicircle. We first deduce from this that if there are any two acute angles at all, they must occur consecutively. Suppose the contrary; label the vertices $Q_1, \\dots, Q_n$ in counterclockwise order (starting anywhere), and suppose that the angles at $Q_1$ and $Q_i$ are acute for some $i$ with $3 \\leq i \\leq n-1$. Then the open semicircle starting at $Q_2$ and proceeding counterclockwise must contain all of $Q_3, \\dots, Q_n$, while the open semicircle starting at $Q_i$ and proceeding counterclockwise must contain $Q_{i+1}, \\dots, Q_n, Q_1, \\dots, Q_{i-1}$. Thus two open semicircles cover the entire circle, contradiction. It follows that if the polygon has at least one acute angle, then it has either one acute angle or two acute angles occurring consecutively. In particular, there is a unique pair of consecutive vertices $Q_1, Q_2$ in counterclockwise order for which $\\angle Q_2$ is acute and $\\angle Q_1$ is not acute. Then the remaining points all lie in the arc from the antipode of $Q_1$ to $Q_1$, but $Q_2$ cannot lie in the arc, and the remaining points cannot all lie in the arc from the antipode of $Q_1$ to the antipode of $Q_2$. Given the choice of $Q_1, Q_2$, let $x$ be the measure of the counterclockwise arc from $Q_1$ to $Q_2$; then the probability that the other points fall into position is $2^{-n+2} - x^{n-2}$ if $x \\leq 1/2$ and 0 otherwise. Hence the probability that the polygon has at least one acute angle with a \\emph{given} choice of which two points will act as $Q_1$ and $Q_2$ is \\[ \\int_0^{1/2} (2^{-n+2} - x^{n-2})\\,dx = \\frac{n-2}{n-1} 2^{-n+1}. \\] Since there are $n(n-1)$ choices for which two points act as $Q_1$ and $Q_2$, the probability of at least one acute angle is $n(n-2) 2^{-n+1}$.", "answer": "n(n-2) 2^{-n+1}", "source": "putnam"}, {"domain": ["Mathematics -> Algebra -> Algebra -> Polynomial Operations"], "difficulty": 7.0, "problem": "For each integer $m$, consider the polynomial \\[P_m(x)=x^4-(2m+4)x^2+(m-2)^2.\\] For what values of $m$ is $P_m(x)$ the product of two non-constant polynomials with integer coefficients?", "solution": "By the quadratic formula, if $P_m(x)=0$, then $x^2=m\\pm 2\\sqrt{2m}+2$, and hence the four roots of $P_m$ are given by $S = \\{\\pm\\sqrt{m}\\pm\\sqrt{2}\\}$. If $P_m$ factors into two nonconstant polynomials over the integers, then some subset of $S$ consisting of one or two elements form the roots of a polynomial with integer coefficients.\n\nFirst suppose this subset has a single element, say $\\sqrt{m} \\pm \\sqrt{2}$; this element must be a rational number. Then $(\\sqrt{m} \\pm \\sqrt{2})^2 = 2 + m \\pm  2 \\sqrt{2m}$ is an integer, so $m$ is twice a perfect square, say $m = 2n^2$. But then $\\sqrt{m} \\pm \\sqrt{2} = (n\\pm 1)\\sqrt{2}$ is only rational if $n=\\pm 1$, i.e., if $m = 2$.\n\nNext, suppose that the subset contains two elements; then we can take it to be one of $\\{\\sqrt{m} \\pm \\sqrt{2}\\}$, $\\{\\sqrt{2} \\pm \\sqrt{m}\\}$ or $\\{\\pm (\\sqrt{m} + \\sqrt{2})\\}$. In all cases, the sum and the product of the elements of the subset must be a rational number. In the first case, this means $2\\sqrt{m} \\in \\QQ$, so $m$ is a perfect square. In the second case, we have $2 \\sqrt{2} \\in \\QQ$, contradiction. In the third case, we have $(\\sqrt{m} + \\sqrt{2})^2 \\in \\QQ$, or $m + 2 + 2\\sqrt{2m} \\in \\QQ$, which means that $m$ is twice a perfect square.\n\nWe conclude that $P_m(x)$ factors into two nonconstant polynomials over the integers if and only if $m$ is either a square or twice a square.\n\nNote: a more sophisticated interpretation of this argument can be given using Galois theory. Namely, if $m$ is neither a square nor twice a square, then the number fields $\\QQ(\\sqrt{m})$ and $\\QQ(\\sqrt{2})$ are distinct quadratic fields, so their compositum is a number field of degree 4, whose Galois group acts transitively on $\\{\\pm \\sqrt{m} \\pm \\sqrt{2}\\}$. Thus $P_m$ is irreducible.\n", "answer": "m is either a square or twice a square.", "source": "putnam"}, {"domain": ["Mathematics -> Discrete Mathematics -> Combinatorics", "Mathematics -> Algebra -> Other"], "difficulty": 8.0, "problem": "Let $\\mathbf{Z}$ denote the set of all integers. Find all real numbers $c > 0$ such that there exists a labeling of the lattice points $( x, y ) \\in \\mathbf{Z}^2$ with positive integers for which: only finitely many distinct labels occur, and for each label $i$ , the distance between any two points labeled $i$ is at least $c^i$ .", "solution": "See page 11 of this PDF: https://web.evanchen.cc/exams/USAMO-2017-notes.pdf \n ", "answer": "There are no such real numbers \\( c > 0 \\).", "source": "usamo"}, {"domain": ["Mathematics -> Algebra -> Algebra -> Equations and Inequalities", "Mathematics -> Discrete Mathematics -> Combinatorics"], "difficulty": 7.5, "problem": "Let $n \\ge 4$ be an integer. Find all functions $W : \\{1, \\dots, n\\}^2 \\to \\mathbb R$ such that for every partition $[n] = A \\cup B \\cup C$ into disjoint sets, \\[ \\sum_{a \\in A} \\sum_{b \\in B} \\sum_{c \\in C} W(a,b) W(b,c) = |A| |B| |C|. \\]", "solution": "\nLet \\( n \\ge 4 \\) be an integer. We need to find all functions \\( W : \\{1, \\dots, n\\}^2 \\to \\mathbb{R} \\) such that for every partition \\([n] = A \\cup B \\cup C\\) into disjoint sets, the following condition holds:\n\\[\n\\sum_{a \\in A} \\sum_{b \\in B} \\sum_{c \\in C} W(a,b) W(b,c) = |A| |B| |C|.\n\\]\n\nTo solve this, we denote the function \\( W \\) by \\( f \\) for simplicity. We start by considering specific partitions of \\([n]\\). \n\nFirst, consider the partition \\( P(\\{1\\}, \\{2\\}, \\{3, 4, 5, \\ldots\\}) \\):\n\\[\nf(1,2)f(2,4) + f(1,2)f(2,5) + \\cdots + f(1,2)f(2,n) = (n-2) - f(1,2)f(2,3).\n\\]\n\nNext, consider the partition \\( P(\\{1\\}, \\{3\\}, \\{2, 4, 5, \\ldots\\}) \\):\n\\[\nf(1,3)f(3,4) + f(1,3)f(3,5) + \\cdots + f(1,3)f(3,n) = (n-2) - f(1,3)f(3,2).\n\\]\n\nNow, consider the partition \\( P(\\{1\\}, \\{2, 3\\}, \\{4, 5, \\ldots\\}) \\):\n\\[\nf(1,2)f(2,4) + f(1,2)f(2,5) + \\cdots + f(1,2)f(2,n) + f(1,3)f(3,4) + f(1,3)f(3,5) + \\cdots + f(1,3)f(3,n) = 2(n-3).\n\\]\n\nThis simplifies to:\n\\[\n(n-2) - f(1,2)f(2,3) + (n-2) - f(1,3)f(3,2) = 2(n-3) \\implies f(1,2)f(2,3) + f(1,3)f(3,2) = 2.\n\\]\n\nSimilarly, for any distinct \\( a, b, c \\):\n\\[\nf(a,b)f(b,c) + f(a,c)f(c,b) = 2.\n\\]\n\nConsidering \\( P(\\{3, 4, 5, \\ldots\\}, \\{2\\}, \\{1\\}) \\), \\( P(\\{2, 4, 5, \\ldots\\}, \\{3\\}, \\{1\\}) \\), and \\( P(\\{4, 5, \\ldots\\}, \\{2, 3\\}, \\{1\\}) \\), we get:\n\\[\nf(3,2)f(2,1) + f(2,3)f(3,1) = 2,\n\\]\nwhich generalizes to:\n\\[\nf(a,b)f(b,c) + f(b,a)f(a,c) = 2.\n\\]\n\nThus, we see that:\n\\[\nf(a,c)f(c,b) = f(b,a)f(a,c) \\implies f(a,c) = 0 \\quad \\text{or} \\quad f(c,b) = f(b,a).\n\\]\n\nSuppose \\( f(a,c) = 0 \\) for some \\( a \\neq c \\). Considering \\( P(\\{a\\}, \\{c\\}, [n] - \\{a,c\\}) \\), we get \\( 0 = n-2 \\), a contradiction. Hence, \\( f(c,b) = f(b,a) \\) for all distinct \\( a, b, c \\).\n\nThis implies that \\( f(x,b) \\) and \\( f(b,x) \\) are constants for each \\( b \\) and all \\( x \\neq b \\). Consequently, \\( f(x,y) \\) is a constant \\( k \\) if \\( x \\neq y \\). From the condition \\( 2k^2 = 2 \\), we find \\( k = 1 \\) or \\( k = -1 \\).\n\nTherefore, all solutions are of the form where \\( W(a,a) \\) can be any value, and for all distinct \\( a, b \\in [n] \\), \\( W(a,b) \\) equals a constant \\( k \\), where \\( k = 1 \\) or \\( k = -1 \\).\n\nThe answer is: \\boxed{W(a,b) = k \\text{ for all distinct } a, b \\text{ and } k = 1 \\text{ or } k = -1.}", "answer": "W(a,b) = k \\text{ for all distinct } a, b \\text{ and } k = 1 \\text{ or } k = -1.", "source": "usa_team_selection_test"}, {"domain": ["Mathematics -> Discrete Mathematics -> Combinatorics"], "difficulty": 7.0, "problem": "Let $n$ and $k$ be positive integers. Cathy is playing the following game. There are $n$ marbles and $k$ boxes, with the marbles labelled 1 to $n$. Initially, all marbles are placed inside one box. Each turn, Cathy chooses a box and then moves the marbles with the smallest label, say $i$, to either any empty box or the box containing marble $i+1$. Cathy wins if at any point there is a box containing only marble $n$. Determine all pairs of integers $(n, k)$ such that Cathy can win this game.", "solution": "We claim Cathy can win if and only if $n \\leq 2^{k-1}$. First, note that each non-empty box always contains a consecutive sequence of labeled marbles. This is true since Cathy is always either removing from or placing in the lowest marble in a box. As a consequence, every move made is reversible. Next, we prove by induction that Cathy can win if $n=2^{k-1}$. The base case of $n=k=1$ is trivial. Assume a victory can be obtained for $m$ boxes and $2^{m-1}$ marbles. Consider the case of $m+1$ boxes and $2^{m}$ marbles. Cathy can first perform a sequence of moves so that only marbles $2^{m-1}, \\ldots, 2^{m}$ are left in the starting box, while keeping one box, say $B$, empty. Now move the marble $2^{m-1}$ to box $B$, then reverse all of the initial moves while treating $B$ as the starting box. At the end of that, we will have marbles $2^{m-1}+1, \\ldots, 2^{m}$ in the starting box, marbles $1,2, \\ldots, 2^{m-1}$ in box $B$, and $m-1$ empty boxes. By repeating the original sequence of moves on marbles $2^{m-1}+1, \\ldots, 2^{m}$, using the $m$ boxes that are not box $B$, we can reach a state where only marble $2^{m}$ remains in the starting box. Therefore a victory is possible if $n=2^{k-1}$ or smaller. We now prove by induction that Cathy loses if $n=2^{k-1}+1$. The base case of $n=2$ and $k=1$ is trivial. Assume a victory is impossible for $m$ boxes and $2^{m-1}+1$ marbles. For the sake of contradiction, suppose that victory is possible for $m+1$ boxes and $2^{m}+1$ marbles. In a winning sequence of moves, consider the last time a marble $2^{m-1}+1$ leaves the starting box, call this move $X$. After $X$, there cannot be a time when marbles $1, \\ldots, 2^{m-1}+1$ are all in the same box. Otherwise, by reversing these moves after $X$ and deleting marbles greater than $2^{m-1}+1$, it gives us a winning sequence of moves for $2^{m-1}+1$ marbles and $m$ boxes (as the original starting box is not used here), contradicting the inductive hypothesis. Hence starting from $X$, marbles 1 will never be in the same box as any marbles greater than or equal to $2^{m-1}+1$. Now delete marbles $2, \\ldots, 2^{m-1}$ and consider the winning moves starting from $X$. Marble 1 would only move from one empty box to another, while blocking other marbles from entering its box. Thus we effectively have a sequence of moves for $2^{m-1}+1$ marbles, while only able to use $m$ boxes. This again contradicts the inductive hypothesis. Therefore, a victory is not possible if $n=2^{k-1}+1$ or greater.", "answer": "Cathy can win if and only if \\( n \\leq 2^{k-1} \\).", "source": "apmoapmo_sol"}, {"domain": ["Mathematics -> Calculus -> Integral Calculus -> Techniques of Integration -> Single-variable"], "difficulty": 8.0, "problem": "Evaluate the sum \\begin{gather*} \\sum_{k=0}^\\infty \\left( 3 \\cdot \\frac{\\ln(4k+2)}{4k+2} - \\frac{\\ln(4k+3)}{4k+3} - \\frac{\\ln(4k+4)}{4k+4} - \\frac{\\ln(4k+5)}{4k+5} \\right) \\\\ = 3 \\cdot \\frac{\\ln 2}{2} - \\frac{\\ln 3}{3} - \\frac{\\ln 4}{4} - \\frac{\\ln 5}{5} + 3 \\cdot \\frac{\\ln 6}{6} - \\frac{\\ln 7}{7} \\\\ - \\frac{\\ln 8}{8} - \\frac{\\ln 9}{9} + 3 \\cdot \\frac{\\ln 10}{10} - \\cdots . \\end{gather*} (As usual, $\\ln x$ denotes the natural logarithm of $x$.)", "solution": "We prove that the sum equals $(\\log 2)^2$; as usual, we write $\\log x$ for the natural logarithm of $x$ instead of $\\ln x$. Note that of the two given expressions of the original sum, the first is absolutely convergent (the summands decay as $\\log(x)/x^2$) but the second one is not; we must thus be slightly careful when rearranging terms. Define $a_k = \\frac{\\log k}{k} - \\frac{\\log(k+1)}{k+1}$. The infinite sum $\\sum_{k=1}^\\infty a_k$ converges to $0$ since $\\sum_{k=1}^n a_k$ telescopes to $-\\frac{\\log(n+1)}{n+1}$ and this converges to $0$ as $n\\to\\infty$. Note that $a_k > 0$ for $k \\geq 3$ since $\\frac{\\log x}{x}$ is a decreasing function of $x$ for $x>e$, and so the convergence of $\\sum_{k=1}^\\infty a_k$ is absolute. Write $S$ for the desired sum. Then since $3a_{4k+2}+2a_{4k+3}+a_{4k+4} = (a_{4k+2}+a_{4k+4})+2(a_{4k+2}+a_{4k+3})$, we have \\begin{align*} S &= \\sum_{k=0}^\\infty (3a_{4k+2}+2a_{4k+3}+a_{4k+4}) \\\\ &= \\sum_{k=1}^\\infty a_{2k}+\\sum_{k=0}^\\infty 2(a_{4k+2}+a_{4k+3}), \\end{align*} where we are allowed to rearrange the terms in the infinite sum since $\\sum a_k$ converges absolutely. Now $2(a_{4k+2}+a_{4k+3}) = \\frac{\\log(4k+2)}{2k+1}-\\frac{\\log(4k+4)}{2k+2} = a_{2k+1}+(\\log 2)(\\frac{1}{2k+1}-\\frac{1}{2k+2})$, and summing over $k$ gives \\begin{align*} \\sum_{k=0}^\\infty 2(a_{4k+2}+a_{4k+3}) &= \\sum_{k=0}^\\infty a_{2k+1} + (\\log 2) \\sum_{k=1}^\\infty \\frac{(-1)^{k+1}}{k}\\\\ &= \\sum_{k=0}^\\infty a_{2k+1} +(\\log 2)^2. \\end{align*} Finally, we have \\begin{align*} S &= \\sum_{k=1}^\\infty a_{2k} + \\sum_{k=0}^\\infty a_{2k+1} +(\\log 2)^2 \\\\ &= \\sum_{k=1}^\\infty a_k +(\\log 2)^2 = (\\log 2)^2. \\end{align*}", "answer": "$(\\log 2)^2$", "source": "putnam"}, {"domain": ["Mathematics -> Discrete Mathematics -> Graph Theory"], "difficulty": 7.0, "problem": "Given $30$ students such that each student has at most $5$ friends and for every $5$ students there is a pair of students that are not friends, determine the maximum $k$ such that for all such possible configurations, there exists $k$ students who are all not friends.", "solution": "\nGiven 30 students such that each student has at most 5 friends and for every 5 students there is a pair of students that are not friends, we need to determine the maximum \\( k \\) such that for all such possible configurations, there exists \\( k \\) students who are all not friends.\n\nIn graph theory terms, we are given a regular graph with 30 vertices and degree 5, with no \\( K_5 \\) subgraphs. We aim to find the maximum size \\( k \\) of an independent set in such a graph.\n\nWe claim that \\( k = 6 \\). To show this, we need to construct a graph that satisfies the given conditions and has an independent set of size 6, and also prove that any such graph must have an independent set of at least size 6.\n\nConsider a graph \\( G \\) with 10 vertices: \\( v_1, v_2, v_3, v_4, v_5, w_1, w_2, w_3, w_4, w_5 \\). Construct two cycles \\( v_1v_2v_3v_4v_5 \\) and \\( w_1w_2w_3w_4w_5 \\), and for \\( i, j \\in \\{1, 2, 3, 4, 5\\} \\), join \\( v_i \\) and \\( w_j \\) if and only if \\( i - j \\equiv 0, \\pm 1 \\pmod{5} \\). This graph \\( G \\) has no independent set of size greater than 2 and no \\( K_5 \\).\n\nNow, consider a graph \\( G' \\) that consists of three copies of \\( G \\). The maximum size of an independent set in \\( G' \\) is no more than three times the maximum size of an independent set in \\( G \\), which is 6. Thus, \\( G' \\) is a \\( K_5 \\)-free regular graph with degree 5 and an independent set of size at most 6.\n\nTo show that any graph satisfying the conditions has an independent set of size 6, we use Tur\u00e1n's Theorem. The complement graph \\( \\overline{G} \\) has 30 vertices and at least 360 edges. If \\( \\overline{G} \\) does not have a \\( K_6 \\), then by Tur\u00e1n's Theorem, \\( G \\) can have at most 360 edges, leading to a contradiction. Therefore, \\( \\overline{G} \\) must have an independent set of size 6, implying \\( G \\) has an independent set of size 6.\n\nThus, the maximum \\( k \\) such that there exists \\( k \\) students who are all not friends is:\n\\[\n\\boxed{6}\n\\]", "answer": "6", "source": "china_national_olympiad"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Polygons"], "difficulty": 8.0, "problem": "The octagon $P_1P_2P_3P_4P_5P_6P_7P_8$ is inscribed in a circle, with the vertices around the circumference in the given order.  Given that the polygon $P_1P_3P_5P_7$ is a square of area 5, and the polygon $P_2P_4P_6P_8$ is a rectangle of area 4, find the maximum possible area of the octagon.", "solution": "The maximum area is $3 \\sqrt{5}$.\n\nWe deduce from the area of $P_1P_3P_5P_7$ that the radius of the circle is $\\sqrt{5/2}$.  An easy calculation using the Pythagorean Theorem then shows that the rectangle $P_2P_4P_6P_8$ has sides $\\sqrt{2}$ and $2\\sqrt{2}$.\nFor notational ease, denote the area of a polygon by putting brackets around the name of the polygon.\n\nBy symmetry, the area of the octagon can be expressed as\n\\[\n[P_2P_4P_6P_8] + 2[P_2P_3P_4] + 2[P_4P_5P_6].\n\\]\nNote that $[P_2P_3P_4]$ is $\\sqrt{2}$ times the distance from $P_3$ to $P_2P_4$, which is maximized when $P_3$ lies on the midpoint of arc $P_2P_4$; similarly, $[P_4P_5P_6]$ is $\\sqrt{2}/2$ times the distance from $P_5$ to $P_4P_6$, which is maximized when $P_5$ lies on the midpoint of arc $P_4P_6$. Thus the area of the octagon is maximized when $P_3$ is the midpoint of arc $P_2P_4$ and $P_5$ is the midpoint of arc $P_4P_6$. In this case, it is easy to calculate that $[P_2P_3P_4] = \\sqrt{5}-1$ and $[P_4P_5P_6] = \\sqrt{5}/2-1$, and so the area of the octagon is $3\\sqrt{5}$.", "answer": "3\\sqrt{5}", "source": "putnam"}, {"domain": ["Mathematics -> Algebra -> Linear Algebra -> Matrices"], "difficulty": 7.0, "problem": "Let $d_n$ be the determinant of the $n \\times n$ matrix whose entries, from\nleft to right and then from top to bottom, are $\\cos 1, \\cos 2, \\dots, \\cos\nn^2$. Evaluate\n$\\lim_{n\\to\\infty} d_n$.", "solution": "The limit is $0$; we will show this by checking that $d_n = 0$ for all $n \\geq 3$.\nStarting from the given matrix, add the third column to the first column; this does not change the\ndeterminant. However, thanks to the identity\n$\\cos x + \\cos y = 2 \\cos \\frac{x+y}{2} \\cos \\frac{x-y}{2}$,\nthe resulting matrix has the form\n\\[\n \\begin{pmatrix} 2 \\cos 2 \\cos 1 & \\cos 2 & \\cdots \\\\\n  2 \\cos (n+2) \\cos 1 & \\cos (n+2) & \\cdots \\\\\n  2 \\cos (2n+2) \\cos 1 & 2 \\cos (2n+2) & \\cdots \\\\\n\\vdots & \\vdots & \\ddots\n \\end{pmatrix}\n\\]\nwith the first column being a multiple of the second. Hence $d_n = 0$.", "answer": "0", "source": "putnam"}, {"domain": ["Mathematics -> Applied Mathematics -> Statistics -> Probability -> Other"], "difficulty": 7.0, "problem": "A sequence $y_1,y_2,\\dots,y_k$ of real numbers is called \\emph{zigzag} if $k=1$, or if $y_2-y_1, y_3-y_2, \\dots, y_k-y_{k-1}$ are nonzero and alternate in sign. Let $X_1,X_2,\\dots,X_n$ be chosen independently from the uniform distribution on $[0,1]$. Let $a(X_1,X_2,\\dots,X_n)$ be the largest value of $k$ for which there exists an increasing sequence of integers $i_1,i_2,\\dots,i_k$ such that $X_{i_1},X_{i_2},\\dots,X_{i_k}$ is zigzag. Find the expected value of $a(X_1,X_2,\\dots,X_n)$ for $n \\geq 2$.", "solution": "The expected value is $\\frac{2n+2}{3}$. Divide the sequence $X_1,\\dots,X_n$ into alternating increasing and decreasing segments, with $N$ segments in all. Note that removing one term cannot increase $N$: if the removed term is interior to some segment then the number remains unchanged, whereas if it separates two segments then one of those decreases in length by 1 (and possibly disappears). From this it follows that $a(X_1,\\dots,X_n) = N+1$: in one direction, the endpoints of the segments form a zigzag of length $N+1$; in the other, for any zigzag $X_{i_1},\\dots, X_{i_m}$, we can view it as a sequence obtained from $X_1,\\dots,X_n$ by removing terms, so its number of segments (which is manifestly $m-1$) cannot exceed $N$. For $n \\geq 3$, $a(X_1,\\dots,X_n) - a(X_2,\\dots,X_{n})$ is 0 if $X_1, X_2, X_3$ form a monotone sequence and 1 otherwise. Since the six possible orderings of $X_1,X_2,X_3$ are equally likely, \\[ \\mathbf{E}(a(X_1,\\dots,X_n) - a(X_1,\\dots,X_{n-1})) = \\frac{2}{3}. \\] Moreover, we always have $a(X_1, X_2) = 2$ because any sequence of two distinct elements is a zigzag. By linearity of expectation plus induction on $n$, we obtain $\\mathbf{E}(a(X_1,\\dots,X_n)) = \\frac{2n+2}{3}$ as claimed.", "answer": "\\frac{2n+2}{3}", "source": "putnam"}, {"domain": ["Mathematics -> Discrete Mathematics -> Combinatorics", "Mathematics -> Precalculus -> Limits"], "difficulty": 8.0, "problem": "Given a positive integer $n$, let $M(n)$ be the largest integer $m$ such that \\[ \\binom{m}{n-1} > \\binom{m-1}{n}. \\] Evaluate \\[ \\lim_{n \\to \\infty} \\frac{M(n)}{n}. \\]", "solution": "The answer is $\\frac{3+\\sqrt{5}}{2}$. Note that for $m > n+1$, both binomial coefficients are nonzero and their ratio is \\[ {m\\choose n-1}/{m-1\\choose n} = \\frac{m!n!(m-n-1)!}{(m-1)!(n-1)!(m-n+1)!} = \\frac{mn}{(m-n+1)(m-n)}. \\] Thus the condition ${m\\choose{n-1}} > {{m-1}\\choose n}$ is equivalent to $(m-n+1)(m-n)-mn < 0$. The left hand side of this last inequality is a quadratic function of $m$ with roots \\[ \\alpha(n) = \\frac{3n-1+\\sqrt{5n^2-2n+1}}{2}, \\quad \\beta(n) = \\frac{3n-1-\\sqrt{5n^2-2n+1}}{2}, \\] both of which are real since $5n^2-2n+1 = 4n^2+(n-1)^2 > 0$; it follows that $m$ satisfies the given inequality if and only if $\\beta(n) < m < \\alpha(n)$. (Note in particular that since $\\alpha(n)-\\beta(n) = \\sqrt{5n^2-2n+1} > 1$, there is always some integer $m$ between $\\beta(n)$ and $\\alpha(n)$.) We conclude that $M(n)$ is the greatest integer strictly less than $\\alpha(n)$, and thus that $\\alpha(n)-1 \\leq M(n) < \\alpha(n)$. Now \\[ \\lim_{n\\to\\infty} \\frac{\\alpha(n)}{n} = \\lim_{n\\to\\infty} \\frac{3-\\frac{1}{n}+\\sqrt{5-\\frac{2}{n}+\\frac{1}{n^2}}}{2} = \\frac{3+\\sqrt{5}}{2} \\] and similarly $\\lim_{n\\to\\infty} \\frac{\\alpha(n)-1}{n} = \\frac{3+\\sqrt{5}}{2}$, and so by the sandwich theorem, $\\lim_{n\\to\\infty} \\frac{M(n)}{n} = \\frac{3+\\sqrt{5}}{2}$.", "answer": "\\frac{3+\\sqrt{5}}{2}", "source": "putnam"}, {"domain": ["Mathematics -> Algebra -> Algebra -> Polynomial Operations", "Mathematics -> Calculus -> Integral Calculus -> Techniques of Integration -> Single-variable"], "difficulty": 8.0, "problem": "Say that a polynomial with real coefficients in two variables, $x,y$, is \\emph{balanced} if\nthe average value of the polynomial on each circle centered at the origin is $0$.\nThe balanced polynomials of degree at most $2009$ form a vector space $V$ over $\\mathbb{R}$.\nFind the dimension of $V$.", "solution": "Any polynomial $P(x,y)$ of degree at most $2009$ can be written uniquely\nas a sum $\\sum_{i=0}^{2009} P_i(x,y)$ in which $P_i(x,y)$ is a homogeneous\npolynomial of degree $i$.\nFor $r>0$, let $C_r$ be the path $(r\\cos \\theta, r\\sin \\theta)$\nfor $0 \\leq \\theta \\leq 2\\pi$. Put $\\lambda(P_i) = \\oint_{C_1} P_i$; then\nfor $r>0$,\n\\[\n\\oint_{C_r} P = \\sum_{i=0}^{2009} r^i \\lambda(P_i).\n\\]\nFor fixed $P$, the right side is a polynomial in $r$, which vanishes for\nall $r>0$ if and only if its coefficients vanish.\nIn other words,\n$P$ is balanced\nif and only if $\\lambda(P_i) = 0$ for $i=0,\\dots,2009$.\n\nFor $i$ odd, we have $P_i(-x,-y) = -P_i(x,y)$.\nHence $\\lambda(P_i) = 0$, e.g.,\nbecause the contributions to the integral from\n$\\theta$ and $\\theta + \\pi$ cancel.\n\nFor $i$ even, $\\lambda(P_i)$ is a linear function of the coefficients of\n$P_i$. This function is not identically zero, e.g., because for $P_i =\n(x^2 + y^2)^{i/2}$, the integrand is always positive and so\n$\\lambda(P_i) > 0$. The kernel of $\\lambda$ on the space of homogeneous\npolynomials of degree $i$ is thus a subspace of codimension 1.\n\nIt follows that the dimension of $V$ is\n\\[\n(1 + \\cdots + 2010) - 1005 = (2011 - 1) \\times 1005 = 2020050.\n\\]", "answer": "2020050", "source": "putnam"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Polygons"], "difficulty": 7.0, "problem": "( Gregory Galparin ) Let $\\mathcal{P}$ be a convex polygon with $n$ sides, $n\\ge3$ . Any set of $n - 3$ diagonals of $\\mathcal{P}$ that do not intersect in the interior of the polygon determine a triangulation of $\\mathcal{P}$ into $n - 2$ triangles. If $\\mathcal{P}$ is regular and there is a triangulation of $\\mathcal{P}$ consisting of only isosceles triangles, find all the possible values of $n$ .", "solution": "We label the vertices of $\\mathcal{P}$ as $P_0, P_1, P_2, \\ldots, P_n$ . Consider a diagonal $d = \\overline{P_a\\,P_{a+k}},\\,k \\le n/2$ in the triangulation. We show that $k$ must have the form $2^{m}$ for some nonnegative integer $m$ .\nThis diagonal partitions  $\\mathcal{P}$ into two regions $\\mathcal{Q},\\, \\mathcal{R}$ , and is the side of an isosceles triangle in both regions. Without loss of generality suppose the area of $Q$ is less than the area of $R$ (so the center of $P$ does not lie in the interior of $Q$ ); it follows that the lengths of the edges and diagonals in $Q$ are all smaller than $d$ . Thus $d$ must the be the base of the isosceles triangle in $Q$ , from which it follows that the isosceles triangle is $\\triangle P_aP_{a+k/2}\\,P_{a+k}$ , and so $2|k$ . Repeating this process on the legs of isosceles triangle ( $\\overline{P_aP_{a+k/2}},\\,\\overline{P_{a+k}P_{a+k/2}}$ ), it follows that $k = 2^m$ for some positive integer $m$ (if we allow degeneracy , then we can also let $m=0$ ).\n An example for , An isosceles triangle containing the center for  ,\nNow take the isosceles triangle $P_xP_yP_z,\\,0 \\le x < y < z < n$ in the triangulation that contains the center of $\\mathcal{P}$ in its interior; if a diagonal passes through the center, select either of the isosceles triangles with that diagonal as an edge. Without loss of generality, suppose $P_xP_y = P_yP_z$ . From our previous result, it follows that there are $2^a$ edges of $P$ on the minor arcs of $P_xP_y,\\, P_yP_z$ and $2^b$ edges of $P$ on the minor arc of $P_zP_x$ , for positive integers $a,\\,b$ . Therefore, we can write \\[n = 2 \\cdot 2^a + 2^b = 2^{a+1} + 2^{b},\\] so $n$ must be the sum of two powers of $2$ .\n We now claim that this condition is sufficient. Suppose without loss of generality that $a+1 \\ge b$ ; then we rewrite this as \\[n = 2^{b}(2^{a-b+1}+1).\\] \nLemma 1 : All regular polygons with or have triangulations that meet the conditions.\nBy induction , it follows that we can cover all the desired $n$ .\nFor $n = 3,4$ , this is trivial. For $k>1$ , we construct the diagonals of equal length $\\overline{P_0P_{2^{k-1}}}$ and $\\overline{P_{2^{k-1}+1}P_0}$ . This partitions $\\mathcal{P}$ into $3$ regions: an isosceles $\\triangle P_0P_{2^{k-1}}P_{2^{k-1}+1}$ , and two other regions. For these two regions, we can recursively construct the isosceles triangles defined above in the second paragraph. It follows that we have constructed $2(2^{k-1}-1) + (1) = 2^k-1 = n-2$ isosceles triangles with non-intersecting diagonals, as desired.\n[asy] size(200); defaultpen(linewidth(0.7)+fontsize(10)); int n = 17; real r = 1; real rad = pi/2;  pair pt(real k=0) {  return (r*expi(rad-2*pi*k/n)); }  for(int i=0; i<n; ++i){  dot(pt(i));  draw(pt(i)--pt(i+1)); }  /* could rewrite recursively, if someone wants to do .. */ draw(pt(8)--pt()--pt(9));  draw(pt()--pt(4)--pt(8));   draw(pt()--pt(2)--pt(4));    draw(pt()--pt(1)--pt(2));    draw(pt(2)--pt(3)--pt(4));   draw(pt(4)--pt(6)--pt(8));    draw(pt(4)--pt(5)--pt(6));    draw(pt(6)--pt(7)--pt(8));  draw(pt(9)--pt(13)--pt(17));   draw(pt(9)--pt(11)--pt(13));    draw(pt(9)--pt(10)--pt(11));    draw(pt(11)--pt(12)--pt(13));   draw(pt(13)--pt(15)--pt(17));    draw(pt(13)--pt(14)--pt(15));    draw(pt(15)--pt(16)--pt(17));    label(\"\\(P_0\\)\",pt(),N); label(\"\\(P_1\\)\",pt(1),NNE); label(\"\\(P_{16}\\)\",pt(-1),NNW); label(\"\\(\\cdots\\)\",pt(2),NE); [/asy]  An example for\nLemma 2 : If a regular polygon with sides has a working triangulation, then the regular polygon with sides also has a triangulation that meets the conditions.\nWe construct the diagonals $\\overline{P_0P_2},\\ \\overline{P_2P_4},\\ \\ldots \\overline{P_{2n-2}P_0}$ . This partitions $\\mathcal{P}$ into $n$ isosceles triangles of the form $\\triangle P_{2k}P_{2k+1}P_{2k+2}$ , as well as a central regular polygon with $n$ sides. However, we know that there exists a triangulation for the $n$ -sided polygon that yields $n-2$ isosceles triangles. Thus, we have created $(n) + (n-2) = 2n-2$ isosceles triangles with non-intersecting diagonals, as desired.\n[asy] size(200); defaultpen(linewidth(0.7)+fontsize(10)); int n = 10; real r = 1; real rad = pi/2;  pair pt(real k=0) {  return (r*expi(rad-2*pi*k/n)); }  for(int i=0; i<n; ++i){  dot(pt(i));  draw(pt(i)--pt(i+1)); }  draw(pt()--pt(2)--pt(4)--pt(6)--pt(8)--cycle); draw(pt()--pt(4)--pt(6)--cycle,linewidth(0.5)+linetype(\"4 4\"));    label(\"\\(P_0\\)\",pt(),N); label(\"\\(P_1\\)\",pt(1),NNE); label(\"\\(P_{2}\\)\",pt(2),NE); label(\"\\(P_{3}\\)\",pt(3),E); label(\"\\(P_{4}\\)\",pt(4),SE); label(\"\\(P_{5}\\)\",pt(5),S); label(\"\\(P_{6}\\)\",pt(6),SW); label(\"\\(P_{7}\\)\",pt(7),W); label(\"\\(P_{8}\\)\",pt(8),NW); label(\"\\(P_{9}\\)\",pt(9),NNW);  [/asy]  An example for\nIn summary, the answer is all $n$ that can be written in the form $2^{a+1} + 2^{b},\\, a,b \\ge 0$ . Alternatively, this condition can be expressed as either $n=2^{k},\\, k \\ge 2$ (this is the case when $a+1 = b$ ) or $n$ is the sum of two distinct powers of $2$ , where $1= 2^0$ is considered a power of $2$ .", "answer": "\\[ n = 2^{a+1} + 2^b, \\quad a, b \\ge 0 \\]\n\nAlternatively, this condition can be expressed as either \\( n = 2^k, \\, k \\ge 2 \\) or \\( n \\) is the sum of two distinct powers of 2.", "source": "usamo"}, {"domain": ["Mathematics -> Geometry -> Plane Geometry -> Angles", "Mathematics -> Geometry -> Plane Geometry -> Triangulations"], "difficulty": 7.5, "problem": "Let $ABC$ be a triangle.  Find all points $P$ on segment $BC$ satisfying the following property:  If $X$ and $Y$ are the intersections of line $PA$ with the common external tangent lines of the circumcircles of triangles $PAB$ and $PAC$ , then \\[\\left(\\frac{PA}{XY}\\right)^2+\\frac{PB\\cdot PC}{AB\\cdot AC}=1.\\]", "solution": "Let circle $PAB$ (i.e. the circumcircle of $PAB$ ), $PAC$ be $\\omega_1, \\omega_2$ with radii $r_1$ , $r_2$ and centers $O_1, O_2$ , respectively, and $d$ be the distance between their centers.\nLemma.  $XY = \\frac{r_1 + r_2}{d} \\sqrt{d^2 - (r_1 - r_2)^2}.$ \nProof. Let the external tangent containing $X$ meet $\\omega_1$ at $X_1$ and $\\omega_2$ at $X_2$ , and let the external tangent containing $Y$ meet $\\omega_1$ at $Y_1$ and $\\omega_2$ at $Y_2$ . Then clearly $X_1 Y_1$ and $X_2 Y_2$ are parallel (for they are both perpendicular $O_1 O_2$ ), and so $X_1 Y_1 Y_2 X_2$ is a trapezoid.\nNow, $X_1 X^2 = XA \\cdot XP = X_2 X^2$ by Power of a Point, and so $X$ is the midpoint of $X_1 X_2$ . Similarly, $Y$ is the midpoint of $Y_1 Y_2$ . Hence, $XY = \\frac{1}{2} (X_1 Y_1 + X_2 Y_2).$ Let $X_1 Y_1$ , $X_2 Y_2$ meet $O_1 O_2$ s at $Z_1, Z_2$ , respectively. Then by similar triangles and the Pythagorean Theorem we deduce that $X_1 Z_1 = \\frac{r_1 \\sqrt{d^2 - (r_1 - r_2)^2}}{d}$ and $\\frac{r_2 \\sqrt{d^2 - (r_1 - r_2)^2}}{d}$ . But it is clear that $Z_1$ , $Z_2$ is the midpoint of $X_1 Y_1$ , $X_2 Y_2$ , respectively, so $XY = \\frac{(r_1 + r_2)}{d} \\sqrt{d^2 - (r_1 - r_2)^2},$ as desired.\nLemma 2. Triangles $O_1 A O_2$ and $BAC$ are similar.\nProof. $\\angle{AO_1 O_2} = \\frac{\\angle{PO_1 A}}{2} = \\angle{ABC}$ and similarly $\\angle{AO_2 O_1} = \\angle{ACB}$ , so the triangles are similar by AA Similarity.\nAlso, let $O_1 O_2$ intersect $AP$ at $Z$ . Then obviously $Z$ is the midpoint of $AP$ and $AZ$ is an altitude of triangle $A O_1 O_2$ .Thus, we can simplify our expression of $XY$ : \\[XY = \\frac{AB + AC}{BC} \\cdot \\frac{AP}{2 h_a} \\sqrt{BC^2 - (AB - AC)^2},\\] where $h_a$ is the length of the altitude from $A$ in triangle $ABC$ . Hence, substituting into our condition and using $AB = c, BC = a, CA = b$ gives \\[\\left( \\frac{2a h_a}{(b+c) \\sqrt{a^2 - (b-c)^2}} \\right)^2 + \\frac{PB \\cdot PC}{bc} = 1.\\] Using $2 a h_a = 4[ABC] = \\sqrt{(a + b + c)(a + b - c)(a - b + c)(-a + b + c)}$ by Heron's Formula (where $[ABC]$ is the area of triangle $ABC$ , our condition becomes \\[\\frac{(a + b + c)(-a + b + c)}{(b + c)^2} + \\frac{PB \\cdot PC}{bc} = 1,\\] which by $(a + b + c)(-a + b + c) = (b + c)^2 - a^2$ becomes \\[\\frac{PB \\cdot PC}{bc} = \\frac{a^2 bc}{(b+c)^2}.\\] Let $PB = x$ ; then $PC = a - x$ . The quadratic in $x$ is \\[x^2 - ax + \\frac{a^2 bc}{(b+c)^2} = 0,\\] which factors as \\[\\left(x - \\frac{ab}{b+c}\\right)\\left(x - \\frac{ac}{b+c}\\right) = 0.\\] Hence, $PB = \\frac{ab}{b+c}$ or $\\frac{ac}{b+c}$ , and so the $P$ corresponding to these lengths are our answer.\nThe problems on this page are copyrighted by the Mathematical Association of America 's American Mathematics Competitions .  \n", "answer": "The points \\( P \\) on segment \\( BC \\) that satisfy the given property are such that:\n\n\\[ PB = \\frac{ab}{b+c} \\quad \\text{or} \\quad PB = \\frac{ac}{b+c}. \\]", "source": "usamo"}, {"domain": ["Mathematics -> Algebra -> Algebra -> Equations and Inequalities", "Mathematics -> Number Theory -> Prime Numbers"], "difficulty": 7.0, "problem": "Find all positive integers $n, k_1, \\dots, k_n$ such that $k_1 + \\cdots + k_n = 5n-4$ and \\[ \\frac{1}{k_1} + \\cdots + \\frac{1}{k_n} = 1. \\]", "solution": "By the arithmetic-harmonic mean inequality or the Cauchy-Schwarz inequality, \\[ (k_1 + \\cdots + k_n)\\left(\\frac{1}{k_1} + \\cdots + \\frac{1}{k_n} \\right) \\geq n^2. \\] We must thus have $5n-4 \\geq n^2$, so $n \\leq 4$. Without loss of generality, we may suppose that $k_1 \\leq \\cdots \\leq k_n$. If $n=1$, we must have $k_1 = 1$, which works. Note that hereafter we cannot have $k_1 =1$. If $n = 2$, we have $(k_1,k_2) \\in \\{(2,4), (3,3)\\}$, neither of which work. If $n=3$, we have $k_1 +k_2 +k_3 =11$, so $2 \\leq k_1 \\leq 3$. Hence \\[ (k_1,k_2,k_3) \\in \\{(2,2,7),(2,3,6),(2,4,5),(3,3,5),(3,4,4)\\}, \\] and only $(2,3,6)$ works. If $n = 4$, we must have equality in the AM-HM inequality, which only happens when $k_1 = k_2 = k_3 = k_4 = 4$. Hence the solutions are $n = 1$ and $k_1 = 1$, $n=3$ and $(k_1,k_2,k_3)$ is a permutation of $(2,3,6)$, and $n=4$ and $(k_1,k_2,k_3,k_4) = (4,4,4,4)$.", "answer": "n = 1, k_1 = 1; n = 3, (k_1,k_2,k_3) = (2,3,6); n = 4, (k_1,k_2,k_3,k_4) = (4,4,4,4)", "source": "putnam"}, {"domain": ["Mathematics -> Algebra -> Abstract Algebra -> Field Theory", "Mathematics -> Number Theory -> Prime Numbers", "Mathematics -> Algebra -> Intermediate Algebra -> Complex Numbers"], "difficulty": 7.0, "problem": "Across all polynomials $P$ such that $P(n)$ is an integer for all integers $n$, determine, with proof, all possible values of $P(i)$, where $i^{2}=-1$.", "solution": "We claim the answer is every complex number $a+b i$ where $a$ and $b$ are rationals whose simplified denominators are not multiples of any prime congruent to 1 modulo 4 . The proof consists of two main steps: proving that powers of $p \\equiv 1 \\bmod 4$ can't appear in the denominator, and showing all possible values are attainable. We show three different methods of the former part. \\section*{Impossibility via elementary number theory} We first show that no other values are possible. Indeed, it is well known that any polynomial that maps $\\mathbb{Z}$ into itself must be of the form $P(n)=\\sum_{k=0}^{m} a_{k}\\binom{n}{k}$ for integers $a_{k}$ and where we treat the binomials as formal polynomials. This may be proved via finite differences. It is therefore sufficient to show that for any $k,\\binom{i}{k}$ can be simplified to a fraction of the form $\\frac{a+b i}{c}$, where $a, b, c$ are integers and $c$ is not divisible by any prime that is 1 modulo 4 . We have that $$ \\binom{i}{k}=\\frac{i \\cdot(i-1) \\cdot \\ldots \\cdot(i-(k-1))}{k \\cdot(k-1) \\cdot \\ldots \\cdot 1} $$ Pick any prime $p$ that is 1 modulo 4 . Since $p$ is 1 modulo 4 , there exist distinct residue classes $x$, $y$ modulo $p$ so that $x^{2} \\equiv y^{2} \\equiv-1 \\bmod p$. We will show that for every integer, $r \\leq k$ divisible by $p$ in the denominator, we can pair it with a disjoint set, $\\left\\{r_{x}, r_{y}\\right\\}$, of two positive integers less than $k$ in these two residue classes so that $\\left(i-r_{x}\\right)\\left(i-r_{y}\\right)$ has real and complex parts divisible by the highest power of $p$ dividing $r$. Thus any factor of $p$ that is 1 modulo 4 in the denominator, exists in the numerator as well, which suffices. Start with $u=1$ and repeat the following process for increasing $u$ until there is nothing left to do. For every positive integer $j \\leq k$ such that $p^{u} \\mid j$, there exist unique $j_{x}^{\\prime}, j_{y}^{\\prime} \\in\\left[j-p^{u}, j\\right)$ satisfying $j_{x}^{\\prime} \\equiv x \\bmod p, j_{y}^{\\prime} \\equiv y \\bmod p$ and $p^{u} \\mid j_{x}^{\\prime}{ }^{2}+1, j_{y}^{\\prime}{ }^{2}+1$. So pair $j$ with the set $\\left\\{j_{x}^{\\prime}, j_{y}^{\\prime}\\right\\}$, and pair its old partners if any to the old partners of $j_{x}^{\\prime}$ and $j_{y}^{\\prime}$. The important feature of this assignment process is that we always have at step $u, p^{\\min \\left(u, v_{p}(r)\\right)} \\mid r_{x}+$ $r_{y}, r_{x}^{2}+1, r_{y}^{2}+1$. Thus at the end of the process, $\\left(i-r_{x}\\right)\\left(i-r_{y}\\right)=\\frac{1}{2}\\left(\\left(r_{x}+r_{y}\\right)^{2}-\\left(r_{x}^{2}+1\\right)-\\left(r_{y}^{2}+1\\right)\\right)-$ $\\left(r_{x}+r_{y}\\right) i$ has real and complex parts divisible by $p^{v_{p}(r)}$ as claimed. \\section*{Impossibility via Gaussian Integers} We work in the ring of Gaussian Integers $\\mathbb{Z}[i]=\\{a+b i: a, b \\in \\mathbb{Z}\\}$, which is sitting inside number field $\\mathbb{Q}[i]=\\{a+b i: a, b \\in \\mathbb{Q}\\}$. It's well-known that $\\mathbb{Z}[i]$ is a unique factorization domain. For any Gaussian prime $\\pi$, let $\\nu_{p i}(z)$ denote the exponent of $\\pi$ in the factorization of $z$. Let $p \\equiv 1(\\bmod 4)$ be a prime. It's well known that $p$ splits into two Gaussian primes, $p=\\pi \\bar{\\pi}$. Note that it suffices to show $$ \\begin{equation*} \\nu_{\\pi}(i(i-1)(i-2) \\ldots(i-k+1)) \\geq \\nu_{\\pi}(k!)=\\left\\lfloor\\frac{k}{p}\\right\\rfloor+\\left\\lfloor\\frac{k}{p^{2}}\\right\\rfloor+\\ldots \\tag{*} \\end{equation*} $$ because the similar statement for $\\bar{\\pi}$ will follow. The key claim is the following: Claim. For any integer $t \\geq 1$ and $n$, at least one of numbers $i-n-1, i-n-2, \\ldots, i-n-p^{t}$ is divisible by $\\pi^{t}$. Proof. First, we show that there exists integer $r$ such that $\\pi^{t} \\mid i-r$. To that end, by Hensel's lemma, there exists an integer $s$ for which $p^{t} \\mid s^{2}+1$. Thus, $$ \\pi^{t} \\bar{\\pi}^{t} \\mid(s-i)(s+i) $$ However, $\\operatorname{gcd}(s-i, s+i) \\mid 2$, so $\\pi^{t}$ must divide either $s-i$ or $s+i$. In particular, $r=s$ or $r=-s$ work. To complete the problem, pick the unique $x \\in\\left\\{1,2, \\ldots, p^{t}\\right\\}$ such that $n+x \\equiv r(\\bmod p)^{t}$, so $i-(n+x) \\equiv$ $i-r\\left(\\bmod p^{t}\\right)$ and hence divisible by $\\pi^{t}$. Using the claim repeatedly, we find that among numbers $i, i-1, i-2, \\ldots, i-k+1$, - at least $\\left\\lfloor\\frac{k}{p}\\right\\rfloor$ are divisible by $\\pi$ (this is by selecting $\\left\\lfloor\\frac{k}{p}\\right\\rfloor$ disjoint contiguous block of size $p$ ), - at least $\\left\\lfloor\\frac{k}{p^{2}}\\right\\rfloor$ are divisible by $\\pi^{2}$, - at least $\\left\\lfloor\\frac{k}{p^{3}}\\right\\rfloor$ are divisible by $\\pi^{3}$, \u30fb $\\quad \\vdots$ Using these altogether suffices to prove $(*)$. \\section*{Impossibility via $\\boldsymbol{p}$-adics} Let $P(i)=a+b i$, and note that $P(-i)=a-b i$. Fix some $p \\equiv 1 \\bmod 4$, and consider the $p$-adic integers $\\mathbb{Z}_{p}$ lying in $\\mathbb{Q}_{p}$. Note that $x^{2}+1=0$ has a solution in $\\mathbb{Z}_{p}$, and hence $\\pm i \\in \\mathbb{Z}_{p}$. Now take a sequence of integers $m_{k}$ converging to $i$ in $\\mathbb{Z}_{p}$, so $-m_{k}$ converges to $-i$. Then since polynomials are continuous, $P\\left(m_{k}\\right)$ converges to $P(i)$ and $P\\left(-m_{k}\\right)$ converges to $P(-i)$, so $P\\left(m_{k}\\right)+P\\left(-m_{k}\\right)$ and $P\\left(m_{k}\\right)-P\\left(-m_{k}\\right)$ converge to $2 x$ and $2 y i$ respectively. Finally, since $P\\left(m_{k}\\right)$ and $P\\left(-m_{k}\\right)$ are integers, they have nonnegative $p$-adic valuation, and so by continuity, $2 x$ and $2 y$ have nonegative $p$-adic valuation. Thus, when written as simplified fractions, $a$ and $b$ cannot have any powers of $p$ in their denominator, as desired. \\section*{Construction} We now show that all of the claimed values are possible. The set of polynomials, $P$, taking $\\mathbb{Z}$ to itself is closed under addition and multiplication, and therefore so is the set of possible values of $P(i)$. It clearly contains $\\mathbb{Z}[i]$ by taking linear polynomials. Thus it suffices to show that $p^{-1}$ is attainable for every prime $p$ that is not 1 modulo 4. $2^{-1}$ is achieved by taking $P(x)=\\frac{1}{4} x(x-1)(x-2)(x-3)+3$, so we may focus our attention only on the case where $p$ is 3 modulo 4 . It is then further sufficient to show that some $(a+b i) p^{-1}$ is attainable for $a, b \\in \\mathbb{Z}$ not both divisible by $p$ because then $(a-b i) \\cdot(a+b i) p^{-1}=\\left(a^{2}+b^{2}\\right) p^{-1}$ is also obtainable and cannot be an integer since -1 is not a quadratic residue modulo $p$, so B\u00e9zout's Theorem shows that $p^{-1}$ is attainable. Now with this goal in mind, observe that $$ \\left|\\binom{i}{p}\\right|=\\frac{1^{2} \\cdot\\left(1^{2}+1^{2}\\right) \\cdot \\ldots \\cdot\\left(1^{2}+(p-1)^{2}\\right)}{p \\cdot(2 p-1) \\cdot \\ldots \\cdot 1} $$ has denominator divisible by $p$, but numerator not divisible by $p$ since again, -1 is not a quadratic residue modulo $p$. Hence we can find some integer $m$ so that $m\\binom{i}{p}=(a+b i) p^{-1}$ where $a$ and $b$ that aren't both divisible by $p$ as desired.", "answer": "a+b i \\text{ where } a, b \\in \\mathbb{Q} \\text{ and } \\nu_{p}(a), \\nu_{p}(b) \\geq 0 \\text{ for all } p \\equiv 1(\\bmod 4)", "source": "HMMT_2"}, {"domain": ["Mathematics -> Number Theory -> Factorization", "Mathematics -> Algebra -> Algebra -> Equations and Inequalities"], "difficulty": 7.0, "problem": "Determine all integers $s \\ge 4$ for which there exist positive integers $a$, $b$, $c$, $d$ such that $s = a+b+c+d$ and $s$ divides $abc+abd+acd+bcd$.", "solution": "\nWe need to determine all integers \\( s \\geq 4 \\) for which there exist positive integers \\( a, b, c, d \\) such that \\( s = a + b + c + d \\) and \\( s \\) divides \\( abc + abd + acd + bcd \\).\n\n### Claim 1: If \\( a + b + c + d = s \\) divides \\( abc + abd + acd + bcd \\), then \\( s \\) must be composite.\n\n**Proof:**\nAssume, for the sake of contradiction, that \\( s \\) is a prime number. We have:\n\\[\ns = a + b + c + d \\quad \\text{and} \\quad s \\mid abc + abd + acd + bcd.\n\\]\n\nRewriting \\( abc + abd + acd + bcd \\), we get:\n\\[\nabc + abd + acd + bcd = ab(c + d) + cd(a + b).\n\\]\n\nThus, \\( s \\mid ab(c + d) + cd(a + b) \\). Since \\( s \\) is prime and \\( s = a + b + c + d \\), it follows that:\n\\[\ns \\mid (a + b)(cd - ab).\n\\]\n\nGiven that \\( \\gcd(a + b, s) = 1 \\) (since \\( s \\) is prime and \\( a + b < s \\)), we conclude:\n\\[\ns \\mid cd - ab.\n\\]\n\nSimilarly, by symmetry and the same reasoning, we also have:\n\\[\ns \\mid bc - ad, \\quad s \\mid ac - bd.\n\\]\n\nCombining these, we get:\n\\[\ns \\mid (b + d)(c - a), \\quad s \\mid (c - d)(a + b), \\quad s \\mid (a + d)(c - b).\n\\]\n\nSince \\( s \\) is prime, it cannot divide \\( a + b, a + d, \\) or \\( b + d \\) unless \\( a = b = c = d \\). However, if \\( a = b = c = d \\), then \\( s = 4a \\), which contradicts \\( s \\) being prime (since \\( s \\geq 4 \\)). Therefore, \\( s \\) must be composite. \\(\\blacksquare\\)\n\n### Claim 2: Every composite \\( s \\geq 4 \\) is possible.\n\n**Proof:**\nLet \\( s = n \\times m \\) where \\( n \\) and \\( m \\) are integers greater than 1. We can choose \\( b \\) and \\( c \\) such that \\( b + c = n \\). Then, let:\n\\[\na = (m - 1)c \\quad \\text{and} \\quad d = (m - 1)b.\n\\]\n\nWith these choices, we have:\n\\[\na + b + c + d = (m - 1)c + b + c + (m - 1)b = c(m - 1) + c + b(m - 1) + b = m(c + b) = mn = s.\n\\]\n\nNow, we need to check that \\( s \\mid abc + abd + acd + bcd \\):\n\\[\nabc + abd + acd + bcd = (m - 1)c \\cdot b \\cdot c + (m - 1)c \\cdot b \\cdot d + (m - 1)c \\cdot c \\cdot d + b \\cdot c \\cdot d.\n\\]\n\nFactoring out \\( bcd \\), we get:\n\\[\nabc + abd + acd + bcd = bcd \\left( \\frac{(m - 1)c}{d} + \\frac{(m - 1)c}{c} + \\frac{(m - 1)c}{b} + 1 \\right).\n\\]\n\nThis expression simplifies to a multiple of \\( s \\), confirming that \\( s \\) divides \\( abc + abd + acd + bcd \\).\n\nThus, every composite \\( s \\geq 4 \\) is possible. \\(\\blacksquare\\)\n\nThe answer is: \\(\\boxed{\\text{All composite integers } s \\geq 4}\\).", "answer": "\\text{All composite integers } s \\geq 4", "source": "usa_team_selection_test_for_imo"}, {"domain": ["Mathematics -> Algebra -> Algebra -> Algebraic Expressions", "Mathematics -> Discrete Mathematics -> Combinatorics"], "difficulty": 8.0, "problem": "While waiting for their next class on Killian Court, Alesha and Belinda both write the same sequence $S$ on a piece of paper, where $S$ is a 2020-term strictly increasing geometric sequence with an integer common ratio $r$. Every second, Alesha erases the two smallest terms on her paper and replaces them with their geometric mean, while Belinda erases the two largest terms in her paper and replaces them with their geometric mean. They continue this process until Alesha is left with a single value $A$ and Belinda is left with a single value $B$. Let $r_{0}$ be the minimal value of $r$ such that $\\frac{A}{B}$ is an integer. If $d$ is the number of positive factors of $r_{0}$, what is the closest integer to $\\log _{2} d$ ?", "solution": "Because we only care about when the ratio of $A$ to $B$ is an integer, the value of the first term in $S$ does not matter. Let the initial term in $S$ be 1 . Then, we can write $S$ as $1, r, r^{2}, \\ldots, r^{2019}$. Because all terms are in terms of $r$, we can write $A=r^{a}$ and $B=r^{b}$. We will now solve for $a$ and $b$. Observe that the geometric mean of two terms $r^{m}$ and $r^{n}$ is simply $r^{\\frac{m+n}{2}}$, or $r$ raised to the arithmetic mean of $m$ and $n$. Thus, to solve for $a$, we can simply consider the sequence $0,1,2, \\ldots, 2019$, which comes from the exponents of the terms in $S$, and repeatedly replace the smallest two terms with their arithmetic mean. Likewise, to solve for $b$, we can consider the same sequence $0,1,2, \\ldots, 2019$ and repeatedly replace the largest two terms with their arithmetic mean. We begin by computing $a$. If we start with the sequence $0,1, \\ldots, 2019$ and repeatedly take the arithmetic mean of the two smallest terms, the final value will be $$2 a =\\sum_{k=1}^{2019} \\frac{k}{2^{2019-k}} \\Longrightarrow a =2 a-a=\\sum_{k=1}^{2019} \\frac{k}{2^{2019-k}}-\\sum_{k=1}^{2019} \\frac{k}{2^{2020-k}} =\\sum_{k=1}^{2019} \\frac{k}{2^{2019-k}}-\\sum_{k=0}^{2018} \\frac{k+1}{2^{2019-k}} =2019-\\sum_{j=1}^{2019} \\frac{1}{2^{j}} =2019-\\left(1-\\frac{1}{2^{2019}}\\right)=2018+\\frac{1}{2^{2019}}$$ Likewise, or by symmetry, we can find $b=1-\\frac{1}{2^{2019}}$. Since we want $\\frac{A}{B}=\\frac{r^{a}}{r^{b}}=r^{a-b}$ to be a positive integer, and $a-b=\\left(2018+\\frac{1}{2^{2019}}\\right)-\\left(1-\\frac{1}{2^{2019}}\\right)=$ $2017+\\frac{1}{2^{2018}}, r$ must be a perfect $\\left(2^{2018}\\right)^{\\text {th }}$ power. Because $r>1$, the minimal possible value is $r=2^{2^{2018}}$. Thus, $d=2^{2018}+1$, and so $\\log _{2} d$ is clearly closest to 2018 .", "answer": "\\[\n\\boxed{2018}\n\\]", "source": "HMMT_11"}, {"domain": ["Mathematics -> Applied Mathematics -> Statistics -> Probability -> Counting Methods -> Combinations", "Mathematics -> Discrete Mathematics -> Combinatorics"], "difficulty": 7.0, "problem": "A certain state issues license plates consisting of six digits (from 0 through 9). The state requires that any two plates differ in at least two places. (Thus the plates $\\boxed{027592}$ and $\\boxed{020592}$ cannot both be used.) Determine, with proof, the maximum number of distinct license plates that the state can use.", "solution": "Consider license plates of $n$ digits, for some fixed $n$ , issued with the same criteria.\nWe first note that by the pigeonhole principle, we may have at most $10^{n-1}$ distinct plates.  Indeed, if we have more, then there must be two plates which agree on the first $n-1$ digits; these plates thus differ only on one digit, the last one.\nWe now show that it is possible to issue $10^{n-1}$ distinct license plates which satisfy the problem's criteria.  Indeed, we issue plates with all $10^{n-1}$ possible combinations for the first $n-1$ digit, and for each plate, we let the last digit be the sum of the preceding digits taken mod 10.  This way, if two plates agree on the first $n-1$ digits, they agree on the last digit and are thus the same plate, and if two plates differ in only one of the first $n-1$ digits, they must differ as well in the last digit.\nIt then follows that $10^{n-1}$ is the greatest number of license plates the state can issue.  For $n=6$ , as in the problem, this number is $10^5$ . $\\blacksquare$ ", "answer": "\\[ 10^5 \\]", "source": "usamo"}, {"domain": ["Mathematics -> Algebra -> Intermediate Algebra -> Complex Numbers", "Mathematics -> Number Theory -> Prime Numbers"], "difficulty": 8.0, "problem": "Determine whether or not there exist 15 integers $m_{1}, \\ldots, m_{15}$ such that $\\sum_{k=1}^{15} m_{k} \\cdot \\arctan (k)=\\arctan (16)$.", "solution": "We show that such integers $m_{1}, \\ldots, m_{15}$ do not exist. Suppose that the equation is satisfied by some integers $m_{1}, \\ldots, m_{15}$. Then the argument of the complex number $z_{1}=1+16 i$ coincides with the argument of the complex number $$z_{2}=(1+i)^{m_{1}}(1+2 i)^{m_{2}}(1+3 i)^{m_{3}} \\cdots \\cdots(1+15 i)^{m_{15}}$$ Therefore the ratio $R=z_{2} / z_{1}$ is real (and not zero). As $\\operatorname{Re} z_{1}=1$ and $\\operatorname{Re} z_{2}$ is an integer, $R$ is a nonzero integer. By considering the squares of the absolute values of $z_{1}$ and $z_{2}$, we get $$\\left(1+16^{2}\\right) R^{2}=\\prod_{k=1}^{15}\\left(1+k^{2}\\right)^{m_{k}}$$ Notice that $p=1+16^{2}=257$ is a prime (the fourth Fermat prime), which yields an easy contradiction through $p$-adic valuations: all prime factors in the right hand side are strictly below $p$ (as $k<16$ implies $1+k^{2}<p$ ). On the other hand, in the left hand side the prime $p$ occurs with an odd exponent.", "answer": "There do not exist 15 integers \\( m_{1}, \\ldots, m_{15} \\) such that \\( \\sum_{k=1}^{15} m_{k} \\cdot \\arctan (k) = \\arctan (16) \\).", "source": "imc"}]}