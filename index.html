<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MathOdyssey</title>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <link rel="icon" sizes="32x32" href="MathOdyssey_logo.png" />

    <style>
      html,
      body {
        height: 100%;
        margin: 0;
        padding: 0;
      }

      .container {
        display: flex;
        flex-direction: column;
        min-height: 100vh;
      }

      table {
            width: 70%;
            border-collapse: collapse;
            margin: 0 auto;
        }

      .header,
      .buttons,
      .footer,
      .key {
        flex-shrink: 0;
      }

      .header {
        margin-top: 10px;
        margin-bottom: 10px;
      }

      .footer {
        padding: 10px;
        font-size: 12px;
      }

      .scrollable-div {
        /* flex-grow: 1; */
        height: calc(100vh - 460px);
        overflow-y: auto;
        background-color: #f5f5f5;
        padding: 10px;
        border-radius: 10px;
        border: 1px solid black;
      }

      .buttons {
        margin-top: 10px;
      }

      .btn {
        margin-bottom: 7px;
      }

      .left-col {
        width: 200px; /* Adjust this value as per your requirement */
      }

      table tr,
      table td {
        border: none !important;
      }
      .bottom-border {
        border-bottom: 1px solid gray !important;
      }

      .key-item {
        margin-left: 2px;
        margin-right: 2px;
      }

      .key-item::before {
        content: ""; /* This is necessary for the pseudo-element to work */
        display: inline-block;
        width: 19px; /* Width of the square */
        height: 19px; /* Height of the square */
        margin-right: 5px; /* Space between the square and the text */
        vertical-align: middle; /* Aligns the square with the text */
        border: 1px solid black; /* Border around the square */
        border-radius: 2px; /* Rounded corners */
      }

      .key-item.correct::before {
        background-color: #3ebd66; /* Color for "Correct" */
      }

      .key-item.incorrect::before {
        background-color: rgb(255 187 187); /* Color for "Incorrect" */
      }
      .drop{
        display: flex;
      }
      .typing-cursor {
        display: inline-block;
        width: 10px;
        height: 10px;
        background-color: black;
        border-radius: 50%; /* Make it round */
        animation: pulse 1s infinite;
      }
      .bigtitle{
        height: 200px;
      }
      .fade-in {
        opacity: 0;
        transition: opacity 0.2s ease-in-out; /* 1 second fade time */
        visibility: hidden;
      }

      .fade-in.visible {
        opacity: 1;
        visibility: visible;
      }

      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.5);
        }
      }
      #competitionButtons, #difficultyButtons, #domainButtons {
      display: none;
    }

    /* 默认显示Competition按钮组 */
    #competitionButtons {
      display: block;
    }
      #modelAnswer {
        /* border: 1px solid black !important; */
        background-color: white;
        border-radius: 10px;
      }

      #footer-logo {
        position: fixed; /* Fixed position - stays in the same place even if you scroll */
        bottom: 10px; /* 10px from the bottom */
        left: 10px; /* 10px from the left */
        z-index: 1000; /* Ensure it appears on top of other elements */
      }
      #footer-logo img {
        width: 50px; /* Adjust the width as necessary */
        height: auto; /* Keep the logo aspect ratio */
      }
      
     
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
        }
        th {
            background-color: #f2f2f2;
        }
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        tr:hover {
            background-color: #ddd;
        }
        th, td {
            text-align: left;
        }
        .fixed-width {
          width: 80%;
        }
        th {
            background-color: #4CAF50;
            color: white;
        }
        hr {
            width: 100%;
            border: 1px solid #ddd;
            margin: 20px 0;
        }
    </style>

    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script>
      MathJax = {
        tex: {
          inlineMath: [
            ["$", "$"],
            ["\\(", "\\)"],
          ],
          tags: 'ams'
        },
      };
    </script>
    <script
      id="MathJax-script"
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
    ></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PYVRSFMDRL"></script>
    <script>
      window.dataLayer = window.dataLayer || [];

      function gtag() {
        dataLayer.push(arguments);
      }

      gtag('js', new Date());

      gtag('config', 'G-PYVRSFMDRL');
    </script>
    <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro"
    rel="stylesheet">
    <link rel="stylesheet" href="./static/css/bulma.min.css">
    <link rel="stylesheet" href="./static/css/bulma-carousel.min.css">
    <link rel="stylesheet" href="./static/css/bulma-slider.min.css">
    <link rel="stylesheet" href="./static/css/fontawesome.all.min.css">
    <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
    <link rel="stylesheet" href="./static/css/index.css">
    <link rel="icon" href="./static/images/icon.png">
    <script type="text/javascript" src="static/js/sort-table.js" defer></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script defer src="./static/js/fontawesome.all.min.js"></script>
    <script src="/Users/mch/Desktop/math.github.io/static/js/bulma-carousel.min.js"></script>
    <script src="/Users/mch/Desktop/math.github.io/static/js/bulma-slider.min.js"></script>
    <script src="/Users/mch/Desktop/math.github.io/static/js/index.js"></script>
  </head>
  <body>
    <section>
  <div class="bigtitle">
    <div class="container is-max-desktop">
      <div class="columns is-centered">
        <div class="column has-text-centered">
          <h1 class="title is-1 publication-title">Omni-MATH: Exploring Olympiad Level Mathematical Reasoning Abilities of LLMs Through A Comprehensive Benchmark</h1>
          <div class="is-size-5 publication-authors">
            <span class="author-block"><a href="http://huangzhen02.github.io">Zhen Huang</a><sup>3</sup>,</span>
            <span class="author-block"><a href="https://tinyurl.com/zengzhi-homepage">Zengzhi Wang</a><sup>1, 3</sup>,</span>
            <span class="author-block"><a href="https://shijie-xia.github.io/">Shijie Xia</a><sup>1, 3</sup>,</span>
            <span class="author-block"><a href="https://github.com/hongtangshui">Xuefeng Li</a><sup>1, 3</sup>,</span>
            <span class="author-block"><a href="https://github.com/haoy-zzz">Haoyang Zou</a><sup>3</sup>,</span>
            <span class="author-block"><a href="https://github.com/VagueWine">Ruijie Xu</a><sup>1, 3</sup>,</span>
            <span class="author-block"><a href="https://rzfan525.github.io/">Run-Ze Fan</a><sup>1, 3</sup>,</span>
            <span class="author-block"><a href="https://greenyea-com.webflow.io/">Lyumanshan Ye</a><sup>1, 3</sup>,</span>
            <span class="author-block"><a href="https://ethanc111.github.io/">Ethan Chern</a><sup>1, 3</sup>,</span>
            <span class="author-block"><a href="https://github.com/BLeaves">Yixin Ye</a><sup>1, 3</sup>,</span>
            <span class="author-block"><a href="http://arist12.github.io/ykzhang/">Yikai Zhang</a><sup>1, 3</sup>,</span>
            <span class="author-block"><a href="https://ayyyq.github.io/">Yuqing Yang</a><sup>3</sup>,</span>
            <span class="author-block"><a href="http://cuteythyme.github.io">Ting Wu</a><sup>3</sup>,</span>
            <span class="author-block"><a href="https://www.linkedin.com/in/binjie-wang-91514b25a/">Binjie Wang</a><sup>3</sup>,</span>
            <span class="author-block"><a href="https://shichaosun.github.io/">Shichao Sun</a><sup>3</sup>,</span>
            <span class="author-block"><a href="https://xiaoyang66.github.io/">Yang Xiao</a><sup>3</sup>,</span>
            <span class="author-block"><a href="https://nativeatom.github.io/">Yiyuan Li</a><sup>3</sup>,</span>
            <span class="author-block"><a href="https://koalazf99.github.io/">Fan Zhou</a><sup>1, 3</sup>,</span>
            <span class="author-block"><a href="https://steffichern.github.io/">Steffi Chern</a><sup>3</sup>,</span>
            <span class="author-block"><a href="https://qinyiwei.github.io/">Yiwei Qin</a><sup>3</sup>,</span>
            <span class="author-block"><a href="https://mantle2048.github.io/">Yan Ma</a><sup>3</sup>,</span>
            <span class="author-block"><a href="https://github.com/JoyBoy-Su">Jiadi Su</a><sup>3</sup>,</span>
            <span class="author-block"><a href="https://github.com/yxliu0903">Yixiu Liu</a><sup>1, 3</sup>,</span>
            <span class="author-block"><a href="https://github.com/zeetc">Yuxiang Zheng</a><sup>1, 3</sup>,</span>
            <span class="author-block"><a href="https://scholar.google.com/citations?user=oiBMWK4AAAAJ&hl=en">Shaoting Zhang</a><sup>2*</sup>,</span>
            <span class="author-block"><a href="http://dahua.site/">Dahua Lin</a><sup>2*</sup>,</span>
            <span class="author-block"><a href="http://mmlab.siat.ac.cn/yuqiao">Yu Qiao</a><sup>2*</sup>,</span>
            <span class="author-block"><a href="http://pfliu.com/">Pengfei Liu</a><sup>1, 2, 3*</sup></span>
        </div>
        
        <div class="is-size-5 publication-authors">
            <span class="author-block"><sup>1</sup>Shanghai Jiao Tong University,</span>
            <span class="author-block"><sup>2</sup>Shanghai Artificial Intelligence Laboratory,</span>
            <span class="author-block"><sup>3</sup>Generative AI Research Lab (GAIR)</span>
        </div>

        <div class="is-size-5 publication-authors">
          <span class="author-block"><sup>*</sup>Corresponding authors</span>
        </div>
        

        <div class="column has-text-centered">
          <div class="publication-links">
            <!-- PDF Link. -->
            <span class="link-block">
              <a href="https://arxiv.org/pdf/2406.12753" target="_blank"
                  class="external-link button is-normal is-rounded is-dark">
                <span class="icon">
                    <i class="fas fa-file-pdf"></i>
                </span>
                <span>Paper</span>
              </a>
            </span>
            <span class="link-block">
              <a href="https://github.com/GAIR-NLP/OlympicArena" target="_blank"
                  class="external-link button is-normal is-rounded is-dark">
                <span class="icon">
                    <i class="fab fa-github"></i>
                </span>
                <span>Code</span>
                </a>
            </span>
            <!-- Dataset Link. -->
            <span class="link-block">
              <a href="https://huggingface.co/datasets/GAIR/OlympicArena/" target="_blank"
                  class="external-link button is-normal is-rounded is-dark">
                <span class="icon">
                  <p style="font-size:18px">🤗</p>
                </span>
                <span>Datasets</span>
              </a>
            </span>
            <!-- Leaderboard Link. -->
            <span class="link-block">
              <a href="#leaderboard" class="external-link button is-normal is-rounded is-dark">
                <span class="icon">
                  <p style="font-size:18px">🏟️</p>
                </span>
                <span>Leaderboard</span>
              </a>
            </span>
          </div>

        </div>

      </div>
    </div>
    <!-- <div class="container">
      <div class="header row center-content">
        <div class="col text-center">
          <img src="MathOdyssey_logo.png" width="300px" />
          <p style="margin-top: -0px">Leaderboard & DATA EXPLORER</p>
          <a href="https://arxiv.org/abs/2406.18321">arXiv</a> |
          <a href="https://www.agiodyssey.org/#/gaic">Competition</a> | 🤗 Try
          <a href="https://github.com/protagolabs/odyssey-math">GitHub</a>
        </div>
      </div> -->
      <img src="25541724923794_.pic.jpg" class="img-fluid" alt="描述性文字">
      <h2>Leaderboard测试两下</h2>
      <p>MathOdyssey tests the mathematical reasoning ability of large language models. The dataset was created by <b> human professionals</b>  to ensure high quality and has <b>not been seen</b> by the models before.  It is designed exclusively for testing purposes. </br>
      We welcome you to contribute results from your model evaluations, or we can evaluate your model and add it to the leaderboard. Please contact us at hello (at) agiodyssey.org and MathOdyssey (at) gmail.com. 
        <table class="center">
          <thead>
            <tr>
              <th>Rank</th>
              <th class="fixed-width">Foundation models</th>
              <th class="fixed-width">Method</th>
              <th>Score</th>
            </tr>
          </thead>
          <tbody>
          <tr>
              <td>1<br><small>June, 2024</small></td>
              <td class="fixed-width"><a href="https://arxiv.org/abs/2403.05530">Gemini Math-Specialized 1.5 Pro</a><br><i>Gemini Team, Google</i></td>
              <td class="fixed-width">-</td>
              <td>55.8</td>
          </tr>
          <tr>
            <td>2<br><small>2024</small></td>
            <td class="fixed-width"><a href="https://arxiv.org/abs/2309.16609">Qwen2-72B-Instruct</a><br><i>Qwen Team, Alibaba Group</i></td>
            <td class="fixed-width"> <a href="https://arxiv.org/abs/2406.18629">Step-DPO</a> </td>
            <td>50.1 </td>
          </tr>
          <tr>
            <td>3<br><small>2024</small></td>
            <td class="fixed-width"><a href="#">GPT-4 Turbo </a><br><i>OpenAI</i></td>
            <td class="fixed-width"> <a href="https://arxiv.org/abs/2406.07394">MCT Self-Refine</a> </td>
            <td>49.1 </td>
            
        </tr>
        </tr>
          <tr>
            <td>4<br><small>2024</small></td>
            <td class="fixed-width"><a href="#">GPT-4 Turbo (gpt-4-turbo-2024-04-09)</a><br><i>OpenAI</i></td>
            <td class="fixed-width"> <a href="https://arxiv.org/abs/2201.11903">CoT</a> </td>
            <td>47.0 </td>
            
        </tr>
        <tr>
          <td>4<br><small>2024</small></td>
          <td class="fixed-width"><a href="https://arxiv.org/abs/2309.16609">Qwen2-72B-Instruct</a><br><i>Qwen Team, Alibaba Group</i></td>
          <td class="fixed-width"> - </td>
          <td>47.0 </td>
          
      </tr>
          <tr>
              <td>6<br><small>June, 2024</small></td>
              <td class="fixed-width"><a href="https://arxiv.org/abs/2403.05530">Gemini 1.5 Pro</a><br><i>Gemini Team, Google</i></td>
              <td class="fixed-width">-</td>
              <td>45.0 </td>
              
          </tr>
      
        </tbody>
      </table>
    
      <hr>
      <!-- Buttons -->
      <h2>Data Explorer</h2>
      <div class="radio-group text-center mb-3">
        <input type="radio" name="contentGroup" id="competitionRadio" value="competition" checked>
        <label for="competitionRadio">Competition</label>
        <input type="radio" name="contentGroup" id="difficultyRadio" value="difficulty">
        <label for="difficultyRadio">Difficulty</label>
        <input type="radio" name="contentGroup" id="domainRadio" value="domain">
        <label for="domainRadio">Domain</label>
      </div>
      <div class="buttons text-center mb-3" id="competitionButtons">
        <button type="button" class="btn btn-primary" data="source_team_selection_test"> source_team_selection_test </button>
        <button type="button" class="btn btn-light" data="source_china_national_olympiad"> source_china_national_olympiad </button>
        <button type="button" class="btn btn-light" data="source_jbmo"> source_jbmo </button>
        <button type="button" class="btn btn-light" data="source_usamo"> source_usamo </button>
        <button type="button" class="btn btn-light" data="source_usajmo"> source_usajmo </button>
        <button type="button" class="btn btn-light" data="source_hmmt"> source_hmmt </button>
        <button type="button" class="btn btn-light" data="source_apmo"> source_apmo </button>
        <button type="button" class="btn btn-light" data="source_imc"> source_imc </button>
        <button type="button" class="btn btn-light" data="source_izho"> source_izho </button>
        <button type="button" class="btn btn-light" data="source_balkan_mo"> source_balkan_mo </button>
        <button type="button" class="btn btn-light" data="source_baltic_way"> source_baltic_way </button>
        <button type="button" class="btn btn-light" data="source_tot"> source_tot </button>
        <button type="button" class="btn btn-light" data="source_imo"> source_imo </button>
        <button type="button" class="btn btn-light" data="source_putnam"> source_putnam </button>
        <!-- Add more buttons as needed -->
      </div>
      <div  class="buttons text-center mb-3" id="difficultyButtons">
        <button type="button" class="btn btn-primary" data="difficulty_1_3"> difficulty_1_3 </button>
        <button type="button" class="btn btn-light" data="difficulty_3_5"> difficulty_3_5 </button>
        <button type="button" class="btn btn-light" data="difficulty_5_7"> difficulty_5_7 </button>
        <button type="button" class="btn btn-light" data="difficulty_7_10"> difficulty_7_10 </button>
      </div>
      <div id="domainButtons" class="drop">
      <div class="dropdown" >
        <button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          一级下拉框
        </button>
        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
          <!-- 一级下拉框的选项 -->
          <a class="dropdown-item" href="#" data-value="minerva_math_Alge_tion">Algebra 1</a>
          <a class="dropdown-item" href="#" data-value="minerva_math_Alge_math">Algebra 2</a>
          <!-- 更多选项... -->
        </div>
      </div>
      
      <div class="dropdown">
        <button class="btn btn-light dropdown-toggle" type="button" id="secondDropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          二级下拉框
        </button>
          <div class="dropdown-menu" aria-labelledby="secondDropdownMenuButton" id="minerva_math_Alge_tion">
            <!-- 二级下拉框的选项将根据一级下拉框的选择动态更新 -->
            <a class="dropdown-item" href="#" data-value="111">Algebra 3</a>
            <a class="dropdown-item" href="#" data-value="222">Algebra 4</a>
        </div>
        <div class="dropdown-menu" aria-labelledby="secondDropdownMenuButton" id="minerva_math_Alge_math">
          <!-- 二级下拉框的选项将根据一级下拉框的选择动态更新 -->
          <a class="dropdown-item" href="#" data-value="111">Algebra 3</a>
          <a class="dropdown-item" href="#" data-value="222">Algebra 4</a>
      </div>
        
      </div>
    </div>
      <!-- Scrollable Content Area -->
      <div class="scrollable-div">
        <table class="table">
          <tr>
            <td class="left-col">
              <b>PROBLEM SOURCE</b>
            </td>
            <td id="problemSource">MATH Algebra Level 1</td>
          </tr>
          <tr>
            <td class="left-col"><b>QUESTION</b></td>
            <td id="question">
              If a drip of water is equivalent to $\frac{1}{4}$ of a milliliter,
              how many drips are in a liter of water? Note: 1 liter = 1000
              milliliters.
            </td>
          </tr>
          <!--
          <tr>
            <td class="left-col">
              <b
                >LLEMMA 34B<br /><small
                  >Answers sampled using
                  <a href="https://arxiv.org/abs/2203.11171"
                    >self-consistency</a
                  >
                  with $k=256$.</small
                ></b
              >
            </td>
            <td id="modelAnswer">
              We know that 1 liter of water is equivalent to 1000 milliliters.
              Since 1 milliliter is equivalent to 4 drips, we have that 1000
              milliliters is equivalent to $4\cdot1000=4000$ drips. Therefore,
              the answer is $\boxed{4000}$. Final Answer: The final answer is
              $4000$.
            </td>
          </tr>
          <tr class="fade-in">
            <td class="left-col">
              <b
                >EVALUATION RESULT<br /><small
                  >Automatic evaluation results are sometimes inaccurate.</small
                ></b
              >
            </td>
            <td id="result">Correct</td>
          </tr>
        -->
          <tr>
            <td class="left-col">
              <b>REFERENCE ANSWER</b>
            </td>
            <td id="referenceAnswer">
              If a drip of water is equivalent to $\frac{1}{4}$ of a milliliter,
              then $4$ drips of water must be equivalent to $1$ milliliter of
              water. Since there are $1000$ milliliters in a liter, it follows
              that there are $4 \times 1000 = \boxed{4000}$ drips in a liter of
              water.
            </td>
          </tr>
        </table>
      </div>

      <!-- Key -->
      <!-- <div class="key mt-3 text-center">
        <span class="key-item correct">Correct</span>
        <span class="key-item incorrect">Incorrect</span>
      </div> -->

      <div class="navigation-buttons text-center mt-3">
        <button type="button" id="leftButton" class="btn btn-secondary">
          &lt;&lt;
        </button>
        <button type="button" id="rightButton" class="btn btn-secondary">
          &gt;&gt;
        </button>
        <div class="mt-2">
          <span id="currentPage">1</span> / <span id="totalPages">4</span>
        </div>
      </div>

      <!-- Footer -->
      <div class="footer text-center mt-3">
      This site is heavily inspired by the
        <a href="https://minerva-demo.github.io">Minerva sample explorer</a> and Llemma.
      </div>

    </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="samples_gen.js"></script>
    <script src="source.js"></script>
    <script src="difficulty.js"></script>

    <script>
      $(document).ready(function () {
        $('#domainButtons').on('click', '.dropdown-item', function(event) {
        event.preventDefault();
        var $target = $(event.target);
        var text = $target.text().trim(); // 获取选中的文本
        var value = $target.data('value'); // 获取data-value属性
        var final_selest = "";
        // 检查点击的是哪个下拉框的选项
        if ($target.closest('.dropdown-menu').attr('aria-labelledby') === 'dropdownMenuButton') {
            final_selest = "";
            // 点击的是一级下拉框的选项
            // 更新一级下拉框按钮的文本
            $('#dropdownMenuButton').text(text);
            final_selest = text;
            // 隐藏所有二级下拉框
            $('.dropdown-menu[id]').removeClass('show');

            // 显示对应的二级下拉框
            $('#' + value).addClass('show');
        } else {
          console.log("hhhhhh")
            // 点击的是二级下拉框的选项
            // 找到点击的是哪个二级下拉框，并更新对应按钮的文本
            var secondMenuId = $target.closest('.dropdown-menu').attr('id');
            var buttonId = 'secondDropdownMenuButton'; // 假设所有二级下拉框按钮的ID是固定的
            $('#' + buttonId).text(text);
            $('.dropdown-menu[id]').removeClass('show');
            // 这里可以添加其他需要的逻辑，例如处理选中的值
            console.log('Selected value in ' + secondMenuId + ': ' + value);
            final_selest = final_selest+value;
            console.log("这里是下拉框的选择")
            console.log(final_selest)
            // changeSubject()
        }
    });
      $('input[name="contentGroup"]').change(function() {
      var selectedValue = $(this).val();
      $('#competitionButtons, #difficultyButtons, #domainButtons').hide(); // 首先隐藏所有按钮组
      $('#' + selectedValue + 'Buttons').show(); // 然后显示选中的按钮组
    });
        let currentPage = 1;
        let totalPages = 4;
        // let correctColor = "#f5f5f5";
        let correctColor = "#B4F3BC";
        let incorrectColor = "#FFD5D5";
        let typingInterval; // outside of the function, to store the interval ID
        let isTyping = false;
        changeSubject("source_team_selection_test");

        function changeSubject(subject) {
          console.log(subject)
          curSubject = subject;
          if(curSubject.includes("source_")){
            data = SOURCE_DATA[curSubject];
          }
          else if(curSubject.includes("difficulty")){
            data =  D_DATA[curSubject]
          }
          console.log(data)
          totalPages = data.length;
          $("#totalPages").text(totalPages);
          currentPage = 1;
          $("#currentPage").text(currentPage);
          updateData(currentPage);
          updateButtonStatus();
        }

        function updateData(idx) {
          idx = idx - 1;
          $("#problemSource").text(data[idx]["source"]);
          $("#question").text(data[idx]["problem"]);
          console.log(data[idx]["problem"])
          // $(".fade-in").removeClass("visible");
          var reference_answer = data[idx]["solution"]
          // 将公式包装在MathJax可以识别的$...$中，以触发公式渲染
          // reference_answer = "$" + reference_answer + "$";
          console.log(reference_answer)
          // 将公式作为文本插入，避免HTML解析
          $("#referenceAnswer").text(reference_answer);

          // 延迟渲染，确保MathJax在DOM更新后渲染公式
          MathJax.typesetPromise([document.getElementById('referenceAnswer')]);
          // replace \n with <br> for model answer
          //model_answer = data[idx]["model_answer"].replace(/\n/g, "<br>");
          //$("#modelAnswer").html(model_answer);
          //if (data[idx]["result"] == "Correct") {
          //  $("#result").text("✅ " + data[idx]["result"]);
          //  $("#modelAnswer").css("background-color", correctColor);
          //} else {
          //  $("#result").text("❌ " + data[idx]["result"]);
          //  $("#modelAnswer").css("background-color", incorrectColor);
          //}
          $(".fade-in").addClass("visible");
          MathJax.typesetPromise();
        }

        function updateButtonStatus() {
          // Disable the left button if at the beginning
          if (currentPage <= 1) {
            $("#leftButton").prop("disabled", true);
          } else {
            $("#leftButton").prop("disabled", false);
          }

          // Disable the right button if at the end
          if (currentPage >= totalPages) {
            $("#rightButton").prop("disabled", true);
          } else {
            $("#rightButton").prop("disabled", false);
          }
        }

        // Initial button status update
        updateButtonStatus();

        $("#leftButton").click(function () {
          if (currentPage > 1) {
            currentPage--;
            $("#currentPage").text(currentPage);
            updateData(currentPage);
          }
          updateButtonStatus();
        });

        $("#rightButton").click(function () {
          if (currentPage < totalPages) {
            currentPage++;
            $("#currentPage").text(currentPage);
            updateData(currentPage);
          }
          updateButtonStatus();
        });

        $(document).keydown(function (e) {
          switch (e.which) {
            case 37: // left arrow key
              if (currentPage > 1) {
                currentPage--;
                $("#currentPage").text(currentPage);
                updateData(currentPage);
              }
              updateButtonStatus();
              break;

            case 39: // right arrow key
              if (currentPage < totalPages) {
                currentPage++;
                $("#currentPage").text(currentPage);
                updateData(currentPage);
              }
              updateButtonStatus();
              break;

            default:
              return; // exit this handler for other keys
          }
          e.preventDefault(); // prevent the default action (scroll / move caret)
        });

        $(".buttons button").click(function () {
          // Revert all buttons to .btn-light class
          $(".buttons button").removeClass("btn-primary").addClass("btn-light");

          // Set the clicked button to .btn-primary class
          $(this).removeClass("btn-light").addClass("btn-primary");

          // get the "data" attribute of this
          let subject = $(this).attr("data");
          console.log(subject);

          changeSubject(subject);
        });
      });
    </script>
    </section>
  </body>
</html>
